/*! For license information please see 173.50050941.js.LICENSE.txt */
(self.webpackChunkweb=self.webpackChunkweb||[]).push([[173],{6673:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>qe});var r,i=n(5861),o=n(5671),s=n(3144),a=n(136),l=n(2963),u=n(1120),c=n(4942),d=n(5405),h=n(2982),f=n(2003),p=n.n(f);function g(){if(!d.Platform.isDOMAvailable)return null;var e=_();return e.sheet?e.sheet:null}function m(e,t){return function(){var e=g();if(e){for(var t=(0,h.default)(e.cssRules),n=[],r=0;r<t.length;r++){var i=t[r];i instanceof CSSFontFaceRule&&n.push({rule:i,index:r})}return n}return[]}().filter((function(n){var r=n.rule;return r.style.fontFamily===e&&(!t||!t.display||t.display===r.style.fontDisplay)}))}!function(e){e.AUTO="auto",e.SWAP="swap",e.BLOCK="block",e.FALLBACK="fallback",e.OPTIONAL="optional"}(r||(r={}));const v={get name(){return"ExpoFontLoader"},unloadAllAsync:function(){var e=(0,i.default)((function*(){if(d.Platform.isDOMAvailable){var e=document.getElementById(y);e&&e instanceof HTMLStyleElement&&document.removeChild(e)}}));return function(){return e.apply(this,arguments)}}(),unloadAsync:function(){var e=(0,i.default)((function*(e,t){var n=g();if(n){var r=m(e,t);for(var i of r)n.deleteRule(i.index)}}));return function(t,n){return e.apply(this,arguments)}}(),loadAsync:function(){var e=(0,i.default)((function*(e,t){if(d.Platform.isDOMAvailable){if(!(document.head&&"function"===typeof document.head.appendChild))throw new d.CodedError("ERR_WEB_ENVIRONMENT","The browser's `document.head` element doesn't support injecting fonts.");var n=function(e,t){var n=`@font-face {\n    font-family: ${e};\n    src: url(${t.uri});\n    font-display: ${t.display||r.AUTO};\n  }`,i=_();if(i.styleSheet){var o=i;o.styleSheet.cssText=o.styleSheet.cssText?o.styleSheet.cssText+n:n}else{var s=document.createTextNode(n);i.appendChild(s)}return i}(e,t);if(document.head.appendChild(n),function(){var e=window.navigator.userAgent,t=!!e.match(/iPad|iPhone/i),n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=e.includes("Edge"),i=e.includes("Trident"),o=e.includes("Firefox");return!n&&!t&&!r&&!i&&!o}())return new(p())(e,{display:t.display}).load()}}));return function(t,n){return e.apply(this,arguments)}}()};var y="expo-generated-fonts";function _(){var e=document.getElementById(y);if(e&&e instanceof HTMLStyleElement)return e;var t=document.createElement("style");return t.id=y,t.type="text/css",t}var b=n(1966),w=n(9042),S=n.n(w),k=n(4620),E=n(9885),C=n.n(E);function I(e){var t=T.pickScale(e.scales,k.default.get()),n=1===t?"":"@"+t+"x",r=e.type?`.${e.type}`:"";return e.httpServerLocation.replace(/\.\.\//g,"_")+"/"+e.name+n+r}var T=function(){function e(t,n,r){(0,o.default)(this,e),this.serverUrl=t||"https://expo.dev",this.jsbundleUrl=null,this.asset=r}return(0,s.default)(e,[{key:"isLoadedFromServer",value:function(){return!0}},{key:"isLoadedFromFileSystem",value:function(){return!1}},{key:"defaultAsset",value:function(){return this.assetServerURL()}},{key:"assetServerURL",value:function(){var e=new URL(I(this.asset),this.serverUrl);return e.searchParams.set("platform",d.Platform.OS),e.searchParams.set("hash",this.asset.hash),this.fromSource(e.toString().replace(e.origin,""))}},{key:"fromSource",value:function(t){var n,r;return{__packager_asset:!0,width:null!=(n=this.asset.width)?n:void 0,height:null!=(r=this.asset.height)?r:void 0,uri:t,scale:e.pickScale(this.asset.scales,k.default.get())}}}],[{key:"pickScale",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n]>=t)return e[n];return e[e.length-1]||1}}]),e}(),R=null;function x(){return(x=(0,i.default)((function*(e,t,n,r){return e}))).apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A,N={}.assetMapOverride;function D(e){if(!R)return e;if(""!==new(C())(e).protocol)return e;var t=new(C())(R),n=e.startsWith("/")?e:S().join(t.pathname,e);return t.set("pathname",n),t.href}function L(e){var t=new(C())(e,{}).pathname;return t.substring(t.lastIndexOf("/")+1)}function M(e){var t=L(e),n=t.lastIndexOf(".");return n>0?t.substring(n):""}function F(e){A=e}function j(e){if("object"===typeof e)return e;var t=(0,b.getAssetByID)(e);if(t){var n=new T("https://expo.dev",null,t);return A?A(n):n.defaultAsset()}}Object.defineProperty(j,"setCustomSourceTransformer",{get:function(){return F}});T.pickScale;var V=function(){function e(t){var n=t.name,r=t.type,i=t.hash,s=void 0===i?null:i,a=t.uri,l=t.width,u=t.height;(0,o.default)(this,e),this.hash=null,this.localUri=null,this.width=null,this.height=null,this.downloading=!1,this.downloaded=!1,this._downloadCallbacks=[],this.name=n,this.type=r,this.hash=s,this.uri=a,"number"===typeof l&&(this.width=l),"number"===typeof u&&(this.height=u),s&&(this.localUri=null,this.localUri&&(this.downloaded=!0)),"web"===d.Platform.OS&&(n||(this.name=L(a)),r||(this.type=M(a)))}return(0,s.default)(e,[{key:"downloadAsync",value:function(){var e=(0,i.default)((function*(){var e,t,n=this;if(this.downloaded)return this;if(this.downloading)return yield new Promise((function(e,t){n._downloadCallbacks.push({resolve:e,reject:t})})),this;this.downloading=!0;try{if("web"===d.Platform.OS)if(t=this.type,/^(jpeg|jpg|gif|png|bmp|webp|heic)$/i.test(t)){var r=yield(e=this.uri,d.Platform.isDOMAvailable?new Promise((function(t,n){var r=new Image;r.onerror=n,r.onload=function(){t({name:L(e),width:r.naturalWidth,height:r.naturalHeight})},r.src=e})):Promise.resolve({name:L(e),width:0,height:0})),i=r.width,o=r.height,s=r.name;this.width=i,this.height=o,this.name=s}else this.name=L(this.uri);this.localUri=yield function(e,t,n,r){return x.apply(this,arguments)}(this.uri,this.hash,this.type,this.name),this.downloaded=!0,this._downloadCallbacks.forEach((function(e){return(0,e.resolve)()}))}catch(a){throw this._downloadCallbacks.forEach((function(e){return(0,e.reject)(a)})),a}finally{this.downloading=!1,this._downloadCallbacks=[]}return this}));return function(){return e.apply(this,arguments)}}()}],[{key:"loadAsync",value:function(t){var n=Array.isArray(t)?t:[t];return Promise.all(n.map((function(t){return e.fromModule(t).downloadAsync()})))}},{key:"fromModule",value:function(t){if("string"===typeof t)return e.fromURI(t);var n=(0,b.getAssetByID)(t);if(!n)throw new Error(`Module "${t}" is missing from the asset registry`);var r=j(t).uri,i=new e({name:n.name,type:n.type,hash:n.hash,uri:r,width:n.width,height:n.height});return"android"!==d.Platform.OS||r.includes(":")||!n.width&&!n.height||(i.localUri=i.uri,i.downloaded=!0),e.byHash[n.hash]=i,i}},{key:"fromMetadata",value:function(t){var n=t.hash;if(e.byHash[n])return e.byHash[n];var r=function(e){var t,n;N&&N.hasOwnProperty(e.hash)&&(e=P(P({},e),N[e.hash]));var r=T.pickScale(e.scales,k.default.get()),i=e.scales.findIndex((function(e){return e===r})),o=e.fileHashes?e.fileHashes[i]||e.fileHashes[0]:e.hash,s=e.fileUris?e.fileUris[i]||e.fileUris[0]:e.uri;if(s)return{uri:D(s),hash:o};var a={}.assetUrlOverride;if(a)return{uri:D(S().join(a,o)),hash:o};var l=1===r?"":`@${r}x`,u=e.type?`.${encodeURIComponent(e.type)}`:"",c=`/${encodeURIComponent(e.name)}${l}${u}?platform=${encodeURIComponent(d.Platform.OS)}&hash=${encodeURIComponent(e.hash)}`;if(/^https?:\/\//.test(e.httpServerLocation))return{uri:e.httpServerLocation+c,hash:o};var h={};if(null!=h&&null!=(t=h.extra)&&null!=(n=t.expoGo)&&n.developer){var f=new(C())(`http://${h.extra.expoGo.debuggerHost}`);return f.set("pathname",e.httpServerLocation+c),{uri:f.href,hash:o}}if({}.developer){var p=new(C())({}.bundleUrl);return p.set("pathname",e.httpServerLocation+c),{uri:p.href,hash:o}}return{uri:`https://classic-assets.eascdn.net/~assets/${encodeURIComponent(o)}`,hash:o}}(t),i=r.uri,o=r.hash,s=new e({name:t.name,type:t.type,hash:o,uri:i,width:t.width,height:t.height});return e.byHash[n]=s,s}},{key:"fromURI",value:function(t){if(e.byUri[t])return e.byUri[t];var n="";if(t.indexOf(";base64")>-1)n=t.split(";")[0].split("/")[1];else{var r=M(t);n=r.startsWith(".")?r.substring(1):r}var i=new e({name:"",type:n,hash:null,uri:t});return e.byUri[t]=i,i}}]),e}();function U(e){return"string"===typeof e?e||null:"object"===typeof e?e.uri||e.localUri||e.default||null:"number"===typeof e?U(V.fromModule(e)):null}function B(e){var t=U(e),n=e.display||r.AUTO;return t&&"string"===typeof t||q(t),{uri:t,display:n}}function q(e){var t=typeof e;throw"object"===t&&(t=JSON.stringify(e,null,2)),new d.CodedError("ERR_FONT_SOURCE",`Expected font asset of type \`string | FontResource | Asset\` instead got: ${t}`)}function z(){return(z=(0,i.default)((function*(e,t){("object"!==typeof t||"string"!==typeof t.uri||t.downloadAsync)&&q(t),yield v.loadAsync(e,t)}))).apply(this,arguments)}V.byHash={},V.byUri={};var H={},W={};function $(e){return e in H}function K(e,t){return G.apply(this,arguments)}function G(){return(G=(0,i.default)((function*(e,t){if("object"!==typeof e)return yield Q(e,t);if(t)throw new d.CodedError("ERR_FONT_API",`No fontFamily can be used for the provided source: ${t}. The second argument of \`loadAsync()\` can only be used with a \`string\` value as the first argument.`);var n=e,r=Object.keys(n);yield Promise.all(r.map((function(e){return Q(e,n[e])})))}))).apply(this,arguments)}function Q(e,t){return Y.apply(this,arguments)}function Y(){return Y=(0,i.default)((function*(e,t){if(!t)throw new d.CodedError("ERR_FONT_SOURCE",`Cannot load null or undefined font source: { "${e}": ${t} }. Expected asset of type \`FontSource\` for fontFamily of name: "${e}"`);if(!H[e]){if(W.hasOwnProperty(e))return W[e];var n=B(t);W[e]=(0,i.default)((function*(){try{yield function(e,t){return z.apply(this,arguments)}(e,n),H[e]=!0}finally{delete W[e]}}))(),yield W[e]}})),Y.apply(this,arguments)}var X=n(9),J=n(8409),Z=n(5987),ee=n(514),te=n(726),ne=n(5490),re=ee.default.RNVectorIconsManager||ee.default.RNVectorIconsModule;function ie(){if(!re){if("android"===te.default.OS)throw new Error("RNVectorIconsModule not available, did you properly integrate the module? Try running `react-native link react-native-vector-icons` and recompiling.");throw new Error("RNVectorIconsManager not available, did you add the library to your project and link with libRNVectorIcons.a? Try running `react-native link react-native-vector-icons` and recompiling.")}}var oe="value",se="error";var ae=n(3331),le=n(7462),ue=n(3366),ce=n(6067),de=n(4640),he=n(264),fe=n(6873),pe=["activeOpacity","children","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onHideUnderlay","onLongPress","onPress","onPressIn","onPressOut","onShowUnderlay","rejectResponderTermination","style","testOnly_pressed","underlayColor"];function ge(e,t){return{child:{opacity:null!==e&&void 0!==e?e:.85},underlay:{backgroundColor:void 0===t?"black":t}}}function me(e){return null!=e.onPress||null!=e.onPressIn||null!=e.onPressOut||null!=e.onLongPress}var ve=ae.default.create({root:{userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),ye=X.memo(X.forwardRef((function(e,t){(0,fe.warnOnce)("TouchableHighlight","TouchableHighlight is deprecated. Please use Pressable.");var n=e.activeOpacity,r=e.children,i=e.delayPressIn,o=e.delayPressOut,s=e.delayLongPress,a=e.disabled,l=e.focusable,u=e.onHideUnderlay,c=e.onLongPress,d=e.onPress,h=e.onPressIn,f=e.onPressOut,p=e.onShowUnderlay,g=e.rejectResponderTermination,m=e.style,v=e.testOnly_pressed,y=e.underlayColor,_=(0,ue.default)(e,pe),b=(0,X.useRef)(null),w=(0,ce.default)(t,b),S=(0,X.useState)(!0===v?ge(n,y):null),k=S[0],E=S[1],C=(0,X.useCallback)((function(){me(e)&&(E(ge(n,y)),null!=p&&p())}),[n,p,e,y]),I=(0,X.useCallback)((function(){!0!==v&&me(e)&&(E(null),null!=u&&u())}),[u,e,v]),T=(0,X.useMemo)((function(){return{cancelable:!g,disabled:a,delayLongPress:s,delayPressStart:i,delayPressEnd:o,onLongPress:c,onPress:d,onPressStart:function(e){C(),null!=h&&h(e)},onPressEnd:function(e){I(),null!=f&&f(e)}}}),[s,i,o,a,c,d,h,f,g,C,I]),R=(0,de.default)(b,T),x=X.Children.only(r);return X.createElement(he.default,(0,le.default)({},_,R,{accessibilityDisabled:a,focusable:!a&&!1!==l,pointerEvents:a?"box-none":void 0,ref:w,style:[ve.root,m,!a&&ve.actionable,k&&k.underlay]}),X.cloneElement(x,{style:[x.props.style,k&&k.child]}))})));ye.displayName="TouchableHighlight";const _e=ye;var be=n(8674),we=n(784),Se=["style","iconStyle","children"];function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var Ie=ae.default.create({container:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:8},touchable:{overflow:"hidden"},icon:{marginRight:10},text:{fontWeight:"600",backgroundColor:"transparent"}}),Te="#007AFF",Re=["ellipsizeMode","numberOfLines","textBreakStrategy","selectable","suppressHighlighting","allowFontScaling","adjustsFontSizeToFit","minimumFontScale"],xe=["accessible","accessibilityLabel","accessibilityHint","accessibilityComponentType","accessibilityRole","accessibilityStates","accessibilityTraits","onFocus","onBlur","disabled","onPress","onPressIn","onPressOut","onLayout","onLongPress","nativeID","testID","delayPressIn","delayPressOut","delayLongPress","activeOpacity","underlayColor","selectionColor","onShowUnderlay","onHideUnderlay","hasTVPreferredFocus","tvParallaxProperties"];function Oe(e){var t;return t=function(t){(0,a.default)(r,t);var n=Ce(r);function r(){return(0,o.default)(this,r),n.apply(this,arguments)}return(0,s.default)(r,[{key:"render",value:function(){var t=this.props,n=t.style,r=t.iconStyle,i=t.children,o=(0,Z.default)(t,Se),s=(0,be.pick)(o,Re,"style","name","size","color"),a=(0,be.pick)(o,xe),l=(0,be.omit)(o,Object.keys(s),Object.keys(a),"iconStyle","borderRadius","backgroundColor");s.style=r?[Ie.icon,r]:Ie.icon;var u=(0,be.pick)(this.props,"color"),c=(0,be.pick)(this.props,"backgroundColor","borderRadius");return(0,we.jsx)(_e,Ee(Ee({style:[Ie.touchable,c]},a),{},{children:(0,we.jsxs)(he.default,Ee(Ee({style:[Ie.container,c,n]},l),{},{children:[(0,we.jsx)(e,Ee({},s)),"string"===typeof i?(0,we.jsx)(J.default,{style:[Ie.text,u],selectable:!1,children:i}):i]}))}))}}]),r}(X.PureComponent),t.defaultProps={backgroundColor:Te,borderRadius:5,color:"white",size:20},t}var Pe=["name","size","color","style","children"];function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var Le=ee.default.RNVectorIconsManager||ee.default.RNVectorIconsModule,Me=12,Fe="black";function je(e,t,n,r){var l=n?n.replace(/\.(otf|ttf)$/,""):t,u=te.default.select({windows:`/Assets/${n}#${t}`,android:l,web:l,default:t}),c=function(t){(0,a.default)(i,t);var n=De(i);function i(){var e;(0,o.default)(this,i);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(e=n.call.apply(n,[this].concat(r))).root=null,e.handleRef=function(t){e.root=t},e}return(0,s.default)(i,[{key:"setNativeProps",value:function(e){this.root&&this.root.setNativeProps(e)}},{key:"render",value:function(){var t=this.props,n=t.name,i=t.size,o=t.color,s=t.style,a=t.children,l=(0,Z.default)(t,Pe),c=n?e[n]||"?":"";"number"===typeof c&&(c=String.fromCodePoint(c));var d={fontSize:i,color:o},h={fontFamily:u,fontWeight:"normal",fontStyle:"normal"};return l.style=[d,s,h,r||{}],l.ref=this.handleRef,(0,we.jsxs)(J.default,Ne(Ne({selectable:!1},l),{},{children:[c,a]}))}}]),i}(X.PureComponent);c.defaultProps={size:Me,allowFontScaling:!1};var d=function(){var e=new Map;return{setValue:function(t,n){return e.set(t,{type:oe,data:n})},setError:function(t,n){return e.set(t,{type:se,data:n})},has:function(t){return e.has(t)},get:function(t){if(e.has(t)){var n=e.get(t),r=n.type,i=n.data;if(r===se)throw i;return i}}}}();function f(t){var n=e[t]||"?";return"number"===typeof n?String.fromCodePoint(n):n}function p(){return p=(0,i.default)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe;ie();var r=f(e),i=(0,ne.default)(n),o=`${r}:${t}:${i}`;if(d.has(o))return d.get(o);try{var s={uri:yield Le.getImageForFont(u,r,t,i),scale:k.default.get()};return d.setValue(o,s),s}catch(a){throw d.setError(o,a),a}})),p.apply(this,arguments)}function g(){return g=(0,i.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;if("ios"===te.default.OS){if(ie(),!e)throw new Error("Unable to load font, because no file was specified. ");yield Le.loadFontWithFileName.apply(Le,(0,h.default)(e.split(".")))}})),g.apply(this,arguments)}return c.Button=Oe(c),c.getImageSource=function(e){return p.apply(this,arguments)},c.getImageSourceSync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe;ie();var r=f(e),i=(0,ne.default)(n),o=`${r}:${t}:${i}`;if(d.has(o))return d.get(o);try{var s={uri:Le.getImageForFontSync(u,r,t,i),scale:k.default.get()};return d.setValue(o,s),s}catch(a){throw d.setError(o,a),a}},c.loadFont=function(){return g.apply(this,arguments)},c.hasIcon=function(t){return Object.prototype.hasOwnProperty.call(e,t)},c.getRawGlyphMap=function(){return e},c.getFontFamily=function(){return u},c}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}const Be=n.p+"static/media/FontAwesome.1e59d2330b4c6deb84b3.ttf",qe=function(e,t,n,r){var l,u=(0,c.default)({},t,n),d=je(e,t,null,r);return(l=function(e){(0,a.default)(r,e);var n=Ue(r);function r(){var e;return(0,o.default)(this,r),(e=n.apply(this,arguments))._mounted=!1,e.state={fontIsLoaded:$(t)},e}return(0,s.default)(r,[{key:"componentDidMount",value:function(){var e=(0,i.default)((function*(){this._mounted=!0,this.state.fontIsLoaded||(yield K(u),this._mounted&&this.setState({fontIsLoaded:!0}))}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"setNativeProps",value:function(e){this._icon&&this._icon.setNativeProps(e)}},{key:"render",value:function(){var e=this;return this.state.fontIsLoaded?(0,we.jsx)(d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:function(t){e._icon=t}},this.props)):(0,we.jsx)(J.default,{})}}]),r}(X.Component)).defaultProps=d.defaultProps,l.Button=Oe(l),l.glyphMap=e,l.getRawGlyphMap=function(){return e},l.getFontFamily=function(){return t},l.loadFont=function(){return K(u)},l.font=u,l}(JSON.parse('{"glass":61440,"music":61441,"search":61442,"envelope-o":61443,"heart":61444,"star":61445,"star-o":61446,"user":61447,"film":61448,"th-large":61449,"th":61450,"th-list":61451,"check":61452,"remove":61453,"close":61453,"times":61453,"search-plus":61454,"search-minus":61456,"power-off":61457,"signal":61458,"gear":61459,"cog":61459,"trash-o":61460,"home":61461,"file-o":61462,"clock-o":61463,"road":61464,"download":61465,"arrow-circle-o-down":61466,"arrow-circle-o-up":61467,"inbox":61468,"play-circle-o":61469,"rotate-right":61470,"repeat":61470,"refresh":61473,"list-alt":61474,"lock":61475,"flag":61476,"headphones":61477,"volume-off":61478,"volume-down":61479,"volume-up":61480,"qrcode":61481,"barcode":61482,"tag":61483,"tags":61484,"book":61485,"bookmark":61486,"print":61487,"camera":61488,"font":61489,"bold":61490,"italic":61491,"text-height":61492,"text-width":61493,"align-left":61494,"align-center":61495,"align-right":61496,"align-justify":61497,"list":61498,"dedent":61499,"outdent":61499,"indent":61500,"video-camera":61501,"photo":61502,"image":61502,"picture-o":61502,"pencil":61504,"map-marker":61505,"adjust":61506,"tint":61507,"edit":61508,"pencil-square-o":61508,"share-square-o":61509,"check-square-o":61510,"arrows":61511,"step-backward":61512,"fast-backward":61513,"backward":61514,"play":61515,"pause":61516,"stop":61517,"forward":61518,"fast-forward":61520,"step-forward":61521,"eject":61522,"chevron-left":61523,"chevron-right":61524,"plus-circle":61525,"minus-circle":61526,"times-circle":61527,"check-circle":61528,"question-circle":61529,"info-circle":61530,"crosshairs":61531,"times-circle-o":61532,"check-circle-o":61533,"ban":61534,"arrow-left":61536,"arrow-right":61537,"arrow-up":61538,"arrow-down":61539,"mail-forward":61540,"share":61540,"expand":61541,"compress":61542,"plus":61543,"minus":61544,"asterisk":61545,"exclamation-circle":61546,"gift":61547,"leaf":61548,"fire":61549,"eye":61550,"eye-slash":61552,"warning":61553,"exclamation-triangle":61553,"plane":61554,"calendar":61555,"random":61556,"comment":61557,"magnet":61558,"chevron-up":61559,"chevron-down":61560,"retweet":61561,"shopping-cart":61562,"folder":61563,"folder-open":61564,"arrows-v":61565,"arrows-h":61566,"bar-chart-o":61568,"bar-chart":61568,"twitter-square":61569,"facebook-square":61570,"camera-retro":61571,"key":61572,"gears":61573,"cogs":61573,"comments":61574,"thumbs-o-up":61575,"thumbs-o-down":61576,"star-half":61577,"heart-o":61578,"sign-out":61579,"linkedin-square":61580,"thumb-tack":61581,"external-link":61582,"sign-in":61584,"trophy":61585,"github-square":61586,"upload":61587,"lemon-o":61588,"phone":61589,"square-o":61590,"bookmark-o":61591,"phone-square":61592,"twitter":61593,"facebook-f":61594,"facebook":61594,"github":61595,"unlock":61596,"credit-card":61597,"feed":61598,"rss":61598,"hdd-o":61600,"bullhorn":61601,"bell":61683,"certificate":61603,"hand-o-right":61604,"hand-o-left":61605,"hand-o-up":61606,"hand-o-down":61607,"arrow-circle-left":61608,"arrow-circle-right":61609,"arrow-circle-up":61610,"arrow-circle-down":61611,"globe":61612,"wrench":61613,"tasks":61614,"filter":61616,"briefcase":61617,"arrows-alt":61618,"group":61632,"users":61632,"chain":61633,"link":61633,"cloud":61634,"flask":61635,"cut":61636,"scissors":61636,"copy":61637,"files-o":61637,"paperclip":61638,"save":61639,"floppy-o":61639,"square":61640,"navicon":61641,"reorder":61641,"bars":61641,"list-ul":61642,"list-ol":61643,"strikethrough":61644,"underline":61645,"table":61646,"magic":61648,"truck":61649,"pinterest":61650,"pinterest-square":61651,"google-plus-square":61652,"google-plus":61653,"money":61654,"caret-down":61655,"caret-up":61656,"caret-left":61657,"caret-right":61658,"columns":61659,"unsorted":61660,"sort":61660,"sort-down":61661,"sort-desc":61661,"sort-up":61662,"sort-asc":61662,"envelope":61664,"linkedin":61665,"rotate-left":61666,"undo":61666,"legal":61667,"gavel":61667,"dashboard":61668,"tachometer":61668,"comment-o":61669,"comments-o":61670,"flash":61671,"bolt":61671,"sitemap":61672,"umbrella":61673,"paste":61674,"clipboard":61674,"lightbulb-o":61675,"exchange":61676,"cloud-download":61677,"cloud-upload":61678,"user-md":61680,"stethoscope":61681,"suitcase":61682,"bell-o":61602,"coffee":61684,"cutlery":61685,"file-text-o":61686,"building-o":61687,"hospital-o":61688,"ambulance":61689,"medkit":61690,"fighter-jet":61691,"beer":61692,"h-square":61693,"plus-square":61694,"angle-double-left":61696,"angle-double-right":61697,"angle-double-up":61698,"angle-double-down":61699,"angle-left":61700,"angle-right":61701,"angle-up":61702,"angle-down":61703,"desktop":61704,"laptop":61705,"tablet":61706,"mobile-phone":61707,"mobile":61707,"circle-o":61708,"quote-left":61709,"quote-right":61710,"spinner":61712,"circle":61713,"mail-reply":61714,"reply":61714,"github-alt":61715,"folder-o":61716,"folder-open-o":61717,"smile-o":61720,"frown-o":61721,"meh-o":61722,"gamepad":61723,"keyboard-o":61724,"flag-o":61725,"flag-checkered":61726,"terminal":61728,"code":61729,"mail-reply-all":61730,"reply-all":61730,"star-half-empty":61731,"star-half-full":61731,"star-half-o":61731,"location-arrow":61732,"crop":61733,"code-fork":61734,"unlink":61735,"chain-broken":61735,"question":61736,"info":61737,"exclamation":61738,"superscript":61739,"subscript":61740,"eraser":61741,"puzzle-piece":61742,"microphone":61744,"microphone-slash":61745,"shield":61746,"calendar-o":61747,"fire-extinguisher":61748,"rocket":61749,"maxcdn":61750,"chevron-circle-left":61751,"chevron-circle-right":61752,"chevron-circle-up":61753,"chevron-circle-down":61754,"html5":61755,"css3":61756,"anchor":61757,"unlock-alt":61758,"bullseye":61760,"ellipsis-h":61761,"ellipsis-v":61762,"rss-square":61763,"play-circle":61764,"ticket":61765,"minus-square":61766,"minus-square-o":61767,"level-up":61768,"level-down":61769,"check-square":61770,"pencil-square":61771,"external-link-square":61772,"share-square":61773,"compass":61774,"toggle-down":61776,"caret-square-o-down":61776,"toggle-up":61777,"caret-square-o-up":61777,"toggle-right":61778,"caret-square-o-right":61778,"euro":61779,"eur":61779,"gbp":61780,"dollar":61781,"usd":61781,"rupee":61782,"inr":61782,"cny":61783,"rmb":61783,"yen":61783,"jpy":61783,"ruble":61784,"rouble":61784,"rub":61784,"won":61785,"krw":61785,"bitcoin":61786,"btc":61786,"file":61787,"file-text":61788,"sort-alpha-asc":61789,"sort-alpha-desc":61790,"sort-amount-asc":61792,"sort-amount-desc":61793,"sort-numeric-asc":61794,"sort-numeric-desc":61795,"thumbs-up":61796,"thumbs-down":61797,"youtube-square":61798,"youtube":61799,"xing":61800,"xing-square":61801,"youtube-play":61802,"dropbox":61803,"stack-overflow":61804,"instagram":61805,"flickr":61806,"adn":61808,"bitbucket":61809,"bitbucket-square":61810,"tumblr":61811,"tumblr-square":61812,"long-arrow-down":61813,"long-arrow-up":61814,"long-arrow-left":61815,"long-arrow-right":61816,"apple":61817,"windows":61818,"android":61819,"linux":61820,"dribbble":61821,"skype":61822,"foursquare":61824,"trello":61825,"female":61826,"male":61827,"gittip":61828,"gratipay":61828,"sun-o":61829,"moon-o":61830,"archive":61831,"bug":61832,"vk":61833,"weibo":61834,"renren":61835,"pagelines":61836,"stack-exchange":61837,"arrow-circle-o-right":61838,"arrow-circle-o-left":61840,"toggle-left":61841,"caret-square-o-left":61841,"dot-circle-o":61842,"wheelchair":61843,"vimeo-square":61844,"turkish-lira":61845,"try":61845,"plus-square-o":61846,"space-shuttle":61847,"slack":61848,"envelope-square":61849,"wordpress":61850,"openid":61851,"institution":61852,"bank":61852,"university":61852,"mortar-board":61853,"graduation-cap":61853,"yahoo":61854,"google":61856,"reddit":61857,"reddit-square":61858,"stumbleupon-circle":61859,"stumbleupon":61860,"delicious":61861,"digg":61862,"pied-piper-pp":61863,"pied-piper-alt":61864,"drupal":61865,"joomla":61866,"language":61867,"fax":61868,"building":61869,"child":61870,"paw":61872,"spoon":61873,"cube":61874,"cubes":61875,"behance":61876,"behance-square":61877,"steam":61878,"steam-square":61879,"recycle":61880,"automobile":61881,"car":61881,"cab":61882,"taxi":61882,"tree":61883,"spotify":61884,"deviantart":61885,"soundcloud":61886,"database":61888,"file-pdf-o":61889,"file-word-o":61890,"file-excel-o":61891,"file-powerpoint-o":61892,"file-photo-o":61893,"file-picture-o":61893,"file-image-o":61893,"file-zip-o":61894,"file-archive-o":61894,"file-sound-o":61895,"file-audio-o":61895,"file-movie-o":61896,"file-video-o":61896,"file-code-o":61897,"vine":61898,"codepen":61899,"jsfiddle":61900,"life-bouy":61901,"life-buoy":61901,"life-saver":61901,"support":61901,"life-ring":61901,"circle-o-notch":61902,"ra":61904,"resistance":61904,"rebel":61904,"ge":61905,"empire":61905,"git-square":61906,"git":61907,"y-combinator-square":61908,"yc-square":61908,"hacker-news":61908,"tencent-weibo":61909,"qq":61910,"wechat":61911,"weixin":61911,"send":61912,"paper-plane":61912,"send-o":61913,"paper-plane-o":61913,"history":61914,"circle-thin":61915,"header":61916,"paragraph":61917,"sliders":61918,"share-alt":61920,"share-alt-square":61921,"bomb":61922,"soccer-ball-o":61923,"futbol-o":61923,"tty":61924,"binoculars":61925,"plug":61926,"slideshare":61927,"twitch":61928,"yelp":61929,"newspaper-o":61930,"wifi":61931,"calculator":61932,"paypal":61933,"google-wallet":61934,"cc-visa":61936,"cc-mastercard":61937,"cc-discover":61938,"cc-amex":61939,"cc-paypal":61940,"cc-stripe":61941,"bell-slash":61942,"bell-slash-o":61943,"trash":61944,"copyright":61945,"at":61946,"eyedropper":61947,"paint-brush":61948,"birthday-cake":61949,"area-chart":61950,"pie-chart":61952,"line-chart":61953,"lastfm":61954,"lastfm-square":61955,"toggle-off":61956,"toggle-on":61957,"bicycle":61958,"bus":61959,"ioxhost":61960,"angellist":61961,"cc":61962,"shekel":61963,"sheqel":61963,"ils":61963,"meanpath":61964,"buysellads":61965,"connectdevelop":61966,"dashcube":61968,"forumbee":61969,"leanpub":61970,"sellsy":61971,"shirtsinbulk":61972,"simplybuilt":61973,"skyatlas":61974,"cart-plus":61975,"cart-arrow-down":61976,"diamond":61977,"ship":61978,"user-secret":61979,"motorcycle":61980,"street-view":61981,"heartbeat":61982,"venus":61985,"mars":61986,"mercury":61987,"intersex":61988,"transgender":61988,"transgender-alt":61989,"venus-double":61990,"mars-double":61991,"venus-mars":61992,"mars-stroke":61993,"mars-stroke-v":61994,"mars-stroke-h":61995,"neuter":61996,"genderless":61997,"facebook-official":62000,"pinterest-p":62001,"whatsapp":62002,"server":62003,"user-plus":62004,"user-times":62005,"hotel":62006,"bed":62006,"viacoin":62007,"train":62008,"subway":62009,"medium":62010,"yc":62011,"y-combinator":62011,"optin-monster":62012,"opencart":62013,"expeditedssl":62014,"battery-4":62016,"battery":62016,"battery-full":62016,"battery-3":62017,"battery-three-quarters":62017,"battery-2":62018,"battery-half":62018,"battery-1":62019,"battery-quarter":62019,"battery-0":62020,"battery-empty":62020,"mouse-pointer":62021,"i-cursor":62022,"object-group":62023,"object-ungroup":62024,"sticky-note":62025,"sticky-note-o":62026,"cc-jcb":62027,"cc-diners-club":62028,"clone":62029,"balance-scale":62030,"hourglass-o":62032,"hourglass-1":62033,"hourglass-start":62033,"hourglass-2":62034,"hourglass-half":62034,"hourglass-3":62035,"hourglass-end":62035,"hourglass":62036,"hand-grab-o":62037,"hand-rock-o":62037,"hand-stop-o":62038,"hand-paper-o":62038,"hand-scissors-o":62039,"hand-lizard-o":62040,"hand-spock-o":62041,"hand-pointer-o":62042,"hand-peace-o":62043,"trademark":62044,"registered":62045,"creative-commons":62046,"gg":62048,"gg-circle":62049,"tripadvisor":62050,"odnoklassniki":62051,"odnoklassniki-square":62052,"get-pocket":62053,"wikipedia-w":62054,"safari":62055,"chrome":62056,"firefox":62057,"opera":62058,"internet-explorer":62059,"tv":62060,"television":62060,"contao":62061,"500px":62062,"amazon":62064,"calendar-plus-o":62065,"calendar-minus-o":62066,"calendar-times-o":62067,"calendar-check-o":62068,"industry":62069,"map-pin":62070,"map-signs":62071,"map-o":62072,"map":62073,"commenting":62074,"commenting-o":62075,"houzz":62076,"vimeo":62077,"black-tie":62078,"fonticons":62080,"reddit-alien":62081,"edge":62082,"credit-card-alt":62083,"codiepie":62084,"modx":62085,"fort-awesome":62086,"usb":62087,"product-hunt":62088,"mixcloud":62089,"scribd":62090,"pause-circle":62091,"pause-circle-o":62092,"stop-circle":62093,"stop-circle-o":62094,"shopping-bag":62096,"shopping-basket":62097,"hashtag":62098,"bluetooth":62099,"bluetooth-b":62100,"percent":62101,"gitlab":62102,"wpbeginner":62103,"wpforms":62104,"envira":62105,"universal-access":62106,"wheelchair-alt":62107,"question-circle-o":62108,"blind":62109,"audio-description":62110,"volume-control-phone":62112,"braille":62113,"assistive-listening-systems":62114,"asl-interpreting":62115,"american-sign-language-interpreting":62115,"deafness":62116,"hard-of-hearing":62116,"deaf":62116,"glide":62117,"glide-g":62118,"signing":62119,"sign-language":62119,"low-vision":62120,"viadeo":62121,"viadeo-square":62122,"snapchat":62123,"snapchat-ghost":62124,"snapchat-square":62125,"pied-piper":62126,"first-order":62128,"yoast":62129,"themeisle":62130,"google-plus-circle":62131,"google-plus-official":62131,"fa":62132,"font-awesome":62132,"handshake-o":62133,"envelope-open":62134,"envelope-open-o":62135,"linode":62136,"address-book":62137,"address-book-o":62138,"vcard":62139,"address-card":62139,"vcard-o":62140,"address-card-o":62140,"user-circle":62141,"user-circle-o":62142,"user-o":62144,"id-badge":62145,"drivers-license":62146,"id-card":62146,"drivers-license-o":62147,"id-card-o":62147,"quora":62148,"free-code-camp":62149,"telegram":62150,"thermometer-4":62151,"thermometer":62151,"thermometer-full":62151,"thermometer-3":62152,"thermometer-three-quarters":62152,"thermometer-2":62153,"thermometer-half":62153,"thermometer-1":62154,"thermometer-quarter":62154,"thermometer-0":62155,"thermometer-empty":62155,"shower":62156,"bathtub":62157,"s15":62157,"bath":62157,"podcast":62158,"window-maximize":62160,"window-minimize":62161,"window-restore":62162,"times-rectangle":62163,"window-close":62163,"times-rectangle-o":62164,"window-close-o":62164,"bandcamp":62165,"grav":62166,"etsy":62167,"imdb":62168,"ravelry":62169,"eercast":62170,"microchip":62171,"snowflake-o":62172,"superpowers":62173,"wpexplorer":62174,"meetup":62176}'),"FontAwesome",Be)},8674:e=>{e.exports={pick:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.flat().filter((function(t){return Object.prototype.hasOwnProperty.call(e,t)})).reduce((function(t,n){return t[n]=e[n],t}),{})},omit:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=new Set(n.flat());return Object.getOwnPropertyNames(e).filter((function(e){return!i.has(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})}}},2038:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Picker:()=>p,PickerIOS:()=>_});var r=n(5987),i=n(4942),o=n(9),s=n(675),a=function(e){return s.default("option",e)};var l=["enabled","onValueChange","selectedValue","itemStyle","mode","prompt","dropdownIconColor"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var h=(0,o.forwardRef)((function(e,t){return(0,s.default)("select",c(c({},e),{},{ref:t}))})),f=(0,o.forwardRef)((function(e,t){var n=e.enabled,i=e.onValueChange,s=e.selectedValue,a=(e.itemStyle,e.mode,e.prompt,e.dropdownIconColor,(0,r.default)(e,l)),u=o.useCallback((function(e){var t=e.target,n=t.selectedIndex,r=t.value;i&&i(r,n)}),[i]);return o.createElement(h,d({disabled:!1===n||void 0,onChange:u,ref:t,value:s},a))}));f.Item=function(e){var t=e.color,n=e.label,r=e.testID,i=e.value,s=e.enabled,l=void 0===s||s;return o.createElement(a,{disabled:!1===l||void 0,style:{color:t},testID:r,value:i,label:n},n)};const p=f;var g=n(264),m=n(3331).default.create({unimplementedView:{}});const v=function(e){return o.createElement(g.default,{style:[m.unimplementedView,e.style]},e.children)};function y(){return o.createElement(v,null)}y.Item=v;const _=y},7807:e=>{"use strict";var t=[];e.exports={registerAsset:function(e){return t.push(e)},getAssetByID:function(e){return t[e-1]}}},5158:e=>{"use strict";function t(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n(e,n,r){var i=r<.5?r*(1+n):r+n-r*n,o=2*r-i,s=t(o,i,e+1/3),a=t(o,i,e),l=t(o,i,e-1/3);return Math.round(255*s)<<24|Math.round(255*a)<<16|Math.round(255*l)<<8}var r,i="[-+]?\\d*\\.?\\d+",o=i+"%";function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,?\\s*(")+")\\s*\\)"}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.slice(0,t.length-1).join(")\\s*,?\\s*(")+")\\s*/\\s*("+t[t.length-1]+")\\s*\\)"}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}function u(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function c(e){return(parseFloat(e)%360+360)%360/360}function d(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function h(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}e.exports=function(e){if("number"===typeof e)return e>>>0===e&&e>=0&&e<=4294967295?e:null;if("string"!==typeof e)return null;var f,p=function(){void 0===r&&(r={rgb:new RegExp("rgb"+s(i,i,i)),rgba:new RegExp("rgba("+l(i,i,i,i)+"|"+a(i,i,i,i)+")"),hsl:new RegExp("hsl"+s(i,o,o)),hsla:new RegExp("hsla("+l(i,o,o,i)+"|"+a(i,o,o,i)+")"),hwb:new RegExp("hwb"+s(i,o,o)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/});return r}();if(f=p.hex6.exec(e))return parseInt(f[1]+"ff",16)>>>0;var g=function(e){switch(e){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":case"cyan":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":case"darkgrey":return 2846468607;case"darkgreen":return 6553855;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":case"magenta":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":case"grey":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":case"lightgrey":return 3553874943;case"lightgreen":return 2431553791;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}(e);return null!=g?g:(f=p.rgb.exec(e))?(u(f[1])<<24|u(f[2])<<16|u(f[3])<<8|255)>>>0:(f=p.rgba.exec(e))?void 0!==f[6]?(u(f[6])<<24|u(f[7])<<16|u(f[8])<<8|d(f[9]))>>>0:(u(f[2])<<24|u(f[3])<<16|u(f[4])<<8|d(f[5]))>>>0:(f=p.hex3.exec(e))?parseInt(f[1]+f[1]+f[2]+f[2]+f[3]+f[3]+"ff",16)>>>0:(f=p.hex8.exec(e))?parseInt(f[1],16)>>>0:(f=p.hex4.exec(e))?parseInt(f[1]+f[1]+f[2]+f[2]+f[3]+f[3]+f[4]+f[4],16)>>>0:(f=p.hsl.exec(e))?(255|n(c(f[1]),h(f[2]),h(f[3])))>>>0:(f=p.hsla.exec(e))?void 0!==f[6]?(n(c(f[6]),h(f[7]),h(f[8]))|d(f[9]))>>>0:(n(c(f[2]),h(f[3]),h(f[4]))|d(f[5]))>>>0:(f=p.hwb.exec(e))?(255|function(e,n,r){if(n+r>=1){var i=Math.round(255*n/(n+r));return i<<24|i<<16|i<<8}var o=t(0,1,e+1/3)*(1-n-r)+n,s=t(0,1,e)*(1-n-r)+n,a=t(0,1,e-1/3)*(1-n-r)+n;return Math.round(255*o)<<24|Math.round(255*s)<<16|Math.round(255*a)<<8}(c(f[1]),h(f[2]),h(f[3])))>>>0:null}},6628:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseNavigationContainer:()=>j,BaseRouter:()=>pt,CommonActions:()=>r,CurrentRenderContext:()=>q,DrawerActions:()=>Ct,DrawerRouter:()=>It,NavigationContainerRefContext:()=>w,NavigationContext:()=>S,NavigationHelpersContext:()=>_e,NavigationRouteContext:()=>k,PreventRemoveContext:()=>be,PreventRemoveProvider:()=>Ce,PrivateValueStore:()=>Re,StackActions:()=>xt,StackRouter:()=>Ot,TabActions:()=>yt,TabRouter:()=>wt,UNSTABLE_usePreventRemove:()=>dt,createNavigationContainerRef:()=>g,createNavigatorFactory:()=>B,findFocusedRoute:()=>_,getActionFromState:()=>W,getFocusedRouteNameFromRoute:()=>Q,getPathFromState:()=>ne,getStateFromPath:()=>ce,useFocusEffect:()=>Oe,useIsFocused:()=>Pe,useNavigation:()=>xe,useNavigationBuilder:()=>st,useNavigationContainerRef:()=>at,useNavigationState:()=>lt,usePreventRemoveContext:()=>ut,useRoute:()=>ct,validatePathConfig:()=>Z});var r={};n.r(r),n.d(r,{goBack:()=>a,navigate:()=>l,reset:()=>u,setParams:()=>c});var i=n(885),o=n(4942),s=n(5987);function a(){return{type:"GO_BACK"}}function l(){if("string"===typeof(arguments.length<=0?void 0:arguments[0]))return{type:"NAVIGATE",payload:{name:arguments.length<=0?void 0:arguments[0],params:arguments.length<=1?void 0:arguments[1]}};var e=(arguments.length<=0?void 0:arguments[0])||{};if(!e.hasOwnProperty("key")&&!e.hasOwnProperty("name"))throw new Error("You need to specify name or key when calling navigate with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigate for usage.");return{type:"NAVIGATE",payload:e}}function u(e){return{type:"RESET",payload:e}}function c(e){return{type:"SET_PARAMS",payload:{params:e}}}var d=n(9),h=n(2982);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p="The 'navigation' object hasn't been initialized yet. This might happen if you don't have a navigator mounted, or if the navigator hasn't finished mounting. See https://reactnavigation.org/docs/navigating-without-navigation-prop#handling-initialization for more details.";function g(){var e=[].concat((0,h.default)(Object.keys(r)),["addListener","removeListener","resetRoot","dispatch","isFocused","canGoBack","getRootState","getState","getParent","getCurrentRoute","getCurrentOptions"]),t={},n=function(e,n){t[e]&&(t[e]=t[e].filter((function(e){return e!==n})))},s=null,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({get current(){return s},set current(e){s=e,null!=e&&Object.entries(t).forEach((function(t){var n=(0,i.default)(t,2),r=n[0];n[1].forEach((function(t){e.addListener(r,t)}))}))},isReady:function(){return null!=s&&s.isReady()}},e.reduce((function(e,r){return e[r]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var a;if(null!=s)return(a=s)[r].apply(a,i);switch(r){case"addListener":var l=i[0],u=i[1];return t[l]=t[l]||[],t[l].push(u),function(){return n(l,u)};case"removeListener":var c=i[0],d=i[1];n(c,d);break;default:console.error(p)}},e}),{}));return a}var m='Another navigator is already registered for this container. You likely have multiple navigators under a single "NavigationContainer" or "Screen". Make sure each navigator is under a separate "Screen" container. See https://reactnavigation.org/docs/nesting-navigators for a guide on nesting.',v=d.createContext(void 0);function y(e){var t=e.children,n=d.useRef(),r=d.useMemo((function(){return{register:function(e){var t=n.current;if(void 0!==t&&e!==t)throw new Error(m);n.current=e},unregister:function(e){e===n.current&&(n.current=void 0)}}}),[]);return d.createElement(v.Provider,{value:r},t)}function _(e){for(var t,n,r,i=e;null!=(null===(a=i)||void 0===a?void 0:a.routes[null!=(o=i.index)?o:0].state);){var o,s,a;i=i.routes[null!=(s=i.index)?s:0].state}return null===(n=i)||void 0===n?void 0:n.routes[null!=(t=null===(r=i)||void 0===r?void 0:r.index)?t:0]}const b=d.createContext({onDispatchAction:function(){},onOptionsChange:function(){}});const w=d.createContext(void 0);const S=d.createContext(void 0);const k=d.createContext(void 0);var E="Couldn't find a navigation context. Have you wrapped your app with 'NavigationContainer'? See https://reactnavigation.org/docs/getting-started for setup instructions.";const C=d.createContext({isDefault:!0,get getKey(){throw new Error(E)},get setKey(){throw new Error(E)},get getState(){throw new Error(E)},get setState(){throw new Error(E)},get getIsInitial(){throw new Error(E)}});const I=d.createContext(void 0);function T(){var e=d.useRef({action:[],focus:[]}).current,t=d.useCallback((function(t,n){e[t].push(n);var r=!1;return function(){var i=e[t].indexOf(n);!r&&i>-1&&(r=!0,e[t].splice(i,1))}}),[e]);return{listeners:e,addListener:t}}function R(e){var t=d.useRef(e);d.useEffect((function(){t.current=e}));var n=d.useRef(Object.create(null)),r=d.useCallback((function(e){var t=function(t,r){var i=n.current[t]?n.current[t][e]:void 0;if(i){var o=i.indexOf(r);o>-1&&i.splice(o,1)}};return{addListener:function(r,i){n.current[r]=n.current[r]||{},n.current[r][e]=n.current[r][e]||[],n.current[r][e].push(i);var o=!1;return function(){o||(o=!0,t(r,i))}},removeListener:t}}),[]),i=d.useCallback((function(e){var r,i,o,s=e.type,a=e.data,l=e.target,u=e.canPreventDefault,c=n.current[s]||{},d=void 0!==l?null===(i=c[l])||void 0===i?void 0:i.slice():(r=[]).concat.apply(r,(0,h.default)(Object.keys(c).map((function(e){return c[e]})))).filter((function(e,t,n){return n.lastIndexOf(e)===t})),f={get type(){return s}};if(void 0!==l&&Object.defineProperty(f,"target",{enumerable:!0,get:function(){return l}}),void 0!==a&&Object.defineProperty(f,"data",{enumerable:!0,get:function(){return a}}),u){var p=!1;Object.defineProperties(f,{defaultPrevented:{enumerable:!0,get:function(){return p}},preventDefault:{enumerable:!0,value:function(){p=!0}}})}return null===(o=t.current)||void 0===o||o.call(t,f),null===d||void 0===d||d.forEach((function(e){return e(f)})),f}),[]);return d.useMemo((function(){return{create:r,emit:i}}),[r,i])}function x(){var e=d.useRef(Object.assign(Object.create(null),{getState:{},beforeRemove:{}})).current,t=d.useCallback((function(t,n,r){return e[t][n]=r,function(){e[t][n]=void 0}}),[e]);return{keyedListeners:e,addKeyedListener:t}}function O(e){var t=e.key,n=e.options,r=e.navigation,i=d.useRef(n),o=d.useRef({}),s=d.useContext(b).onOptionsChange,a=d.useContext(C).addOptionsGetter,l=d.useCallback((function(){var e,t,n=null==(e=null===r||void 0===r?void 0:r.isFocused())||e,a=Object.keys(o.current).length;n&&!a&&s(null!=(t=i.current)?t:{})}),[r,s]);d.useEffect((function(){return i.current=n,l(),null===r||void 0===r?void 0:r.addListener("focus",l)}),[r,n,l]);var u=d.useCallback((function(){for(var e in o.current)if(o.current.hasOwnProperty(e)){var t,n,r=null===(t=(n=o.current)[e])||void 0===t?void 0:t.call(n);if(null!==r)return r}return null}),[]),c=d.useCallback((function(){var e;if(!(null==(e=null===r||void 0===r?void 0:r.isFocused())||e))return null;var t=u();return null!==t?t:i.current}),[r,u]);d.useEffect((function(){return null===a||void 0===a?void 0:a(t,c)}),[c,a,t]);var h=d.useCallback((function(e,t){return o.current[e]=t,l(),function(){delete o.current[e],l()}}),[l]);return{addOptionsGetter:h,getCurrentOptions:c}}var P="Couldn't find a schedule context.",A=d.createContext({scheduleUpdate:function(){throw new Error(P)},flushUpdates:function(){throw new Error(P)}});var N={};var D=["key","routeNames"];function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function e(t){if(void 0!==t){t.key,t.routeNames;return M(M({},(0,s.default)(t,D)),{},{stale:!0,routes:t.routes.map((function(t){return void 0===t.state?t:M(M({},t),{},{state:e(t.state)})}))})}};const j=d.forwardRef((function(e,t){var n=e.initialState,o=e.onStateChange,s=e.onUnhandledAction,a=e.independent,l=e.children;if(!d.useContext(C).isDefault&&!a)throw new Error("Looks like you have nested a 'NavigationContainer' inside another. Normally you need only one container at the root of the app, so this was probably an error. If this was intentional, pass 'independent={true}' explicitly. Note that this will make the child navigators disconnected from the parent and you won't be able to navigate between them.");var c=function(e){var t=d.useRef(N),n=d.useRef(!1),r=d.useRef(!0);d.useEffect((function(){return r.current=!0,function(){r.current=!1}}),[]),t.current===N&&(t.current="function"===typeof e?e():e);var o=d.useState(t.current),s=(0,i.default)(o,2),a=s[0],l=s[1],u=d.useCallback((function(){return t.current}),[]),c=d.useCallback((function(e){e!==t.current&&r.current&&(t.current=e,n.current||l(e))}),[]),h=d.useCallback((function(e){n.current=!0;try{e()}finally{n.current=!1}}),[]),f=d.useCallback((function(){r.current&&l(t.current)}),[]);a!==t.current&&l(t.current);var p=t.current;return d.useDebugValue(p),[p,u,c,h,f]}((function(){return F(null==n?void 0:n)})),h=(0,i.default)(c,5),f=h[0],g=h[1],m=h[2],v=h[3],E=h[4],P=d.useRef(!0),D=d.useRef(),L=d.useCallback((function(){return D.current}),[]),j=d.useCallback((function(e){D.current=e}),[]),V=T(),U=V.listeners,B=V.addListener,q=x(),z=q.keyedListeners,H=q.addKeyedListener,W=d.useCallback((function(e){null==U.focus[0]?console.error(p):U.focus[0]((function(t){return t.dispatch(e)}))}),[U.focus]),$=d.useCallback((function(){if(null==U.focus[0])return!1;var e=U.focus[0]((function(e){return e.canGoBack()})),t=e.result;return!!e.handled&&t}),[U.focus]),K=d.useCallback((function(e){var t,n,r,i=null!=(t=null===e||void 0===e?void 0:e.key)?t:null===(n=(r=z.getState).root)||void 0===n?void 0:n.call(r).key;null==i?console.error(p):U.focus[0]((function(t){return t.dispatch(M(M({},u(e)),{},{target:i}))}))}),[z.getState,U.focus]),G=d.useCallback((function(){var e,t;return null===(e=(t=z.getState).root)||void 0===e?void 0:e.call(t)}),[z.getState]),Q=d.useCallback((function(){var e=G();if(null!=e)return _(e)}),[G]),Y=R(),X=O({}),J=X.addOptionsGetter,Z=X.getCurrentOptions,ee=d.useMemo((function(){return M(M(M({},Object.keys(r).reduce((function(e,t){return e[t]=function(){return W(r[t].apply(r,arguments))},e}),{})),Y.create("root")),{},{dispatch:W,resetRoot:K,isFocused:function(){return!0},canGoBack:$,getParent:function(){},getState:function(){return de.current},getRootState:G,getCurrentRoute:Q,getCurrentOptions:Z,isReady:function(){return null!=U.focus[0]}})}),[$,W,Y,Z,Q,G,U.focus,K]);d.useImperativeHandle(t,(function(){return ee}),[ee]);var te=d.useCallback((function(e,t){Y.emit({type:"__unsafe_action__",data:{action:e,noop:t,stack:ie.current}})}),[Y]),ne=d.useRef(),re=d.useCallback((function(e){ne.current!==e&&(ne.current=e,Y.emit({type:"options",data:{options:e}}))}),[Y]),ie=d.useRef(),oe=d.useMemo((function(){return{addListener:B,addKeyedListener:H,onDispatchAction:te,onOptionsChange:re,stackRef:ie}}),[B,H,te,re]),se=d.useMemo((function(){return{scheduleUpdate:v,flushUpdates:E}}),[v,E]),ae=d.useRef(!0),le=d.useCallback((function(){return ae.current}),[]),ue=d.useMemo((function(){return{state:f,getState:g,setState:m,getKey:L,setKey:j,getIsInitial:le,addOptionsGetter:J}}),[f,g,m,L,j,le,J]),ce=d.useRef(o),de=d.useRef(f);d.useEffect((function(){ae.current=!1,ce.current=o,de.current=f})),d.useEffect((function(){var e=G();Y.emit({type:"state",data:{state:f}}),!P.current&&ce.current&&ce.current(e),P.current=!1}),[G,Y,f]);var he=d.useCallback((function(e){}),[]),fe=d.createElement(w.Provider,{value:ee},d.createElement(A.Provider,{value:se},d.createElement(b.Provider,{value:oe},d.createElement(C.Provider,{value:ue},d.createElement(I.Provider,{value:null!=s?s:he},d.createElement(y,null,l))))));return a&&(fe=d.createElement(k.Provider,{value:void 0},d.createElement(S.Provider,{value:void 0},fe))),fe}));function V(e){return null}function U(e){return null}function B(e){return function(){if(void 0!==arguments[0])throw new Error("Creating a navigator doesn't take an argument. Maybe you are trying to use React Navigation 4 API? See https://reactnavigation.org/docs/hello-react-navigation for the latest API and guides.");return{Navigator:e,Group:V,Screen:U}}}const q=d.createContext(void 0);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t){var n,r,i=t?$(t):{},o=null!=e.index?e.routes.slice(0,e.index+1):e.routes;if(0!==o.length){if(!(1===o.length&&void 0===o[0].key||2===o.length&&void 0===o[0].key&&o[0].name===(null===i||void 0===i?void 0:i.initialRouteName)&&void 0===o[1].key))return{type:"RESET",payload:e};for(var s=e.routes[null!=(n=e.index)?n:e.routes.length-1],a=null===s||void 0===s?void 0:s.state,l=null===i||void 0===i||null===(r=i.screens)||void 0===r?void 0:r[null===s||void 0===s?void 0:s.name],u=H({},s.params),c=s?{name:s.name,path:s.path,params:u}:void 0;a;){var d,h,f;if(0===a.routes.length)return;var p=null!=a.index?a.routes.slice(0,a.index+1):a.routes,g=p[p.length-1];if(Object.assign(u,{initial:void 0,screen:void 0,params:void 0,state:void 0}),1===p.length&&void 0===p[0].key)u.initial=!0,u.screen=g.name;else{if(2!==p.length||void 0!==p[0].key||p[0].name!==(null===(d=l)||void 0===d?void 0:d.initialRouteName)||void 0!==p[1].key){u.state=a;break}u.initial=!1,u.screen=g.name}g.state?(u.params=H({},g.params),u=u.params):(u.path=g.path,u.params=g.params),a=g.state,l=null===(h=l)||void 0===h||null===(f=h.screens)||void 0===f?void 0:f[g.name]}if(c)return{type:"NAVIGATE",payload:c}}}var $=function(e){return"object"===typeof e&&null!=e?{initialRouteName:e.initialRouteName,screens:null!=e.screens?K(e.screens):void 0}:{}},K=function(e){return Object.entries(e).reduce((function(e,t){var n=(0,i.default)(t,2),r=n[0],o=n[1];return e[r]=$(o),e}),{})},G=Symbol("CHILD_STATE");function Q(e){var t,n,r=null!=(t=e[G])?t:e.state,i=e.params;return r?r.routes[null!=(n=r.index)?n:"string"===typeof r.type&&"stack"!==r.type?0:r.routes.length-1].name:"string"===typeof(null===i||void 0===i?void 0:i.screen)?i.screen:void 0}var Y=n(6857);function X(e){return e.reduce((function(e,t){var n=(0,i.default)(t,2),r=n[0],o=n[1];if(e.hasOwnProperty(r))throw new Error(`A value for key '${r}' already exists in the object.`);return e[r]=o,e}),{})}var J=function(e){return e.map((function(e){return`- ${e}`})).join("\n")};function Z(e){var t=["initialRouteName","screens"];!(arguments.length>1&&void 0!==arguments[1])||arguments[1]||t.push("path","exact","stringify","parse");var n=Object.keys(e).filter((function(e){return!t.includes(e)}));if(n.length)throw new Error(`Found invalid properties in the configuration:\n${J(n)}\n\nDid you forget to specify them under a 'screens' property?\n\nYou can only specify the following properties:\n${J(t)}\n\nSee https://reactnavigation.org/docs/configuring-links for more details on how to specify a linking configuration.`);e.screens&&Object.entries(e.screens).forEach((function(e){var t=(0,i.default)(e,2),n=(t[0],t[1]);"string"!==typeof n&&Z(n,!1)}))}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var te=function e(t){var n="number"===typeof t.index?t.routes[t.index]:t.routes[t.routes.length-1];return n.state?e(n.state):n};function ne(e,t){if(null==e)throw Error("Got 'undefined' for the navigation state. You must pass a valid state object.");t&&Z(t);for(var n,r,s=null!==t&&void 0!==t&&t.screens?oe(null===t||void 0===t?void 0:t.screens):{},a="/",l=e,u={},c=function(){for(var t,c,d="number"===typeof l.index?l.index:0,h=l.routes[d],f=te(e),p=s,g=[],m=!0,v=function(){if(t=p[h.name].pattern,g.push(h.name),h.params){var e=null===(n=p[h.name])||void 0===n?void 0:n.stringify,s=X(Object.entries(h.params).map((function(t){var n=(0,i.default)(t,2),r=n[0],o=n[1];return[r,null!==e&&void 0!==e&&e[r]?e[r](o):String(o)]})));t&&Object.assign(u,s),f===h&&(c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s),null===(r=t)||void 0===r||r.split("/").filter((function(e){return e.startsWith(":")})).forEach((function(e){var t=re(e);c&&delete c[t]})))}if(p[h.name].screens&&void 0!==h.state){d="number"===typeof h.state.index?h.state.index:h.state.routes.length-1;var a=h.state.routes[d],l=p[h.name].screens;l&&a.name in l?(h=a,p=l):m=!1}else m=!1};h.name in p&&m;)v();if(void 0===t&&(t=g.join("/")),void 0!==p[h.name]?a+=t.split("/").map((function(e){var t=re(e);if("*"===e)return h.name;if(e.startsWith(":")){var n=u[t];return void 0===n&&e.endsWith("?")?"":encodeURIComponent(n)}return encodeURIComponent(e)})).join("/"):a+=encodeURIComponent(h.name),c||(c=f.params),h.state)a+="/";else if(c){for(var y in c)"undefined"===c[y]&&delete c[y];var _=Y.stringify(c,{sort:!1});_&&(a+=`?${_}`)}l=h.state};l;)c();return a=(a=a.replace(/\/+/g,"/")).length>1?a.replace(/\/$/,""):a}var re=function(e){return e.replace(/^:/,"").replace(/\?$/,"")},ie=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=[]).concat.apply(e,(0,h.default)(n.map((function(e){return e.split("/")})))).filter(Boolean).join("/")},oe=function(e,t){return X(Object.entries(e).map((function(e){var n=(0,i.default)(e,2),r=n[0],o=function(e,t){var n,r;if("string"===typeof e)return{pattern:t?ie(t,e):e};if(e.exact&&void 0===e.path)throw new Error("A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. `path: ''`.");r=!0!==e.exact?ie(t||"",e.path||""):e.path||"";var i=e.screens?oe(e.screens,r):void 0;return{pattern:null===(n=r)||void 0===n?void 0:n.split("/").filter(Boolean).join("/"),stringify:e.stringify,screens:i}}(n[1],t);return[r,o]})))},se=n(6288),ae=n.n(se);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t){var n;t&&Z(t);var r=[];null!==t&&void 0!==t&&t.initialRouteName&&r.push({initialRouteName:t.initialRouteName,parentScreens:[]});var i=null===t||void 0===t?void 0:t.screens,s=e.replace(/\/+/g,"/").replace(/^\//,"").replace(/\?.*$/,"");if(s=s.endsWith("/")?s:`${s}/`,void 0===i){var a=s.split("/").filter(Boolean).map((function(e){return{name:decodeURIComponent(e)}}));return a.length?ve(e,a,r):void 0}var l,u,c=(n=[]).concat.apply(n,(0,h.default)(Object.keys(i).map((function(e){return fe(e,i,[],r,[])})))).sort((function(e,t){if(e.pattern===t.pattern)return t.routeNames.join(">").localeCompare(e.routeNames.join(">"));if(e.pattern.startsWith(t.pattern))return-1;if(t.pattern.startsWith(e.pattern))return 1;for(var n=e.pattern.split("/"),r=t.pattern.split("/"),i=0;i<Math.max(n.length,r.length);i++){if(null==n[i])return 1;if(null==r[i])return-1;var o="*"===n[i]||n[i].startsWith(":"),s="*"===r[i]||r[i].startsWith(":");if(!o||!s){if(o)return 1;if(s)return-1}}return r.length-n.length}));if(c.reduce((function(e,t){if(e[t.pattern]){var n=e[t.pattern].routeNames,r=t.routeNames;if(!(n.length>r.length?r.every((function(e,t){return n[t]===e})):n.every((function(e,t){return r[t]===e}))))throw new Error(`Found conflicting screens with the same pattern. The pattern '${t.pattern}' resolves to both '${n.join(" > ")}' and '${r.join(" > ")}'. Patterns must be unique and cannot resolve to more than one screen.`)}return Object.assign(e,(0,o.default)({},t.pattern,t))}),{}),"/"===s){var d=c.find((function(e){return""===e.path&&e.routeNames.every((function(e){var t;return!(null!==(t=c.find((function(t){return t.screen===e})))&&void 0!==t&&t.path)}))}));return d?ve(e,d.routeNames.map((function(e){return{name:e}})),r,c):void 0}var f=he(s,c.map((function(e){return ue(ue({},e),{},{regex:e.regex?new RegExp(e.regex.source+"$"):void 0})}))),p=f.routes,g=f.remainingPath;if(void 0!==p&&(s=g,l=u=ve(e,p,r,c)),null!=u&&null!=l)return l}var de=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=[]).concat.apply(e,(0,h.default)(n.map((function(e){return e.split("/")})))).filter(Boolean).join("/")},he=function(e,t){var n,r,i,s=e,a=function(){if(!l.regex)return 0;var e=s.match(l.regex);if(e){var i=null===(r=l.pattern)||void 0===r?void 0:r.split("/").filter((function(e){return e.startsWith(":")})).reduce((function(t,n,r){return Object.assign(t,(0,o.default)({},n,e[2*(r+1)].replace(/\//,"")))}),{});return n=l.routeNames.map((function(e){var n,r=t.find((function(t){return t.screen===e})),o=null===r||void 0===r||null===(n=r.path)||void 0===n?void 0:n.split("/").filter((function(e){return e.startsWith(":")})).reduce((function(e,t){var n=i[t];if(n){var o,s=t.replace(/^:/,"").replace(/\?$/,"");e[s]=null!==(o=r.parse)&&void 0!==o&&o[s]?r.parse[s](n):n}return e}),{});return o&&Object.keys(o).length?{name:e,params:o}:{name:e}})),s=s.replace(e[1],""),1}};for(var l of t)if(0!==(i=a())&&1===i)break;return{routes:n,remainingPath:s}},fe=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,a=[];r.push(t),o.push(t);var l=n[t];if("string"===typeof l){var u=s?de(s,l):l;a.push(pe(t,r,u,l))}else if("object"===typeof l){var c;if("string"===typeof l.path){if(l.exact&&void 0===l.path)throw new Error("A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. `path: ''`.");c=!0!==l.exact?de(s||"",l.path||""):l.path||"",a.push(pe(t,r,c,l.path,l.parse))}l.screens&&(l.initialRouteName&&i.push({initialRouteName:l.initialRouteName,parentScreens:o}),Object.keys(l.screens).forEach((function(t){var n,u=e(t,l.screens,r,i,(0,h.default)(o),null!=(n=c)?n:s);a.push.apply(a,(0,h.default)(u))})))}return r.pop(),a},pe=function(e,t,n,r,i){return{screen:e,regex:(n=n.split("/").filter(Boolean).join("/"))?new RegExp(`^(${n.split("/").map((function(e){return e.startsWith(":")?`(([^/]+\\/)${e.endsWith("?")?"?":""})`:`${"*"===e?".*":ae()(e)}\\/`})).join("")})`):void 0,pattern:n,path:r,routeNames:(0,h.default)(t),parse:i}},ge=function(e,t,n){for(var r of n)if(t.length===r.parentScreens.length){for(var i=!0,o=0;o<t.length;o++)if(0!==t[o].localeCompare(r.parentScreens[o])){i=!1;break}if(i)return e!==r.initialRouteName?r.initialRouteName:void 0}},me=function(e,t,n){return n?e?{index:1,routes:[{name:e},t]}:{routes:[t]}:e?{index:1,routes:[{name:e},ue(ue({},t),{},{state:{routes:[]}})]}:{routes:[ue(ue({},t),{},{state:{routes:[]}})]}},ve=function(e,t,n,r){var i,o=t.shift(),s=[],a=ge(o.name,s,n);if(s.push(o.name),i=me(a,o,0===t.length),t.length>0)for(var l=i;o=t.shift();){a=ge(o.name,s,n);var u=l.index||l.routes.length-1;l.routes[u].state=me(a,o,0===t.length),t.length>0&&(l=l.routes[u].state),s.push(o.name)}(o=_(i)).path=e;var c=ye(e,r?function(e,t){for(var n of t)if(e===n.routeNames[n.routeNames.length-1])return n.parse}(o.name,r):void 0);return c&&(o.params=ue(ue({},o.params),c)),i},ye=function(e,t){var n=e.split("?")[1],r=Y.parse(n);return t&&Object.keys(r).forEach((function(e){Object.hasOwnProperty.call(t,e)&&"string"===typeof r[e]&&(r[e]=t[e](r[e]))})),Object.keys(r).length?r:void 0};const _e=d.createContext(void 0);const be=d.createContext(void 0);var we=n(7012),Se=n(9456),ke=n.n(Se),Ee=function(e){return(0,h.default)(e.values()).reduce((function(e,t){var n,r=t.routeKey,i=t.preventRemove;return e[r]={preventRemove:(null===(n=e[r])||void 0===n?void 0:n.preventRemove)||i},e}),{})};function Ce(e){var t=e.children,n=d.useState((function(){return(0,we.nanoid)()})),r=(0,i.default)(n,1)[0],o=d.useState(new Map),s=(0,i.default)(o,2),a=s[0],l=s[1],u=d.useContext(_e),c=d.useContext(k),f=d.useContext(be),p=null===f||void 0===f?void 0:f.setPreventRemove,g=ke()((function(e,t,n){if(n&&(null==u||null!==u&&void 0!==u&&u.getState().routes.every((function(e){return e.key!==t}))))throw new Error(`Couldn't find a route with the key ${t}. Is your component inside NavigationContent?`);l((function(r){var i,o;if(t===(null===(i=r.get(e))||void 0===i?void 0:i.routeKey)&&n===(null===(o=r.get(e))||void 0===o?void 0:o.preventRemove))return r;var s=new Map(r);return n?s.set(e,{routeKey:t,preventRemove:n}):s.delete(e),s}))})),m=(0,h.default)(a.values()).some((function(e){return e.preventRemove}));d.useEffect((function(){if(void 0!==(null===c||void 0===c?void 0:c.key)&&void 0!==p)return p(r,c.key,m),function(){p(r,c.key,!1)}}),[r,m,null===c||void 0===c?void 0:c.key,p]);var v=d.useMemo((function(){return{setPreventRemove:g,preventedRoutes:Ee(a)}}),[g,a]);return d.createElement(be.Provider,{value:v},t)}var Ie=n(3144),Te=n(5671),Re=(0,Ie.default)((function e(){(0,Te.default)(this,e)}));function xe(){var e=d.useContext(w),t=d.useContext(S);if(void 0===t&&void 0===e)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");return null!=t?t:e}function Oe(e){var t=xe();if(void 0!==arguments[1]){console.error("You passed a second argument to 'useFocusEffect', but it only accepts one argument. If you want to pass a dependency array, you can use 'React.useCallback':\n\nuseFocusEffect(\n  React.useCallback(() => {\n    // Your code here\n  }, [depA, depB])\n);\n\nSee usage guide: https://reactnavigation.org/docs/use-focus-effect")}d.useEffect((function(){var n,r=!1,i=function(){var t=e();if(void 0===t||"function"===typeof t)return t};t.isFocused()&&(n=i(),r=!0);var o=t.addListener("focus",(function(){r||(void 0!==n&&n(),n=i(),r=!0)})),s=t.addListener("blur",(function(){void 0!==n&&n(),n=void 0,r=!1}));return function(){void 0!==n&&n(),o(),s()}}),[e,t])}function Pe(){var e=xe(),t=(0,d.useState)(e.isFocused),n=(0,i.default)(t,2),r=n[0],o=n[1],s=e.isFocused();return r!==s&&o(s),d.useEffect((function(){var t=e.addListener("focus",(function(){return o(!0)})),n=e.addListener("blur",(function(){return o(!1)}));return function(){t(),n()}}),[e]),d.useDebugValue(s),s}n(9814);function Ae(e,t){return e===t||e.length===t.length&&e.every((function(e,n){return e===t[n]}))}var Ne=function(e){return(0,e.render)(e.children)};function De(e){var t=d.useRef(e);return t.current=e,d.useEffect((function(){t.current=null})),d.useRef((function(e){var n=e.children,r=t.current;if(null===r)throw new Error("The returned component must be rendered in the same render phase as the hook.");return d.createElement(Ne,{render:r},n)})).current}const Le=d.memo((function(e){return e.children}),(function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i of n)if("children"!==i&&e[i]!==t[i])return!1;return!0}));function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e){var t=e.screen,n=e.route,r=e.navigation,i=e.routeState,o=e.getState,s=e.setState,a=e.options,l=e.clearOptions,u=d.useRef(),c=d.useCallback((function(){return u.current}),[]),h=O({key:n.key,options:a,navigation:r}).addOptionsGetter,f=d.useCallback((function(e){u.current=e}),[]),p=d.useCallback((function(){var e=o().routes.find((function(e){return e.key===n.key}));return e?e.state:void 0}),[o,n.key]),g=d.useCallback((function(e){var t=o();s(Fe(Fe({},t),{},{routes:t.routes.map((function(t){return t.key===n.key?Fe(Fe({},t),{},{state:e}):t}))}))}),[o,n.key,s]),m=d.useRef(!0);d.useEffect((function(){m.current=!1})),d.useEffect((function(){return l}),[]);var v=d.useCallback((function(){return m.current}),[]),_=d.useMemo((function(){return{state:i,getState:p,setState:g,getKey:c,setKey:f,getIsInitial:v,addOptionsGetter:h}}),[i,p,g,c,f,v,h]),b=t.getComponent?t.getComponent():t.component;return d.createElement(C.Provider,{value:_},d.createElement(y,null,d.createElement(Le,{name:t.name,render:b||t.children,navigation:r,route:n},void 0!==b?d.createElement(b,{navigation:r,route:n}):void 0!==t.children?t.children({navigation:r,route:n}):null)))}var Ve=["emit"];function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e){var t=e.state,n=e.screens,a=e.navigation,l=e.screenOptions,u=e.defaultScreenOptions,c=e.onAction,f=e.getState,p=e.setState,g=e.addListener,m=e.addKeyedListener,v=e.onRouteFocus,y=e.router,_=e.emitter,w=d.useState({}),E=(0,i.default)(w,2),C=E[0],I=E[1],T=d.useContext(b),R=T.onDispatchAction,x=T.onOptionsChange,O=T.stackRef,P=d.useMemo((function(){return{navigation:a,onAction:c,addListener:g,addKeyedListener:m,onRouteFocus:v,onDispatchAction:R,onOptionsChange:x,stackRef:O}}),[a,c,g,m,v,R,x,O]),A=function(e){var t=e.state,n=e.getState,i=e.navigation,a=e.setOptions,l=e.router,u=e.emitter,c=(d.useContext(b).stackRef,d.useMemo((function(){return{current:{}}}),[n,i,a,l,u])),h=Be(Be({},l.actionCreators),r);return c.current=t.routes.reduce((function(e,t){var r=c.current[t.key];if(r)e[t.key]=r;else{i.emit;var l=(0,s.default)(i,Ve),d=function(e){var r="function"===typeof e?e(n()):e;null!=r&&i.dispatch(Be({source:t.key},r))},f=function(e){try{e()}finally{}},p=Object.keys(h).reduce((function(e,t){return e[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return f((function(){return d(h[t].apply(h,n))}))},e}),{});e[t.key]=Be(Be(Be(Be({},l),p),u.create(t.key)),{},{dispatch:function(e){return f((function(){return d(e)}))},getParent:function(n){return void 0!==n&&n===l.getId()?e[t.key]:l.getParent(n)},setOptions:function(e){return a((function(n){return Be(Be({},n),{},(0,o.default)({},t.key,Be(Be({},n[t.key]),e)))}))},isFocused:function(){var e=n();return e.routes[e.index].key===t.key&&(!i||i.isFocused())}})}return e}),{}),c.current}({state:t,getState:f,navigation:a,setOptions:I,router:y,emitter:_});return function(e){return d.useMemo((function(){return{current:new Map}}),[]),e}(t.routes).reduce((function(e,r,i){var o=n[r.name],a=o.props,c=A[r.key],g=[l].concat((0,h.default)(o.options?o.options.filter(Boolean):[]),[a.options,C[r.key]]).reduce((function(e,t){return Object.assign(e,"function"!==typeof t?t:t({route:r,navigation:c}))}),{}),m=He(He({},"function"===typeof u?u({route:r,navigation:c,options:g}):u),g),v=function(){return I((function(e){if(r.key in e){var t=r.key;e[t];return(0,s.default)(e,[t].map(qe))}return e}))};return e[r.key]={route:r,navigation:c,render:function(){return d.createElement(b.Provider,{key:r.key,value:P},d.createElement(S.Provider,{value:c},d.createElement(k.Provider,{value:r},d.createElement(je,{navigation:c,route:r,screen:a,routeState:t.routes[i].state,getState:f,setState:p,options:m,clearOptions:v}))))},options:m},e}),{})}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye=Symbol("VISITED_ROUTE_KEYS"),Xe=function(e,t,n,r,i){var s,a=r.map((function(e){return e.key})),l=n.filter((function(e){return!a.includes(e.key)})).reverse(),u=null!=(s=i[Ye])?s:new Set,c=Qe(Qe({},i),{},(0,o.default)({},Ye,u));for(var d of l){var h;if(!u.has(d.key)){if(null===(h=t[d.key])||void 0===h?void 0:h.call(t,c))return!0;if(u.add(d.key),e.emit({type:"beforeRemove",target:d.key,data:{action:c},canPreventDefault:!0}).defaultPrevented)return!0}}return!1};function Je(e){var t=e.router,n=e.getState,r=e.setState,i=e.key,o=e.actionListeners,s=e.beforeRemoveListeners,a=e.routerConfigOptions,l=e.emitter,u=d.useContext(b),c=u.onAction,h=u.onRouteFocus,f=u.addListener,p=u.onDispatchAction,g=d.useRef(a);d.useEffect((function(){g.current=a}));var m=d.useCallback((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,u=n();if(a.has(u.key))return!1;if(a.add(u.key),"string"!==typeof e.target||e.target===u.key){var d=t.getStateForAction(u,e,g.current);if(null!==(d=null===d&&e.target===u.key?u:d)){if(p(e,u===d),u!==d){if(Xe(l,s,u.routes,d.routes,e))return!0;r(d)}if(void 0!==h)t.shouldActionChangeFocus(e)&&void 0!==i&&h(i);return!0}}if(void 0!==c&&c(e,a))return!0;for(var f=o.length-1;f>=0;f--){if((0,o[f])(e,a))return!0}return!1}),[o,s,l,n,i,c,p,h,t,r]);return function(e){var t=e.getState,n=e.emitter,r=e.beforeRemoveListeners,i=d.useContext(b).addKeyedListener,o=d.useContext(k),s=null===o||void 0===o?void 0:o.key;d.useEffect((function(){if(s)return null===i||void 0===i?void 0:i("beforeRemove",s,(function(e){var i=t();return Xe(n,r,i.routes,[],e)}))}),[i,r,n,t,s])}({getState:n,emitter:l,beforeRemoveListeners:s}),d.useEffect((function(){return null===f||void 0===f?void 0:f("action",m)}),[f,m]),m}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tt=["children","screenListeners"];function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=function(e){return void 0===e||"string"===typeof e&&""!==e},ot=function e(t,n,r){return d.Children.toArray(t).reduce((function(t,i){var o,s;if(d.isValidElement(i)){if(i.type===U){if(!it(i.props.navigationKey))throw new Error(`Got an invalid 'navigationKey' prop (${JSON.stringify(i.props.navigationKey)}) for the screen '${i.props.name}'. It must be a non-empty string or 'undefined'.`);return t.push({keys:[n,i.props.navigationKey],options:r,props:i.props}),t}if(i.type===d.Fragment||i.type===V){if(!it(i.props.navigationKey))throw new Error(`Got an invalid 'navigationKey' prop (${JSON.stringify(i.props.navigationKey)}) for the group. It must be a non-empty string or 'undefined'.`);return t.push.apply(t,(0,h.default)(e(i.props.children,i.props.navigationKey,i.type!==V?r:null!=r?[].concat((0,h.default)(r),[i.props.screenOptions]):[i.props.screenOptions]))),t}}throw new Error(`A navigator can only contain 'Screen', 'Group' or 'React.Fragment' as its direct children (found ${d.isValidElement(i)?`'${"string"===typeof i.type?i.type:null===(o=i.type)||void 0===o?void 0:o.name}'${null!=i.props&&"object"===typeof i.props&&"name"in i.props&&null!==(s=i.props)&&void 0!==s&&s.name?` for the screen '${i.props.name}'`:""}`:"object"===typeof i?JSON.stringify(i):`'${String(i)}'`}). To render this component in the navigator, pass it in the 'component' prop to 'Screen'.`)}),[])};function st(e,t){var n=function(){var e=d.useState((function(){return(0,we.nanoid)()})),t=(0,i.default)(e,1)[0],n=d.useContext(v);if(void 0===n)throw new Error("Couldn't register the navigator. Have you wrapped your app with 'NavigationContainer'?\n\nThis can also happen if there are multiple copies of '@react-navigation' packages installed.");return d.useEffect((function(){var e=n.register,r=n.unregister;return e(t),function(){return r(t)}}),[n,t]),t}(),a=d.useContext(k),c=t.children,f=t.screenListeners,p=(0,s.default)(t,tt),g=d.useRef(e(rt(rt({},p),null!==a&&void 0!==a&&a.params&&null==a.params.state&&!1!==a.params.initial&&"string"===typeof a.params.screen?{initialRouteName:a.params.screen}:null))).current,m=ot(c),y=m.reduce((function(e,t){if(t.props.name in e)throw new Error(`A navigator cannot contain multiple 'Screen' components with the same name (found duplicate screen named '${t.props.name}')`);return e[t.props.name]=t,e}),{}),_=m.map((function(e){return e.props.name})),w=_.reduce((function(e,t){return e[t]=y[t].keys.map((function(e){return null!=e?e:""})).join(":"),e}),{}),E=_.reduce((function(e,t){var n=y[t].props.initialParams;return e[t]=n,e}),{}),O=_.reduce((function(e,t){return Object.assign(e,(0,o.default)({},t,y[t].props.getId))}),{});if(!_.length)throw new Error("Couldn't find any screens for the navigator. Have you defined any screens as its children?");var P=d.useCallback((function(e){return void 0===e.type||e.type===g.type}),[g.type]),N=d.useCallback((function(e){return void 0!==e&&!1===e.stale&&P(e)}),[P]),D=d.useContext(C),L=D.state,M=D.getState,F=D.setState,j=D.setKey,V=D.getKey,U=D.getIsInitial,B=d.useRef(!1),z=d.useCallback((function(){F(void 0),B.current=!0}),[F]),H=d.useCallback((function(e){B.current||F(e)}),[F]),W=d.useMemo((function(){var e,t,n,r=_.reduce((function(e,t){var n,r,i,o=y[t].props.initialParams,s=null==(null===a||void 0===a||null===(n=a.params)||void 0===n?void 0:n.state)&&!1!==(null===a||void 0===a||null===(r=a.params)||void 0===r?void 0:r.initial)&&(null===a||void 0===a||null===(i=a.params)||void 0===i?void 0:i.screen)===t?a.params.params:void 0;return e[t]=void 0!==o||void 0!==s?rt(rt({},o),s):void 0,e}),{});return void 0!==L&&P(L)||null!=(null===a||void 0===a||null===(e=a.params)||void 0===e?void 0:e.state)?[g.getRehydratedState(null!=(t=null===a||void 0===a||null===(n=a.params)||void 0===n?void 0:n.state)?t:L,{routeNames:_,routeParamList:r,routeGetIdList:O}),!1]:[g.getInitialState({routeNames:_,routeParamList:r,routeGetIdList:O}),!0]}),[L,g,P]),$=(0,i.default)(W,2),K=$[0],G=$[1],Q=d.useRef(w);d.useEffect((function(){Q.current=w}));var Y=Q.current,X=N(L)?L:K,J=X;Ae(X.routeNames,_)&&function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return e[n]===t[n]}))}(w,Y)||(J=g.getStateForRouteNamesChange(X,{routeNames:_,routeParamList:E,routeGetIdList:O,routeKeyChanges:Object.keys(w).filter((function(e){return Y.hasOwnProperty(e)&&w[e]!==Y[e]}))}));var Z=d.useRef(null===a||void 0===a?void 0:a.params);if(d.useEffect((function(){Z.current=null===a||void 0===a?void 0:a.params}),[null===a||void 0===a?void 0:a.params]),null!==a&&void 0!==a&&a.params){var ee,te=Z.current;"object"===typeof a.params.state&&null!=a.params.state&&a.params!==te?ee=u(a.params.state):"string"===typeof a.params.screen&&(!1===a.params.initial&&G||a.params!==te)&&(ee=l({name:a.params.screen,params:a.params.params,path:a.params.path}));var ne=ee?g.getStateForAction(J,ee,{routeNames:_,routeParamList:E,routeGetIdList:O}):null;J=null!==ne?g.getRehydratedState(ne,{routeNames:_,routeParamList:E,routeGetIdList:O}):J}var re=X!==J;!function(e){var t=d.useContext(A),n=t.scheduleUpdate,r=t.flushUpdates;n(e),d.useEffect(r)}((function(){re&&H(J)})),X=J,d.useEffect((function(){return j(n),U()||H(J),function(){setTimeout((function(){void 0!==M()&&V()===n&&z()}),0)}}),[]);var ie=d.useRef();ie.current=K;var oe=d.useCallback((function(){var e=M();return N(e)?e:ie.current}),[M,N]),se=R((function(e){var t,n,r,i=[];e.target?null!==(r=n=X.routes.find((function(t){return t.key===e.target})))&&void 0!==r&&r.name&&i.push(n.name):(n=X.routes[X.index],i.push.apply(i,(0,h.default)(Object.keys(y).filter((function(e){var t;return(null===(t=n)||void 0===t?void 0:t.name)===e})))));if(null!=n){var o=me[n.key].navigation;(t=[]).concat.apply(t,(0,h.default)([f].concat((0,h.default)(i.map((function(e){return y[e].props.listeners})))).map((function(t){var r="function"===typeof t?t({route:n,navigation:o}):t;return r?Object.keys(r).filter((function(t){return t===e.type})).map((function(e){return null===r||void 0===r?void 0:r[e]})):void 0})))).filter((function(e,t,n){return e&&n.lastIndexOf(e)===t})).forEach((function(t){return null===t||void 0===t?void 0:t(e)}))}}));!function(e){var t=e.state,n=e.emitter,r=d.useContext(S),i=d.useRef(),o=t.routes[t.index].key;d.useEffect((function(){return null===r||void 0===r?void 0:r.addListener("focus",(function(){i.current=o,n.emit({type:"focus",target:o})}))}),[o,n,r]),d.useEffect((function(){return null===r||void 0===r?void 0:r.addListener("blur",(function(){i.current=void 0,n.emit({type:"blur",target:o})}))}),[o,n,r]),d.useEffect((function(){var e=i.current;i.current=o,void 0!==e||r||n.emit({type:"focus",target:o}),e===o||r&&!r.isFocused()||void 0!==e&&(n.emit({type:"blur",target:e}),n.emit({type:"focus",target:o}))}),[o,n,r])}({state:X,emitter:se}),d.useEffect((function(){se.emit({type:"state",data:{state:X}})}),[se,X]);var ae=T(),le=ae.listeners,ue=ae.addListener,ce=x(),de=ce.keyedListeners,he=ce.addKeyedListener,fe=Je({router:g,getState:oe,setState:H,key:null===a||void 0===a?void 0:a.key,actionListeners:le.action,beforeRemoveListeners:de.beforeRemove,routerConfigOptions:{routeNames:_,routeParamList:E,routeGetIdList:O},emitter:se}),pe=function(e){var t=e.router,n=e.getState,r=e.key,i=e.setState,o=d.useContext(b).onRouteFocus;return d.useCallback((function(e){var s=n(),a=t.getStateForRouteFocus(s,e);a!==s&&i(a),void 0!==o&&void 0!==r&&o(r)}),[n,o,t,i,r])}({router:g,key:null===a||void 0===a?void 0:a.key,getState:oe,setState:H}),ge=function(e){var t=e.id,n=e.onAction,i=e.getState,o=e.emitter,s=e.router,a=d.useContext(I),l=d.useContext(S);return d.useMemo((function(){var e=function(e){var t="function"===typeof e?e(i()):e;n(t)||null===a||void 0===a||a(t)},u=Ke(Ke({},s.actionCreators),r),c=Object.keys(u).reduce((function(t,n){return t[n]=function(){return e(u[n].apply(u,arguments))},t}),{}),d=Ke(Ke(Ke({},l),c),{},{dispatch:e,emit:o.emit,isFocused:l?l.isFocused:function(){return!0},canGoBack:function(){var e=i();return null!==s.getStateForAction(e,{type:"GO_BACK"},{routeNames:e.routeNames,routeParamList:{},routeGetIdList:{}})||(null===l||void 0===l?void 0:l.canGoBack())||!1},getId:function(){return t},getParent:function(e){if(void 0!==e){for(var t=d;t&&e!==t.getId();)t=t.getParent();return t}return l},getState:i});return d}),[t,o.emit,i,n,a,l,s])}({id:t.id,onAction:fe,getState:oe,emitter:se,router:g});!function(e){var t=e.navigation,n=e.focusedListeners,r=d.useContext(b).addListener,i=d.useCallback((function(e){if(t.isFocused()){for(var r of n){var i=r(e),o=i.handled,s=i.result;if(o)return{handled:o,result:s}}return{handled:!0,result:e(t)}}return{handled:!1,result:null}}),[n,t]);d.useEffect((function(){return null===r||void 0===r?void 0:r("focus",i)}),[r,i])}({navigation:ge,focusedListeners:le.focus}),function(e){var t=e.getState,n=e.getStateListeners,r=d.useContext(b).addKeyedListener,i=d.useContext(k),o=i?i.key:"root",s=d.useCallback((function(){var e=t(),r=e.routes.map((function(e){var t,r=null===(t=n[e.key])||void 0===t?void 0:t.call(n);return e.state===r?e:et(et({},e),{},{state:r})}));return Ae(e.routes,r)?e:et(et({},e),{},{routes:r})}),[t,n]);d.useEffect((function(){return null===r||void 0===r?void 0:r("getState",o,s)}),[r,s,o])}({getState:oe,getStateListeners:de.getState});var me=We({state:X,screens:y,navigation:ge,screenOptions:t.screenOptions,defaultScreenOptions:t.defaultScreenOptions,onAction:fe,getState:oe,setState:H,onRouteFocus:pe,addListener:ue,addKeyedListener:he,router:g,emitter:se});!function(e){var t=e.state,n=e.navigation,r=e.descriptors,i=d.useContext(q);i&&n.isFocused()&&(i.options=r[t.routes[t.index].key].options)}({state:X,navigation:ge,descriptors:me});var ve=De((function(e){return d.createElement(_e.Provider,{value:ge},d.createElement(Ce,null,e))}));return{state:X,navigation:ge,descriptors:me,NavigationContent:ve}}function at(){var e=d.useRef(null);return null==e.current&&(e.current=g()),e.current}function lt(e){var t=xe(),n=d.useState((function(){return e(t.getState())})),r=(0,i.default)(n,2)[1],o=d.useRef(e);return d.useEffect((function(){o.current=e})),d.useEffect((function(){return t.addListener("state",(function(e){r(o.current(e.data.state))}))}),[t]),e(t.getState())}function ut(){var e=d.useContext(be);if(null==e)throw new Error("Couldn't find the prevent remove context. Is your component inside NavigationContent?");return e}function ct(){var e=d.useContext(k);if(void 0===e)throw new Error("Couldn't find a route object. Is your component inside a screen in a navigator?");return e}function dt(e,t){var n=d.useState((function(){return(0,we.nanoid)()})),r=(0,i.default)(n,1)[0],o=xe(),s=ct().key,a=ut().setPreventRemove;d.useEffect((function(){return a(r,s,e),function(){a(r,s,!1)}}),[a,r,s,e]);var l=ke()((function(n){e&&(n.preventDefault(),t({data:n.data}))}));d.useEffect((function(){return null===o||void 0===o?void 0:o.addListener("beforeRemove",l)}),[o,l])}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const pt={getStateForAction:function(e,t){switch(t.type){case"SET_PARAMS":var n=t.source?e.routes.findIndex((function(e){return e.key===t.source})):e.index;return-1===n?null:ft(ft({},e),{},{routes:e.routes.map((function(e,r){return r===n?ft(ft({},e),{},{params:ft(ft({},e.params),t.payload.params)}):e}))});case"RESET":var r=t.payload;return 0===r.routes.length||r.routes.some((function(t){return!e.routeNames.includes(t.name)}))?null:!1===r.stale?e.routeNames.length!==r.routeNames.length||r.routeNames.some((function(t){return!e.routeNames.includes(t)}))?null:ft(ft({},r),{},{routes:r.routes.map((function(e){return e.key?e:ft(ft({},e),{},{key:`${e.name}-${(0,we.nanoid)()}`})}))}):r;default:return null}},shouldActionChangeFocus:function(e){return"NAVIGATE"===e.type}};function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt="route",yt={jumpTo:function(e,t){return{type:"JUMP_TO",payload:{name:e,params:t}}}},_t=function(e,t,n,r){var i,o=[{type:vt,key:e[t].key}];switch(n){case"order":for(var s=t;s>0;s--)o.unshift({type:vt,key:e[s-1].key});break;case"firstRoute":0!==t&&o.unshift({type:vt,key:e[0].key});break;case"initialRoute":t!==(i=-1===(i=e.findIndex((function(e){return e.name===r})))?0:i)&&o.unshift({type:vt,key:e[i].key})}return o},bt=function(e,t,n,r){var i;if("history"===n){var o=e.routes[t].key;i=e.history.filter((function(e){return"route"===e.type&&e.key!==o})).concat({type:vt,key:o})}else i=_t(e.routes,t,n,r);return mt(mt({},e),{},{index:t,history:i})};function wt(e){var t=e.initialRouteName,n=e.backBehavior,r=void 0===n?"firstRoute":n;return mt(mt({},pt),{},{type:"tab",getInitialState:function(e){var n=e.routeNames,i=e.routeParamList,o=void 0!==t&&n.includes(t)?n.indexOf(t):0,s=n.map((function(e){return{name:e,key:`${e}-${(0,we.nanoid)()}`,params:i[e]}})),a=_t(s,o,r,t);return{stale:!1,type:"tab",key:`tab-${(0,we.nanoid)()}`,index:o,routeNames:n,history:a,routes:s}},getRehydratedState:function(e,n){var i,o,s,a,l=n.routeNames,u=n.routeParamList,c=e;if(!1===c.stale)return c;var d=l.map((function(e){var t=c.routes.find((function(t){return t.name===e}));return mt(mt({},t),{},{name:e,key:t&&t.name===e&&t.key?t.key:`${e}-${(0,we.nanoid)()}`,params:void 0!==u[e]?mt(mt({},u[e]),t?t.params:void 0):t?t.params:void 0})})),h=Math.min(Math.max(l.indexOf(null===(s=c.routes[null!=(i=null===c||void 0===c?void 0:c.index)?i:0])||void 0===s?void 0:s.name),0),d.length-1),f=null!=(o=null===(a=c.history)||void 0===a?void 0:a.filter((function(e){return d.find((function(t){return t.key===e.key}))})))?o:[];return bt({stale:!1,type:"tab",key:`tab-${(0,we.nanoid)()}`,index:h,routeNames:l,history:f,routes:d},h,r,t)},getStateForRouteNamesChange:function(e,n){var i=n.routeNames,o=n.routeParamList,s=n.routeKeyChanges,a=i.map((function(t){return e.routes.find((function(e){return e.name===t&&!s.includes(e.name)}))||{name:t,key:`${t}-${(0,we.nanoid)()}`,params:o[t]}})),l=Math.max(0,i.indexOf(e.routes[e.index].name)),u=e.history.filter((function(e){return"route"!==e.type||a.find((function(t){return t.key===e.key}))}));return u.length||(u=_t(a,l,r,t)),mt(mt({},e),{},{history:u,routeNames:i,routes:a,index:l})},getStateForRouteFocus:function(e,n){var i=e.routes.findIndex((function(e){return e.key===n}));return-1===i||i===e.index?e:bt(e,i,r,t)},getStateForAction:function(e,n,i){var o=i.routeParamList,s=i.routeGetIdList;switch(n.type){case"JUMP_TO":case"NAVIGATE":var a=-1;return-1===(a="NAVIGATE"===n.type&&n.payload.key?e.routes.findIndex((function(e){return e.key===n.payload.key})):e.routes.findIndex((function(e){return e.name===n.payload.name})))?null:bt(mt(mt({},e),{},{routes:e.routes.map((function(e,t){if(t!==a)return e;var r,i=s[e.name],l=null===i||void 0===i?void 0:i({params:e.params}),u=null===i||void 0===i?void 0:i({params:n.payload.params}),c=l===u?e.key:`${e.name}-${(0,we.nanoid)()}`;r="NAVIGATE"===n.type&&n.payload.merge&&l===u?void 0!==n.payload.params||void 0!==o[e.name]?mt(mt(mt({},o[e.name]),e.params),n.payload.params):e.params:void 0!==o[e.name]?mt(mt({},o[e.name]),n.payload.params):n.payload.params;var d="NAVIGATE"===n.type&&null!=n.payload.path?n.payload.path:e.path;return r!==e.params||d!==e.path?mt(mt({},e),{},{key:c,path:d,params:r}):e}))}),a,r,t);case"GO_BACK":if(1===e.history.length)return null;var l=e.history[e.history.length-2].key,u=e.routes.findIndex((function(e){return e.key===l}));return-1===u?null:mt(mt({},e),{},{history:e.history.slice(0,-1),index:u});default:return pt.getStateForAction(e,n)}},shouldActionChangeFocus:function(e){return"NAVIGATE"===e.type},actionCreators:yt})}var St=["defaultStatus"];function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct=Et(Et({},yt),{},{openDrawer:function(){return{type:"OPEN_DRAWER"}},closeDrawer:function(){return{type:"CLOSE_DRAWER"}},toggleDrawer:function(){return{type:"TOGGLE_DRAWER"}}});function It(e){var t=e.defaultStatus,n=void 0===t?"closed":t,r=wt((0,s.default)(e,St)),i=function(e){var t;return Boolean(null===(t=e.history)||void 0===t?void 0:t.some((function(e){return"drawer"===e.type})))},o=function(e){return i(e)?e:Et(Et({},e),{},{history:[].concat((0,h.default)(e.history),[{type:"drawer",status:"open"===n?"closed":"open"}])})},a=function(e){return i(e)?Et(Et({},e),{},{history:e.history.filter((function(e){return"drawer"!==e.type}))}):e},l=function(e){return"open"===n?o(e):a(e)};return Et(Et({},r),{},{type:"drawer",getInitialState:function(e){var t=e.routeNames,i=e.routeParamList,o=e.routeGetIdList;return Et(Et({},r.getInitialState({routeNames:t,routeParamList:i,routeGetIdList:o})),{},{default:n,stale:!1,type:"drawer",key:`drawer-${(0,we.nanoid)()}`})},getRehydratedState:function(e,t){var s=t.routeNames,l=t.routeParamList,u=t.routeGetIdList;if(!1===e.stale)return e;var c=r.getRehydratedState(e,{routeNames:s,routeParamList:l,routeGetIdList:u});return i(e)&&(c=a(c),c=o(c)),Et(Et({},c),{},{default:n,type:"drawer",key:`drawer-${(0,we.nanoid)()}`})},getStateForRouteFocus:function(e,t){var n=r.getStateForRouteFocus(e,t);return l(n)},getStateForAction:function(e,t,s){switch(t.type){case"OPEN_DRAWER":return function(e){return"open"===n?a(e):o(e)}(e);case"CLOSE_DRAWER":return l(e);case"TOGGLE_DRAWER":return i(e)?a(e):o(e);case"JUMP_TO":case"NAVIGATE":var u=r.getStateForAction(e,t,s);return null!=u&&u.index!==e.index?l(u):u;case"GO_BACK":return i(e)?a(e):r.getStateForAction(e,t,s);default:return r.getStateForAction(e,t,s)}},actionCreators:Ct})}function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xt={replace:function(e,t){return{type:"REPLACE",payload:{name:e,params:t}}},push:function(e,t){return{type:"PUSH",payload:{name:e,params:t}}},pop:function(){return{type:"POP",payload:{count:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}}},popToTop:function(){return{type:"POP_TO_TOP"}}};function Ot(e){var t=Rt(Rt({},pt),{},{type:"stack",getInitialState:function(t){var n=t.routeNames,r=t.routeParamList,i=void 0!==e.initialRouteName&&n.includes(e.initialRouteName)?e.initialRouteName:n[0];return{stale:!1,type:"stack",key:`stack-${(0,we.nanoid)()}`,index:0,routeNames:n,routes:[{key:`${i}-${(0,we.nanoid)()}`,name:i,params:r[i]}]}},getRehydratedState:function(t,n){var r=n.routeNames,i=n.routeParamList,o=t;if(!1===o.stale)return o;var s=o.routes.filter((function(e){return r.includes(e.name)})).map((function(e){return Rt(Rt({},e),{},{key:e.key||`${e.name}-${(0,we.nanoid)()}`,params:void 0!==i[e.name]?Rt(Rt({},i[e.name]),e.params):e.params})}));if(0===s.length){var a=void 0!==e.initialRouteName?e.initialRouteName:r[0];s.push({key:`${a}-${(0,we.nanoid)()}`,name:a,params:i[a]})}return{stale:!1,type:"stack",key:`stack-${(0,we.nanoid)()}`,index:s.length-1,routeNames:r,routes:s}},getStateForRouteNamesChange:function(t,n){var r=n.routeNames,i=n.routeParamList,o=n.routeKeyChanges,s=t.routes.filter((function(e){return r.includes(e.name)&&!o.includes(e.name)}));if(0===s.length){var a=void 0!==e.initialRouteName&&r.includes(e.initialRouteName)?e.initialRouteName:r[0];s.push({key:`${a}-${(0,we.nanoid)()}`,name:a,params:i[a]})}return Rt(Rt({},t),{},{routeNames:r,routes:s,index:Math.min(t.index,s.length-1)})},getStateForRouteFocus:function(e,t){var n=e.routes.findIndex((function(e){return e.key===t}));return-1===n||n===e.index?e:Rt(Rt({},e),{},{index:n,routes:e.routes.slice(0,n+1)})},getStateForAction:function(e,n,r){var i=r.routeParamList;switch(n.type){case"REPLACE":var o=n.target===e.key&&n.source?e.routes.findIndex((function(e){return e.key===n.source})):e.index;if(-1===o)return null;var s=n.payload,a=s.name,l=s.key,u=s.params;return e.routeNames.includes(a)?Rt(Rt({},e),{},{routes:e.routes.map((function(e,t){return t===o?{key:void 0!==l?l:`${a}-${(0,we.nanoid)()}`,name:a,params:void 0!==i[a]?Rt(Rt({},i[a]),u):u}:e}))}):null;case"PUSH":if(e.routeNames.includes(n.payload.name)){var c,d=r.routeGetIdList[n.payload.name],f=null===d||void 0===d?void 0:d({params:n.payload.params}),p=f?e.routes.find((function(e){return e.name===n.payload.name&&f===(null===d||void 0===d?void 0:d({params:e.params}))})):void 0;return p?(c=e.routes.filter((function(e){return e.key!==p.key}))).push(Rt(Rt({},p),{},{params:void 0!==i[n.payload.name]?Rt(Rt({},i[n.payload.name]),n.payload.params):n.payload.params})):c=[].concat((0,h.default)(e.routes),[{key:`${n.payload.name}-${(0,we.nanoid)()}`,name:n.payload.name,params:void 0!==i[n.payload.name]?Rt(Rt({},i[n.payload.name]),n.payload.params):n.payload.params}]),Rt(Rt({},e),{},{index:c.length-1,routes:c})}return null;case"POP":var g=n.target===e.key&&n.source?e.routes.findIndex((function(e){return e.key===n.source})):e.index;if(g>0){var m=Math.max(g-n.payload.count+1,1),v=e.routes.slice(0,m).concat(e.routes.slice(g+1));return Rt(Rt({},e),{},{index:v.length-1,routes:v})}return null;case"POP_TO_TOP":return t.getStateForAction(e,{type:"POP",payload:{count:e.routes.length-1}},r);case"NAVIGATE":if(void 0!==n.payload.name&&!e.routeNames.includes(n.payload.name))return null;if(n.payload.key||n.payload.name){var y,_=-1,b=void 0===n.payload.key&&void 0!==n.payload.name?r.routeGetIdList[n.payload.name]:void 0,w=null===b||void 0===b?void 0:b({params:n.payload.params});if(w)_=e.routes.findIndex((function(e){return e.name===n.payload.name&&w===(null===b||void 0===b?void 0:b({params:e.params}))}));else if(e.routes[e.index].name===n.payload.name&&void 0===n.payload.key||e.routes[e.index].key===n.payload.key)_=e.index;else for(var S=e.routes.length-1;S>=0;S--)if(e.routes[S].name===n.payload.name&&void 0===n.payload.key||e.routes[S].key===n.payload.key){_=S;break}if(-1===_&&n.payload.key&&void 0===n.payload.name)return null;if(-1===_&&void 0!==n.payload.name){var k,E=[].concat((0,h.default)(e.routes),[{key:null!=(k=n.payload.key)?k:`${n.payload.name}-${(0,we.nanoid)()}`,name:n.payload.name,path:n.payload.path,params:void 0!==i[n.payload.name]?Rt(Rt({},i[n.payload.name]),n.payload.params):n.payload.params}]);return Rt(Rt({},e),{},{routes:E,index:E.length-1})}var C,I=e.routes[_];return C=n.payload.merge?void 0!==n.payload.params||void 0!==i[I.name]?Rt(Rt(Rt({},i[I.name]),I.params),n.payload.params):I.params:void 0!==i[I.name]?Rt(Rt({},i[I.name]),n.payload.params):n.payload.params,Rt(Rt({},e),{},{index:_,routes:[].concat((0,h.default)(e.routes.slice(0,_)),[C!==I.params||n.payload.path&&n.payload.path!==I.path?Rt(Rt({},I),{},{path:null!=(y=n.payload.path)?y:I.path,params:C}):e.routes[_]])})}return null;case"GO_BACK":return e.index>0?t.getStateForAction(e,{type:"POP",payload:{count:1},target:n.target,source:n.source},r):null;default:return pt.getStateForAction(e,n)}},actionCreators:xt});return t}},6288:e=>{"use strict";e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},5309:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case m:case g:case l:return e;default:return t}}case i:return t}}}function S(e){return w(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||w(e)===c},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===v)},t.typeOf=w},9814:(e,t,n)=>{"use strict";e.exports=n(5309)},7158:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var r=n(885),i=n(4942),o=n(5987),s=n(6628),a=n(9),l=a.createContext({options:void 0});l.displayName="LinkingContext";const u=l;var c=n(5888),d=n(4787);function h(e){var t=e.value,n=e.children;return a.createElement(d.default.Provider,{value:t},n)}var f=n(7434);var p=n(5861),g=n(7901),m=n.n(g),v=n(7012);function y(){var e=0,t=[],n=[],r=function(){n.forEach((function(e){var t=e.cb;e.cb=function(){return t(!0)}}))};return{get index(){var e,n=null===(e=window.history.state)||void 0===e?void 0:e.id;if(n){var r=t.findIndex((function(e){return e.id===n}));return r>-1?r:0}return 0},get:function(e){return t[e]},backIndex:function(n){for(var r=n.path,i=e-1;i>=0;i--){if(t[i].path===r)return i}return-1},push:function(n){var i=n.path,o=n.state;r();var s=(0,v.nanoid)();(t=t.slice(0,e+1)).push({path:i,state:o,id:s}),e=t.length-1,window.history.pushState({id:s},"",i)},replace:function(n){var i,o,s=n.path,a=n.state;r();var l=null!=(i=null===(o=window.history.state)||void 0===o?void 0:o.id)?i:(0,v.nanoid)(),u=s;!t.length||t.findIndex((function(e){return e.id===l}))<0?(u+=location.hash,t=[{path:u,state:a,id:l}],e=0):(t[e].path===s&&(u+=location.hash),t[e]={path:s,state:a,id:l}),window.history.replaceState({id:l},"",u)},go:function(i){r();var o=e+i,s=t.length-1;if(i<0&&!t[o]?(i=-e,e=0):i>0&&o>s?(i=s-e,e=s):e=o,0!==i)return new Promise((function(r,o){var s=function(e){if(clearTimeout(a),e)o(new Error("History was changed during navigation."));else{var t=window.document.title;window.document.title="",window.document.title=t,r()}};n.push({ref:s,cb:s});var a=setTimeout((function(){var e=n.findIndex((function(e){return e.ref===s}));e>-1&&(n[e].cb(),n.splice(e,1))}),100);window.addEventListener("popstate",(function r(){var i,o=null===(i=window.history.state)||void 0===i?void 0:i.id,s=t.findIndex((function(e){return e.id===o}));e=Math.max(s,0);var a=n.pop();window.removeEventListener("popstate",r),null===a||void 0===a||a.cb()})),window.history.go(i)}))},listen:function(e){var t=function(){n.length||e()};return window.addEventListener("popstate",t),function(){return window.removeEventListener("popstate",t)}}}}const _=a.createContext(void 0);var b=function e(t,n){if(void 0===t||void 0===n||t.key!==n.key)return[void 0,void 0];var r=t.history?t.history.length:t.routes.length,i=n.history?n.history.length:n.routes.length,o=t.routes[t.index],s=n.routes[n.index],a=o.state,l=s.state;return r!==i||o.key!==s.key||void 0===a||void 0===l||a.key!==l.key?[t,n]:e(a,l)},w=function(e){var t=!1,n=[],r=function(){var i=(0,p.default)((function*(){try{if(t)return void n.unshift(r);t=!0,yield e()}finally{if(t=!1,n.length){var i=n.pop();null===i||void 0===i||i()}}}));return function(){return i.apply(this,arguments)}}();return r};var S=["theme","linking","fallback","documentTitle","onReady"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}n.g.REACT_NAVIGATION_DEVTOOLS=new WeakMap;const I=a.forwardRef((function(e,t){var n=e.theme,i=void 0===n?c.default:n,l=e.linking,d=e.fallback,g=void 0===d?null:d,v=e.documentTitle,k=e.onReady,I=(0,o.default)(e,S),T=!!l&&!1!==l.enabled;null!==l&&void 0!==l&&l.config&&(0,s.validatePathConfig)(l.config);var R=a.useRef(null);!function(e){a.useEffect((function(){var t=f.default.addEventListener("hardwareBackPress",(function(){var t=e.current;return null!=t&&!!t.canGoBack()&&(t.goBack(),!0)}));return function(){return t.remove()}}),[e])}(R),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enabled,r=void 0===n||n,i=t.formatter,o=void 0===i?function(e,t){var n;return null!=(n=null===e||void 0===e?void 0:e.title)?n:null===t||void 0===t?void 0:t.name}:i;a.useEffect((function(){if(r){var t=e.current;if(t){var n=o(t.getCurrentOptions(),t.getCurrentRoute());document.title=n}return null===t||void 0===t?void 0:t.addListener("options",(function(e){var n=o(e.data.options,null===t||void 0===t?void 0:t.getCurrentRoute());document.title=n}))}}))}(R,v);var x=function(e,t){var n=t.independent,i=t.enabled,o=void 0===i||i,l=t.config,u=t.getStateFromPath,c=void 0===u?s.getStateFromPath:u,d=t.getPathFromState,h=void 0===d?s.getPathFromState:d,f=t.getActionFromState,g=void 0===f?s.getActionFromState:f;a.useEffect((function(){}),[o,n]);var v=a.useState(y),S=(0,r.default)(v,1)[0],k=a.useRef(o),E=a.useRef(l),C=a.useRef(c),I=a.useRef(h),T=a.useRef(g);a.useEffect((function(){k.current=o,E.current=l,C.current=c,I.current=h,T.current=g}));var R=a.useContext(_),x=a.useCallback((function(){var e;if(k.current){var t,n=null!=(t=null===R||void 0===R?void 0:R.location)?t:"undefined"!==typeof window?window.location:void 0,r=n?n.pathname+n.search:void 0;r&&(e=C.current(r,E.current))}var i={then:function(t){return Promise.resolve(t?t(e):e)},catch:function(){return i}};return i}),[]),O=a.useRef(void 0),P=a.useRef(void 0),A=a.useRef(void 0);return a.useEffect((function(){return O.current=S.index,S.listen((function(){var t,n=e.current;if(n&&o){var r=location.pathname+location.search,i=S.index,s=null!=(t=O.current)?t:0;O.current=i,A.current=r;var a=S.get(i);if((null===a||void 0===a?void 0:a.path)===r&&null!==a&&void 0!==a&&a.state)n.resetRoot(a.state);else{var l=C.current(r,E.current);if(l){var u=n.getRootState();if(l.routes.some((function(e){return!(null!==u&&void 0!==u&&u.routeNames.includes(e.name))})))return void console.warn("The navigation state parsed from the URL contains routes not present in the root navigator. This usually means that the linking configuration doesn't match the navigation structure. See https://reactnavigation.org/docs/configuring-links for more details on how to specify a linking configuration.");if(i>s){var c=T.current(l,E.current);if(void 0!==c)try{n.dispatch(c)}catch(d){console.warn(`An error occurred when trying to handle the link '${r}': ${"object"===typeof d&&null!=d&&"message"in d?d.message:d}`)}else n.resetRoot(l)}else n.resetRoot(l)}else n.resetRoot(l)}}}))}),[o,S,e]),a.useEffect((function(){var t;if(o){var n=function(e,t){if(null!==e&&void 0!==e&&e.path){var n=C.current(e.path,E.current);if(n){var r=(0,s.findFocusedRoute)(n);if(r&&r.name===e.name&&m()(r.params,e.params))return e.path}}return I.current(t,E.current)};if(e.current){var i=e.current.getRootState();if(i){var a=(0,s.findFocusedRoute)(i),l=n(a,i);void 0===P.current&&(P.current=i),S.replace({path:l,state:i})}}var u=function(){var t=(0,p.default)((function*(){var t=e.current;if(t&&o){var i=P.current,a=t.getRootState();if(a){var l=A.current,u=(0,s.findFocusedRoute)(a),c=n(u,a);P.current=a,A.current=void 0;var d=b(i,a),h=(0,r.default)(d,2),f=h[0],p=h[1];if(f&&p&&c!==l){var g=(p.history?p.history.length:p.routes.length)-(f.history?f.history.length:f.routes.length);if(g>0)S.push({path:c,state:a});else if(g<0){var m=S.backIndex({path:c}),v=S.index;try{-1!==m&&m<v?yield S.go(m-v):yield S.go(g),S.replace({path:c,state:a})}catch(y){}}else S.replace({path:c,state:a})}else S.replace({path:c,state:a})}}}));return function(){return t.apply(this,arguments)}}();return null===(t=e.current)||void 0===t?void 0:t.addListener("state",w(u))}}),[o,S,e]),{getInitialState:x}}(R,E({independent:I.independent,enabled:T,prefixes:[]},l)).getInitialState;a.useEffect((function(){R.current&&REACT_NAVIGATION_DEVTOOLS.set(R.current,{get linking(){var e,t,n,r;return E(E({},l),{},{enabled:T,prefixes:null!=(e=null===l||void 0===l?void 0:l.prefixes)?e:[],getStateFromPath:null!=(t=null===l||void 0===l?void 0:l.getStateFromPath)?t:s.getStateFromPath,getPathFromState:null!=(n=null===l||void 0===l?void 0:l.getPathFromState)?n:s.getPathFromState,getActionFromState:null!=(r=null===l||void 0===l?void 0:l.getActionFromState)?r:s.getActionFromState})}})}));var O=function(e){var t=a.useState(e),n=(0,r.default)(t,1)[0],i=[!1,void 0];n.then((function(e){i=[!0,e]}));var o=a.useState(i),s=(0,r.default)(o,2),l=s[0],u=s[1],c=(0,r.default)(l,1)[0];return a.useEffect((function(){var e=!1,t=function(){var t=(0,p.default)((function*(){var t;try{t=yield n}finally{e||u([!0,t])}}));return function(){return t.apply(this,arguments)}}();return c||t(),function(){e=!0}}),[n,c]),l}(x),P=(0,r.default)(O,2),A=P[0],N=P[1];a.useImperativeHandle(t,(function(){return R.current}));var D=a.useMemo((function(){return{options:l}}),[l]),L=null!=I.initialState||!T||A,M=a.useRef(k);return a.useEffect((function(){M.current=k})),a.useEffect((function(){var e;L&&(null===(e=M.current)||void 0===e||e.call(M))}),[L]),L?a.createElement(u.Provider,{value:D},a.createElement(h,{value:i},a.createElement(s.BaseNavigationContainer,C({},I,{initialState:null==I.initialState?N:I.initialState,ref:R})))):g}))},5888:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={dark:!1,colors:{primary:"rgb(0, 122, 255)",background:"rgb(242, 242, 242)",card:"rgb(255, 255, 255)",text:"rgb(28, 28, 30)",border:"rgb(216, 216, 216)",notification:"rgb(255, 59, 48)"}}},4787:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(9),i=n(5888),o=r.createContext(i.default);o.displayName="ThemeContext";const s=o},5702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Sr});var r=n(4942),i=n(5987),o=n(6628),s=n(9),a=n(3160),l=n.n(a),u=n(2982),c=n(5671),d=n(3144),h=n(136),f=n(2963),p=n(1120),g=n(5076),m=n(726),v=n(3331),y=n(264),_=n(885),b={WebkitTransition:"webkitTransitionEnd",Transition:"transitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd"};function w(e){var t=e.children,n=e.style,r=e.onInsetsChange;return s.useEffect((function(){if("undefined"!==typeof document){var e=function(){var e=document.createElement("div"),t=e.style;return t.position="fixed",t.left="0",t.top="0",t.width="0",t.height="0",t.zIndex="-1",t.overflow="hidden",t.visibility="hidden",t.transitionDuration="0.05s",t.transitionProperty="padding",t.transitionDelay="0s",t.paddingTop=C("top"),t.paddingBottom=C("bottom"),t.paddingLeft=C("left"),t.paddingRight=C("right"),e}();document.body.appendChild(e);var t=function(){var t=window.getComputedStyle(e),n=t.paddingTop,i=t.paddingBottom,o=t.paddingLeft,s=t.paddingRight,a={top:n?parseInt(n,10):0,bottom:i?parseInt(i,10):0,left:o?parseInt(o,10):0,right:s?parseInt(s,10):0},l={x:0,y:0,width:document.documentElement.offsetWidth,height:document.documentElement.offsetHeight};r({nativeEvent:{insets:a,frame:l}})};return e.addEventListener(k(),t),t(),function(){document.body.removeChild(e),e.removeEventListener(k(),t)}}}),[r]),s.createElement(y.default,{style:n},t)}var S=null;function k(){if(null!=S)return S;var e=document.createElement("invalidtype");for(var t in S=b.Transition,b)if(void 0!==e.style[t]){S=b[t];break}return S}var E=null;function C(e){return`${function(){if(null!==E)return E;var e=window.CSS;return E=e&&e.supports&&e.supports("top: constant(safe-area-inset-top)")?"constant":"env"}()}(safe-area-inset-${e})`}var I=["children","initialMetrics","initialSafeAreaInsets","style"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}var R=s.createContext(null);var x=s.createContext(null);function O(e){var t,n,r,o,a,l=e.children,u=e.initialMetrics,c=e.initialSafeAreaInsets,d=e.style,h=(0,i.default)(e,I),f=s.useContext(R),p=s.useContext(x),m=s.useState(null!=(t=null!=(n=null!=(r=null===u||void 0===u?void 0:u.insets)?r:c)?n:f)?t:null),v=(0,_.default)(m,2),y=v[0],b=v[1],S=s.useState(null!=(o=null!=(a=null===u||void 0===u?void 0:u.frame)?a:p)?o:{x:0,y:0,width:g.default.get("window").width,height:g.default.get("window").height}),k=(0,_.default)(S,2),E=k[0],C=k[1],O=s.useCallback((function(e){var t=e.nativeEvent,n=t.frame,r=t.insets;!n||n.height===E.height&&n.width===E.width&&n.x===E.x&&n.y===E.y||C(n),y&&r.bottom===y.bottom&&r.left===y.left&&r.right===y.right&&r.top===y.top||b(r)}),[E,y]);return s.createElement(w,T({style:[P.fill,d],onInsetsChange:O},h),null!=y?s.createElement(x.Provider,{value:E},s.createElement(R.Provider,{value:y},l)):null)}var P=v.default.create({fill:{flex:1}});var A="No safe area value available. Make sure you are rendering `<SafeAreaProvider>` at the top of your app.";function N(){var e=s.useContext(R);if(null==e)throw new Error(A);return e}R.Consumer;var D=g.default.get("window"),L=D.width,M=void 0===L?0:L,F=D.height,j=void 0===F?0:F,V=(m.default.OS,{frame:{x:0,y:0,width:M,height:j},insets:{top:0,left:0,right:0,bottom:0}});function U(e){var t=e.children,n=e.style;return s.createElement(R.Consumer,null,(function(e){return e?s.createElement(y.default,{style:[q.container,n]},t):s.createElement(O,{initialMetrics:V,style:n},t)}))}U.initialMetrics=V;var B,q=v.default.create({container:{flex:1}}),z="__react_navigation__elements_contexts";function H(e,t){var r=n.g[z].get(e);return r||((r=s.createContext(t)).displayName=e,n.g[z].set(e,r),r)}n.g[z]=null!=(B=n.g[z])?B:new Map;const W=H("HeaderShownContext",!1);const $=s.createContext(!1);var K=function(e){var t=e.children;return s.createElement(s.Fragment,null,t)},G=y.default,Q=3,Y=4,X=5;const J=H("HeaderBackContext",void 0);function Z(e,t){return"string"===typeof e.headerTitle?e.headerTitle:void 0!==e.title?e.title:t}var ee=n(6926);const te={allowRTL:function(){},forceRTL:function(){},getConstants:function(){return{isRTL:!1}}};var ne=ee.default.add;function re(e){var t=e.current,n=e.next,r=ne(t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),n?n.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0),i=r.interpolate({inputRange:[0,1,2],outputRange:[0,1,0]});return{leftButtonStyle:{opacity:i},rightButtonStyle:{opacity:i},titleStyle:{opacity:i},backgroundStyle:{opacity:r.interpolate({inputRange:[0,1,1.9,2],outputRange:[0,1,1,0]})}}}function ie(e){var t=e.current,n=e.next,r=e.layouts.screen,i=[{translateX:ne(t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),n?n.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0).interpolate({inputRange:[0,1,2],outputRange:te.getConstants().isRTL?[-r.width,0,r.width]:[r.width,0,-r.width]})}];return{leftButtonStyle:{transform:i},rightButtonStyle:{transform:i},titleStyle:{transform:i},backgroundStyle:{transform:i}}}function oe(e){var t=e.current,n=e.next,r=e.layouts.screen,i=[{translateX:ne(t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),n?n.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0).interpolate({inputRange:[0,1,2],outputRange:te.getConstants().isRTL?[r.width,0,-r.width]:[-r.width,0,r.width]})}];return{leftButtonStyle:{transform:i},rightButtonStyle:{transform:i},titleStyle:{transform:i},backgroundStyle:{transform:i}}}function se(e){var t=e.current,n=e.next,r=e.layouts.header,i=[{translateY:ne(t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),n?n.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0).interpolate({inputRange:[0,1,2],outputRange:[-r.height,0,-r.height]})}];return{leftButtonStyle:{transform:i},rightButtonStyle:{transform:i},titleStyle:{transform:i},backgroundStyle:{transform:i}}}function ae(){return{}}var le=n(4787);function ue(){return s.useContext(le.default)}var ce=n(187);function de(e){return e.children}var he=n(6594),fe=n(7462),pe=n(3366),ge=n(6067),me=n(3808),ve=function(){};var ye=function(){var e=!1;if(me.default)try{var t={};Object.defineProperty(t,"passive",{get:function(){return e=!0,!1}}),window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){}return e}();function _e(){return this.cancelBubble}function be(){return this.defaultPrevented}function we(e,t,n,r){var i=function(e){return null!=e&&(ye?e:Boolean(e.capture))}(r),o=function(e){return n(((t=e).nativeEvent=t,t.persist=ve,t.isDefaultPrevented=be,t.isPropagationStopped=_e,t));var t};return e.addEventListener(t,o,i),function(){null!=e&&e.removeEventListener(t,o,i)}}var Se,ke,Ee="keyboard",Ce="keyboard",Ie=!1,Te=new Set,Re="keyboard",xe="mouse",Oe="touch",Pe="contextmenu",Ae="mousedown",Ne="mousemove",De="mouseup",Le="pointerdown",Me="pointermove",Fe="scroll",je="selectionchange",Ve="touchcancel",Ue="touchmove",Be="touchstart",qe={passive:!0},ze={capture:!0,passive:!0};function He(){null==Se&&null==ke||(null!=Se&&(Ce=Se,Se=null),null!=ke&&(Ee=ke,ke=null),$e())}function We(e){var t=e.type;if("undefined"!==typeof window&&null!=window.PointerEvent){if(t===Le)return void(Ee!==e.pointerType&&(Ce=e.pointerType,Ee=e.pointerType,$e()));if(t===Me)return void(Ce!==e.pointerType&&(Ce=e.pointerType,$e()))}else{if(Ie||(t===Ae&&Ee!==xe&&(Ce=xe,Ee=xe,$e()),t===Ne&&Ce!==xe&&(Ce=xe,$e())),t===Be)return Ie=!0,e.touches&&e.touches.length>1&&(Ie=!1),void(Ee!==Oe&&(Ce=Oe,Ee=Oe,$e()));t!==Pe&&t!==De&&t!==je&&t!==Fe&&t!==Ve&&t!==Ue||(Ie=!1)}}function $e(){var e={activeModality:Ee,modality:Ce};Te.forEach((function(t){t(e)}))}me.default&&(we(window,"blur",(function(){Se=Ce,ke=Ee,Ee=Re,Ce=Re,$e(),Ie=!1}),qe),we(window,"focus",(function(){He()}),qe),we(document,"keydown",(function(e){e.metaKey||e.altKey||e.ctrlKey||Ce!==Re&&(Ce=Re,Ee=Re,$e())}),ze),we(document,"visibilitychange",(function(){"hidden"!==document.visibilityState&&He()}),ze),we(document,Le,We,ze),we(document,Me,We,ze),we(document,Pe,We,ze),we(document,Ae,We,ze),we(document,Ne,We,ze),we(document,De,We,ze),we(document,Ve,We,ze),we(document,Ue,We,ze),we(document,Be,We,ze),we(document,je,We,ze),we(document,Fe,We,ze));var Ke=n(2653),Ge=n(2405);function Qe(e,t){var n=(0,Ge.default)((function(){return new Map})),r=(0,Ge.default)((function(){return function(r,i){var o=n.get(r);null!=o&&o(),null==i&&(n.delete(r),i=function(){});var s=we(r,e,i,t);return n.set(r,s),s}}));return(0,Ke.default)((function(){return function(){n.forEach((function(e){e()})),n.clear()}}),[n]),r}var Ye={},Xe={passive:!0},Je="react-gui:hover:lock",Ze="react-gui:hover:unlock",et=function(){return!("undefined"===typeof window||null==window.PointerEvent)};function tt(e,t,n){var r=document.createEvent("CustomEvent"),i=n||Ye,o=i.bubbles,s=void 0===o||o,a=i.cancelable,l=void 0===a||a,u=i.detail;r.initCustomEvent(t,s,l,u),e.dispatchEvent(r)}function nt(e){var t=e.pointerType;return null!=t?t:Ce}var rt=n(4640),it=["children","delayLongPress","delayPressIn","delayPressOut","disabled","onBlur","onContextMenu","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","tabIndex","testOnly_hovered","testOnly_pressed"];function ot(e){var t=(0,s.useState)(!1);return[t[0]||e,t[1]]}var st=v.default.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{pointerEvents:"box-none"}}),at=(0,s.memo)((0,s.forwardRef)((function(e,t){var n=e.children,r=e.delayLongPress,i=e.delayPressIn,o=e.delayPressOut,a=e.disabled,l=e.onBlur,u=e.onContextMenu,c=e.onFocus,d=e.onHoverIn,h=e.onHoverOut,f=e.onKeyDown,p=e.onLongPress,g=e.onPress,m=e.onPressMove,v=e.onPressIn,_=e.onPressOut,b=e.style,w=e.tabIndex,S=e.testOnly_hovered,k=e.testOnly_pressed,E=(0,pe.default)(e,it),C=ot(!0===S),I=C[0],T=C[1],R=ot(!1),x=R[0],O=R[1],P=ot(!0===k),A=P[0],N=P[1],D=(0,s.useRef)(null),L=(0,ge.default)(t,D),M=(0,s.useMemo)((function(){return{delayLongPress:r,delayPressStart:i,delayPressEnd:o,disabled:a,onLongPress:p,onPress:g,onPressChange:N,onPressStart:v,onPressMove:m,onPressEnd:_}}),[r,i,o,a,p,g,v,m,_,N]),F=(0,rt.default)(D,M),j=F.onContextMenu,V=F.onKeyDown;!function(e,t){var n=t.contain,r=t.disabled,i=t.onHoverStart,o=t.onHoverChange,s=t.onHoverUpdate,a=t.onHoverEnd,l=et(),u=Qe(l?"pointermove":"mousemove",Xe),c=Qe(l?"pointerenter":"mouseenter",Xe),d=Qe(l?"pointerleave":"mouseleave",Xe),h=Qe(Je,Xe),f=Qe(Ze,Xe);(0,Ke.default)((function(){var t=e.current;if(null!==t){var l=function(e){null!=a&&a(e),null!=o&&o(!1),u(t,null),d(t,null)},p=function(t){var r=e.current;null!=r&&"touch"!==nt(t)&&(n&&tt(r,Ze),l(t))},g=function(e){"touch"!==nt(e)&&null!=s&&(null==e.x&&(e.x=e.clientX),null==e.y&&(e.y=e.clientY),s(e))},m=function(e){null!=i&&i(e),null!=o&&o(!0),null!=s&&u(t,r?null:g),d(t,r?null:p)};c(t,r?null:function(t){var i=e.current;null!=i&&"touch"!==nt(t)&&(n&&tt(i,Je),m(t),h(i,r?null:function(e){e.target!==i&&l(t)}),f(i,r?null:function(e){e.target!==i&&m(t)}))})}}),[c,u,d,h,f,n,r,i,o,s,a,e])}(D,{contain:!0,disabled:a,onHoverChange:T,onHoverStart:d,onHoverEnd:h});var U,B={hovered:I,focused:x,pressed:A},q=s.useCallback((function(e){e.nativeEvent.target===D.current&&(O(!1),null!=l&&l(e))}),[D,O,l]),z=s.useCallback((function(e){e.nativeEvent.target===D.current&&(O(!0),null!=c&&c(e))}),[D,O,c]),H=s.useCallback((function(e){null!=j&&j(e),null!=u&&u(e)}),[u,j]),W=s.useCallback((function(e){null!=V&&V(e),null!=f&&f(e)}),[f,V]);return U=void 0!==w?w:a?-1:0,s.createElement(y.default,(0,fe.default)({},E,F,{"aria-disabled":a,onBlur:q,onContextMenu:H,onFocus:z,onKeyDown:W,ref:L,style:[a?st.disabled:st.active,"function"===typeof b?b(B):b],tabIndex:U}),"function"===typeof n?n(B):n)})));at.displayName="Pressable";const lt=at;var ut=["onPressIn","onPressOut","android_ripple","pressColor","pressOpacity","style"];function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(this,arguments)}var ft=ee.default.createAnimatedComponent(lt),pt="android"===m.default.OS&&m.default.Version>=21;function gt(e){var t=e.onPressIn,n=e.onPressOut,r=e.android_ripple,o=e.pressColor,a=e.pressOpacity,l=void 0===a?.3:a,u=e.style,c=(0,i.default)(e,ut),d=ue().dark,h=s.useState((function(){return new ee.default.Value(1)})),f=(0,_.default)(h,1)[0],p=function(e,t){pt||ee.default.timing(f,{toValue:e,duration:t,easing:he.default.inOut(he.default.quad),useNativeDriver:!0}).start()};return s.createElement(ft,ht({onPressIn:function(e){p(l,0),null===t||void 0===t||t(e)},onPressOut:function(e){p(1,200),null===n||void 0===n||n(e)},android_ripple:pt?dt({color:void 0!==o?o:d?"rgba(255, 255, 255, .32)":"rgba(0, 0, 0, .32)"},r):void 0,style:[{opacity:pt?1:f},u]},c))}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){var t=e.disabled,r=e.allowFontScaling,i=e.backImage,o=e.label,a=e.labelStyle,l=e.labelVisible,u=e.onLabelLayout,c=e.onPress,d=e.pressColor,h=e.pressOpacity,f=e.screenLayout,p=e.tintColor,g=e.titleLayout,v=e.truncatedLabel,b=void 0===v?"Back":v,w=e.accessibilityLabel,S=void 0===w?o&&"Back"!==o?`${o}, back`:"Go back":w,k=e.testID,E=e.style,C=ue().colors,I=s.useState(void 0),T=(0,_.default)(I,2),R=T[0],x=T[1],O=void 0!==p?p:m.default.select({ios:C.primary,default:C.text}),P=function(e){null===u||void 0===u||u(e),x(e.nativeEvent.layout.x+e.nativeEvent.layout.width)};return s.createElement(gt,{disabled:t,accessible:!0,accessibilityRole:"button",accessibilityLabel:S,testID:k,onPress:t?void 0:function(){return c&&requestAnimationFrame(c)},pressColor:d,pressOpacity:h,android_ripple:{borderless:!0},style:[yt.container,t&&yt.disabled,E],hitSlop:m.default.select({ios:void 0,default:{top:16,right:16,bottom:16,left:16}})},s.createElement(s.Fragment,null,i?i({tintColor:O}):s.createElement(ce.default,{style:[yt.icon,Boolean(l)&&yt.iconWithLabel,Boolean(O)&&{tintColor:O}],source:n(3748),fadeDuration:0}),function(){var e=!o||R&&g&&f&&(f.width-g.width)/2<R+26?b:o;if(!l||void 0===e)return null;var t=s.createElement(y.default,{style:f?[yt.labelWrapper,{minWidth:f.width/2-27}]:null},s.createElement(ee.default.Text,{accessible:!1,onLayout:e===o?P:void 0,style:[yt.label,O?{color:O}:null,a],numberOfLines:1,allowFontScaling:!!r},e));return i||"ios"!==m.default.OS?t:s.createElement(de,{maskElement:s.createElement(y.default,{style:yt.iconMaskContainer},s.createElement(ce.default,{source:n(5425),style:yt.iconMask}),s.createElement(y.default,{style:yt.iconMaskFillerRect}))},t)}()))}var yt=v.default.create({container:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({alignItems:"center",flexDirection:"row",minWidth:v.default.hairlineWidth},m.default.select({ios:null,default:{marginVertical:3,marginHorizontal:11}})),disabled:{opacity:.5},label:{fontSize:17,letterSpacing:.35},labelWrapper:{flexDirection:"row",alignItems:"flex-start"},icon:m.default.select({ios:{height:21,width:13,marginLeft:8,marginRight:22,marginVertical:12,resizeMode:"contain",transform:[{scaleX:te.getConstants().isRTL?-1:1}]},default:{height:24,width:24,margin:3,resizeMode:"contain",transform:[{scaleX:te.getConstants().isRTL?-1:1}]}}),iconWithLabel:"ios"===m.default.OS?{marginRight:6}:{},iconMaskContainer:{flex:1,flexDirection:"row",justifyContent:"center"},iconMaskFillerRect:{flex:1,backgroundColor:"#000"},iconMask:{height:21,width:13,marginLeft:-14.5,marginVertical:12,alignSelf:"center",resizeMode:"contain",transform:[{scaleX:te.getConstants().isRTL?-1:1}]}});function _t(e,t,n){var r=e.width>e.height;return("ios"===m.default.OS?m.default.isPad||m.default.isTV?t?56:50:r?32:t?56:44:"android"===m.default.OS?56:64)+n}var bt=["tintColor","style"];function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wt.apply(this,arguments)}function St(e){var t=e.tintColor,n=e.style,r=(0,i.default)(e,bt),o=ue().colors;return s.createElement(ee.default.Text,wt({accessibilityRole:"header","aria-level":"1",numberOfLines:1},r,{style:[kt.title,{color:void 0===t?o.text:t},n]}))}var kt=v.default.create({title:m.default.select({ios:{fontSize:17,fontWeight:"600"},android:{fontSize:20,fontFamily:"sans-serif-medium",fontWeight:"normal"},default:{fontSize:18,fontWeight:"500"}})}),Et=["style"];function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}function Tt(e){var t=e.style,n=(0,i.default)(e,Et),r=ue().colors;return s.createElement(ee.default.View,It({style:[Rt.container,{backgroundColor:r.card,borderBottomColor:r.border,shadowColor:r.border},t]},n))}var Rt=v.default.create({container:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({flex:1},m.default.select({android:{elevation:4},ios:{shadowOpacity:.85,shadowRadius:0,shadowOffset:{width:0,height:v.default.hairlineWidth}},default:{borderBottomWidth:v.default.hairlineWidth}}))}),xt=["height","minHeight","maxHeight","backgroundColor","borderBottomColor","borderBottomEndRadius","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStartRadius","borderBottomWidth","borderColor","borderEndColor","borderEndWidth","borderLeftColor","borderLeftWidth","borderRadius","borderRightColor","borderRightWidth","borderStartColor","borderStartWidth","borderStyle","borderTopColor","borderTopEndRadius","borderTopLeftRadius","borderTopRightRadius","borderTopStartRadius","borderTopWidth","borderWidth","boxShadow","elevation","shadowColor","shadowOffset","shadowOpacity","shadowRadius","opacity","transform"];function Ot(e){var t=N(),n=function(){var e=s.useContext(x);if(null==e)throw new Error(A);return e}(),r=s.useContext(W),o=e.layout,a=void 0===o?n:o,l=e.modal,u=void 0!==l&&l,c=e.title,d=e.headerTitle,h=e.headerTitleAlign,f=void 0===h?m.default.select({ios:"center",default:"left"}):h,p=e.headerLeft,g=e.headerLeftLabelVisible,_=e.headerTransparent,b=e.headerTintColor,w=e.headerBackground,S=e.headerRight,k=e.headerTitleAllowFontScaling,E=e.headerTitleStyle,C=e.headerLeftContainerStyle,I=e.headerRightContainerStyle,T=e.headerTitleContainerStyle,R=e.headerBackgroundContainerStyle,O=e.headerStyle,P=e.headerShadowVisible,D=e.headerPressColor,L=e.headerPressOpacity,M=e.headerStatusBarHeight,F=void 0===M?r?0:t.top:M,j=_t(a,u,F),V=v.default.flatten(O||{}),U=V.height,B=void 0===U?j:U,q=V.minHeight,z=V.maxHeight,H=V.backgroundColor,$=V.borderBottomColor,K=V.borderBottomEndRadius,G=V.borderBottomLeftRadius,Q=V.borderBottomRightRadius,Y=V.borderBottomStartRadius,X=V.borderBottomWidth,J=V.borderColor,Z=V.borderEndColor,te=V.borderEndWidth,ne=V.borderLeftColor,re=V.borderLeftWidth,ie=V.borderRadius,oe=V.borderRightColor,se=V.borderRightWidth,ae=V.borderStartColor,le=V.borderStartWidth,ue=V.borderStyle,ce=V.borderTopColor,de=V.borderTopEndRadius,he=V.borderTopLeftRadius,fe=V.borderTopRightRadius,pe=V.borderTopStartRadius,ge=V.borderTopWidth,me=V.borderWidth,ve=V.boxShadow,ye=V.elevation,_e=V.shadowColor,be=V.shadowOffset,we=V.shadowOpacity,Se=V.shadowRadius,ke=V.opacity,Ee=V.transform;(0,i.default)(V,xt);var Ce={backgroundColor:H,borderBottomColor:$,borderBottomEndRadius:K,borderBottomLeftRadius:G,borderBottomRightRadius:Q,borderBottomStartRadius:Y,borderBottomWidth:X,borderColor:J,borderEndColor:Z,borderEndWidth:te,borderLeftColor:ne,borderLeftWidth:re,borderRadius:ie,borderRightColor:oe,borderRightWidth:se,borderStartColor:ae,borderStartWidth:le,borderStyle:ue,borderTopColor:ce,borderTopEndRadius:de,borderTopLeftRadius:he,borderTopRightRadius:fe,borderTopStartRadius:pe,borderTopWidth:ge,borderWidth:me,boxShadow:ve,elevation:ye,shadowColor:_e,shadowOffset:be,shadowOpacity:we,shadowRadius:Se,opacity:ke,transform:Ee};for(var Ie in Ce)void 0===Ce[Ie]&&delete Ce[Ie];var Te=[Ce,!1===P&&{elevation:0,shadowOpacity:0,borderBottomWidth:0}],Re=p?p({tintColor:b,pressColor:D,pressOpacity:L,labelVisible:g}):null,xe=S?S({tintColor:b,pressColor:D,pressOpacity:L}):null,Oe="function"!==typeof d?function(e){return s.createElement(St,e)}:d;return s.createElement(s.Fragment,null,s.createElement(ee.default.View,{pointerEvents:"box-none",style:[v.default.absoluteFill,{zIndex:0},R]},w?w({style:Te}):_?null:s.createElement(Tt,{style:Te})),s.createElement(ee.default.View,{pointerEvents:"box-none",style:[{height:B,minHeight:q,maxHeight:z,opacity:ke,transform:Ee}]},s.createElement(y.default,{pointerEvents:"none",style:{height:F}}),s.createElement(y.default,{pointerEvents:"box-none",style:Pt.content},s.createElement(ee.default.View,{pointerEvents:"box-none",style:[Pt.left,"center"===f&&Pt.expand,{marginStart:t.left},C]},Re),s.createElement(ee.default.View,{pointerEvents:"box-none",style:[Pt.title,{maxWidth:"center"===f?a.width-2*((Re?!1!==g?80:32:16)+Math.max(t.left,t.right)):a.width-((Re?72:16)+(xe?72:16)+t.left-t.right)},T]},Oe({children:c,allowFontScaling:k,tintColor:b,style:E})),s.createElement(ee.default.View,{pointerEvents:"box-none",style:[Pt.right,Pt.expand,{marginEnd:t.right},I]},xe))))}var Pt=v.default.create({content:{flex:1,flexDirection:"row",alignItems:"stretch"},title:{marginHorizontal:16,justifyContent:"center"},left:{justifyContent:"center",alignItems:"flex-start"},right:{justifyContent:"center",alignItems:"flex-end"},expand:{flexGrow:1,flexBasis:0}});function At(e){var t,n;return function(){for(var r=!1,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if(t){if(t.length!==o.length)r=!0;else for(var a=0;a<t.length;a++)if(t[a]!==o[a]){r=!0;break}}else r=!0;return t=o,(r||void 0===n)&&(n=e.apply(void 0,o)),n}}var Nt=["progress","layout","modal","onGoBack","headerTitle","headerLeft","headerRight","headerBackImage","headerBackTitle","headerBackTitleVisible","headerTruncatedBackTitle","headerBackAccessibilityLabel","headerBackTestID","headerBackAllowFontScaling","headerBackTitleStyle","headerTitleContainerStyle","headerLeftContainerStyle","headerRightContainerStyle","headerBackgroundContainerStyle","headerStyle","headerStatusBarHeight","styleInterpolator"];function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(){return Mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mt.apply(this,arguments)}function Ft(e){var t=s.useState(void 0),n=(0,_.default)(t,2),r=n[0],o=n[1],a=s.useState(void 0),l=(0,_.default)(a,2),u=l[0],c=l[1],d=function(e){var t=e.nativeEvent.layout,n=t.height,r=t.width;c((function(e){return e&&n===e.height&&r===e.width?e:{height:n,width:r}}))},h=function(e){var t=e.nativeEvent.layout,n=t.height,i=t.width;r&&n===r.height&&i===r.width||o({height:n,width:i})},f=At((function(e,t,n,r,i,o,s){return e({current:{progress:n},next:r&&{progress:r},layouts:{header:{height:s,width:t.width},screen:t,title:i,leftLabel:o}})})),p=e.progress,g=e.layout,y=e.modal,b=e.onGoBack,w=e.headerTitle,S=e.headerLeft,k=void 0===S?b?function(e){return s.createElement(vt,e)}:void 0:S,E=e.headerRight,C=e.headerBackImage,I=e.headerBackTitle,T=e.headerBackTitleVisible,R=void 0===T?"ios"===m.default.OS:T,x=e.headerTruncatedBackTitle,O=e.headerBackAccessibilityLabel,P=e.headerBackTestID,A=e.headerBackAllowFontScaling,N=e.headerBackTitleStyle,D=e.headerTitleContainerStyle,L=e.headerLeftContainerStyle,M=e.headerRightContainerStyle,F=e.headerBackgroundContainerStyle,j=e.headerStyle,V=e.headerStatusBarHeight,U=e.styleInterpolator,B=(0,i.default)(e,Nt),q=_t(g,y,V),z=v.default.flatten(j||{}).height,H=void 0===z?q:z,W=f(U,g,p.current,p.next,u,I?r:void 0,"number"===typeof H?H:q),$=W.titleStyle,K=W.leftButtonStyle,G=W.leftLabelStyle,Q=W.rightButtonStyle,Y=W.backgroundStyle,X=k?function(e){return k(Lt(Lt({},e),{},{backImage:C,accessibilityLabel:O,testID:P,allowFontScaling:A,onPress:b,label:I,truncatedLabel:x,labelStyle:[G,N],onLabelLayout:h,screenLayout:g,titleLayout:u,canGoBack:Boolean(b)}))}:void 0,J=E?function(e){return E(Lt(Lt({},e),{},{canGoBack:Boolean(b)}))}:void 0,Z="function"!==typeof w?function(e){return s.createElement(St,Mt({},e,{onLayout:d}))}:function(e){return w(Lt(Lt({},e),{},{onLayout:d}))};return s.createElement(Ot,Mt({modal:y,layout:g,headerTitle:Z,headerLeft:X,headerLeftLabelVisible:R,headerRight:J,headerTitleContainerStyle:[$,D],headerLeftContainerStyle:[K,L],headerRightContainerStyle:[Q,M],headerBackgroundContainerStyle:[Y,F],headerStyle:j,headerStatusBarHeight:V},B))}function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(){return Ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ut.apply(this,arguments)}const Bt=s.memo((function(e){var t,n=e.back,r=e.layout,i=e.progress,a=e.options,l=e.route,u=e.navigation,c=e.styleInterpolator,d=N();void 0!==a.headerBackTitle?t=a.headerBackTitle:n&&(t=n.title);var h=s.useCallback(function(e,t){var n;return function(){if(!n){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e.apply(this,i),n=setTimeout((function(){n=void 0}),t)}}}((function(){u.isFocused()&&u.canGoBack()&&u.dispatch(Vt(Vt({},o.StackActions.pop()),{},{source:l.key}))}),50),[u,l.key]),f=s.useContext($),p=s.useContext(W),g=void 0!==a.headerStatusBarHeight?a.headerStatusBarHeight:f||p?0:d.top;return s.createElement(Ft,Ut({},a,{title:Z(a,l.name),progress:i,layout:r,modal:f,headerBackTitle:void 0!==a.headerBackTitle?a.headerBackTitle:t,headerStatusBarHeight:g,onGoBack:n?h:void 0,styleInterpolator:c}))}));function qt(e){var t=e.mode,n=e.scenes,r=e.layout,i=e.getPreviousScene,a=e.getFocusedRoute,l=e.onContentHeightChange,u=e.style,c=a(),d=s.useContext(J);return s.createElement(ee.default.View,{pointerEvents:"box-none",style:u},n.slice(-3).map((function(e,n,a){var u,h;if("screen"===t&&n!==a.length-1||!e)return null;var f=e.descriptor.options,p=f.header,g=f.headerMode,m=f.headerShown,v=void 0===m||m,_=f.headerTransparent,b=f.headerStyleInterpolator;if(g!==t||!v)return null;var w=c.key===e.descriptor.route.key,S=i({route:e.descriptor.route}),k=d;if(S){var E=S.descriptor,C=E.options,I=E.route;k=S?{title:Z(C,I.name)}:d}var T=null===(u=a[n-1])||void 0===u?void 0:u.descriptor,R=null===(h=a[n+1])||void 0===h?void 0:h.descriptor,x=(null===T||void 0===T?void 0:T.options)||{},O=x.headerShown,P=void 0===O||O,A=x.headerMode,N=a.slice(n+1).find((function(e){var t=(null===e||void 0===e?void 0:e.descriptor.options)||{},n=t.headerShown,r=void 0===n||n,i=t.headerMode;return!1===r||"screen"===i})),D=((null===N||void 0===N?void 0:N.descriptor.options)||{}).gestureDirection,L=(!1===P||"screen"===A)&&!R||N,M={layout:r,back:k,progress:e.progress,options:e.descriptor.options,route:e.descriptor.route,navigation:e.descriptor.navigation,styleInterpolator:"float"===t?L?"vertical"===D||"vertical-inverted"===D?se:"horizontal-inverted"===D?oe:ie:b:ae};return s.createElement(o.NavigationContext.Provider,{key:e.descriptor.route.key,value:e.descriptor.navigation},s.createElement(o.NavigationRouteContext.Provider,{value:e.descriptor.route},s.createElement(y.default,{onLayout:l?function(t){var n=t.nativeEvent.layout.height;l({route:e.descriptor.route,height:n})}:void 0,pointerEvents:w?"box-none":"none",accessibilityElementsHidden:!w,importantForAccessibility:w?"auto":"no-hide-descendants",style:"float"===t&&!w||_?zt.header:null},void 0!==p?p(M):s.createElement(Bt,M))))})))}var zt=v.default.create({header:{position:"absolute",top:0,left:0,right:0}}),Ht=["style"];function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt.apply(this,arguments)}function $t(e){var t=e.style,n=(0,i.default)(e,Ht),r=ue().colors;return s.createElement(y.default,Wt({},n,{style:[{flex:1,backgroundColor:r.background},t]}))}var Kt=n(6899),Gt=n.n(Kt),Qt=ee.default.add,Yt=ee.default.multiply;function Xt(e,t,n){return Qt(Yt(e,t),Yt(e.interpolate({inputRange:[0,1],outputRange:[1,0]}),n))}var Jt=ee.default.add,Zt=ee.default.multiply;function en(e){var t=e.index,n=e.current,r=e.next,i=e.inverted,o=e.layouts.screen,s=e.insets,a="ios"===m.default.OS&&!m.default.isPad&&!m.default.isTV&&s.top>20,l=o.width>o.height,u=l?0:10,c=s.top,d=o.height/o.width,h=Jt(n.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),r?r.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0),f=0===t,p=Zt(h.interpolate({inputRange:[0,1,2],outputRange:[o.height,f?0:u,(f?c:0)-u*d]}),i),g=h.interpolate({inputRange:[0,1,1.0001,2],outputRange:[0,.3,1,1]}),v=l?1:h.interpolate({inputRange:[0,1,2],outputRange:[1,1,o.width?1-2*u/o.width:1]}),y=l?0:f?h.interpolate({inputRange:[0,1,1.0001,2],outputRange:[0,0,a?38:0,10]}):10;return{cardStyle:{overflow:"hidden",borderTopLeftRadius:y,borderTopRightRadius:y,borderBottomLeftRadius:a?y:0,borderBottomRightRadius:a?y:0,marginTop:f?0:c,marginBottom:f?0:u,transform:[{translateY:p},{scale:v}]},overlayStyle:{opacity:g}}}function tn(){return{}}var nn={animation:"spring",config:{stiffness:1e3,damping:500,mass:3,overshootClamping:!0,restDisplacementThreshold:10,restSpeedThreshold:10}},rn={animation:"timing",config:{duration:350,easing:he.default.out(he.default.poly(5))}},on={animation:"timing",config:{duration:150,easing:he.default.in(he.default.linear)}},sn={animation:"timing",config:{duration:425,easing:he.default.bezier(.35,.45,0,1)}},an={animation:"timing",config:{duration:400,easing:he.default.bezier(.35,.45,0,1)}},ln={animation:"timing",config:{duration:250,easing:function(e){return Math.cos((e+1)*Math.PI)/2+.5}}},un={animation:"timing",config:{duration:200,easing:function(e){return 1===e?1:Math.pow(e,2)}}},cn={gestureDirection:"horizontal",transitionSpec:{open:nn,close:nn},cardStyleInterpolator:function(e){var t=e.current,n=e.next,r=e.inverted,i=e.layouts.screen;return{cardStyle:{transform:[{translateX:Zt(t.progress.interpolate({inputRange:[0,1],outputRange:[i.width,0],extrapolate:"clamp"}),r)},{translateX:n?Zt(n.progress.interpolate({inputRange:[0,1],outputRange:[0,-.3*i.width],extrapolate:"clamp"}),r):0}]},overlayStyle:{opacity:t.progress.interpolate({inputRange:[0,1],outputRange:[0,.07],extrapolate:"clamp"})},shadowStyle:{shadowOpacity:t.progress.interpolate({inputRange:[0,1],outputRange:[0,.3],extrapolate:"clamp"})}}},headerStyleInterpolator:re},dn={gestureDirection:"vertical",transitionSpec:{open:nn,close:nn},cardStyleInterpolator:en,headerStyleInterpolator:re},hn={gestureDirection:"vertical",transitionSpec:{open:rn,close:on},cardStyleInterpolator:function(e){var t=e.current,n=e.inverted,r=e.layouts.screen,i=e.closing,o=Zt(t.progress.interpolate({inputRange:[0,1],outputRange:[.08*r.height,0],extrapolate:"clamp"}),n);return{cardStyle:{opacity:Xt(i,t.progress,t.progress.interpolate({inputRange:[0,.5,.9,1],outputRange:[0,.25,.7,1],extrapolate:"clamp"})),transform:[{translateY:o}]}}},headerStyleInterpolator:re},fn={gestureDirection:"vertical",transitionSpec:{open:sn,close:sn},cardStyleInterpolator:function(e){var t=e.current,n=e.next,r=e.inverted,i=e.layouts.screen;return{containerStyle:{overflow:"hidden",transform:[{translateY:Zt(t.progress.interpolate({inputRange:[0,1],outputRange:[i.height,0],extrapolate:"clamp"}),r)}]},cardStyle:{transform:[{translateY:Zt(t.progress.interpolate({inputRange:[0,1],outputRange:[i.height*(95.9/100)*-1,0],extrapolate:"clamp"}),r)},{translateY:n?Zt(n.progress.interpolate({inputRange:[0,1],outputRange:[0,.02*i.height*-1],extrapolate:"clamp"}),r):0}]},overlayStyle:{opacity:t.progress.interpolate({inputRange:[0,.36,1],outputRange:[0,.1,.1],extrapolate:"clamp"})}}},headerStyleInterpolator:re},pn={gestureDirection:"horizontal",transitionSpec:{open:an,close:an},cardStyleInterpolator:function(e){var t=e.current,n=e.next,r=e.closing,i=Jt(t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),n?n.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0);return{cardStyle:{opacity:i.interpolate({inputRange:[0,.75,.875,1,1.0825,1.2075,2],outputRange:[0,0,1,1,1,1,0]}),transform:[{scale:Xt(r,t.progress.interpolate({inputRange:[0,1],outputRange:[.925,1],extrapolate:"clamp"}),i.interpolate({inputRange:[0,1,2],outputRange:[.85,1,1.075]}))}]}}},headerStyleInterpolator:re},gn={gestureDirection:"vertical",transitionSpec:{open:ln,close:un},cardStyleInterpolator:function(e){var t=e.current,n=e.inverted,r=e.layouts.screen,i=e.closing,o=Zt(t.progress.interpolate({inputRange:[0,1],outputRange:[.8*r.height,0],extrapolate:"clamp"}),n);return{cardStyle:{opacity:Xt(i,t.progress,t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"})),transform:[{translateY:o}]},overlayStyle:{opacity:t.progress.interpolate({inputRange:[0,1],outputRange:[0,.3],extrapolate:"clamp"})}}},headerStyleInterpolator:re},mn={gestureDirection:"vertical",transitionSpec:{open:ln,close:un},cardStyleInterpolator:function(e){var t=e.current.progress;return{cardStyle:{opacity:t.interpolate({inputRange:[0,.5,.9,1],outputRange:[0,.25,.7,1]})},overlayStyle:{opacity:t.interpolate({inputRange:[0,1],outputRange:[0,.5],extrapolate:"clamp"})}}},headerStyleInterpolator:re},vn=m.default.select({ios:cn,android:m.default.Version>=29?pn:m.default.Version>=28?fn:hn,default:pn}),yn=m.default.select({ios:dn,default:gn});function _n(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}function bn(e){switch(e){case"vertical":return 1;case"vertical-inverted":return-1;case"horizontal":return te.getConstants().isRTL?-1:1;case"horizontal-inverted":return te.getConstants().isRTL?1:-1}}function wn(e,t){var n=bn(t);switch(t){case"vertical":case"vertical-inverted":return e.height*n;case"horizontal":case"horizontal-inverted":return e.width*n}}var Sn,kn=["enabled"],En=["enabled","active"];function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cn.apply(this,arguments)}try{Sn=n(1660)}catch(kr){}var In=function(e){var t=e.enabled,n=(0,i.default)(e,kn);return null!=Sn?s.createElement(Sn.ScreenContainer,Cn({enabled:t},n)):s.createElement(y.default,n)},Tn=function(e){var t=e.enabled,n=e.active,r=(0,i.default)(e,En);return null!=Sn?s.createElement(Sn.Screen,Cn({enabled:t,activityState:n},r)):s.createElement(y.default,r)},Rn=n(5103);const xn=s.createContext(void 0);var On=function(){};function Pn(){return null}Pn.setBackgroundColor=On,Pn.setBarStyle=On,Pn.setHidden=On,Pn.setNetworkActivityIndicatorVisible=On,Pn.setTranslucent=On;const An=Pn;function Nn(e){var t,n,r=e.dark,i=e.layout,o=e.insets,a=e.style,l=ue().dark,u=s.useState(!0),c=(0,_.default)(u,2),d=c[0],h=c[1],f=1-20/i.width,p=(o.top-34)*f,g=v.default.flatten(a),m=null===g||void 0===g||null===(t=g.transform)||void 0===t||null===(n=t.find((function(e){return void 0!==e.translateY})))||void 0===n?void 0:n.translateY;s.useEffect((function(){var e=null===m||void 0===m?void 0:m.addListener((function(e){var t=e.value;h(t<p)}));return function(){return null===m||void 0===m?void 0:m.removeListener(e)}}),[p,m]);var y=null!=r?r:!l;return s.createElement(An,{animated:!0,barStyle:d&&y?"dark-content":"light-content"})}var Dn=["enabled","layout","style"];function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ln.apply(this,arguments)}const Mn=s.forwardRef((function(e,t){var n=e.enabled,r=e.layout,o=e.style,a=(0,i.default)(e,Dn),l=s.useState(!1),u=(0,_.default)(l,2),c=u[0],d=u[1],h=s.useState("auto"),f=(0,_.default)(h,2),p=f[0],g=f[1];return s.useImperativeHandle(t,(function(){return{setPointerEvents:g}})),s.useEffect((function(){if("undefined"!==typeof document&&document.body){var e=document.body.clientWidth,t=document.body.clientHeight;d(e===r.width&&t===r.height)}}),[r.height,r.width]),s.createElement(y.default,Ln({},a,{pointerEvents:p,style:[n&&c?Fn.page:Fn.card,o]}))}));var Fn=v.default.create({page:{minHeight:"100%"},card:{flex:1,overflow:"hidden"}}),jn=["styleInterpolator","interpolationIndex","current","gesture","next","layout","insets","overlay","overlayEnabled","shadowEnabled","gestureEnabled","gestureDirection","pageOverflowEnabled","headerDarkContent","children","containerStyle","contentStyle"];function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(kr){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qn.apply(this,arguments)}var zn="web"!==m.default.OS,Hn=function(e){(0,h.default)(n,e);var t=Bn(n);function n(){var e;(0,c.default)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).isCurrentlyMounted=!1,e.isClosing=new ee.default.Value(0),e.inverted=new ee.default.Value(bn(e.props.gestureDirection)),e.layout={width:new ee.default.Value(e.props.layout.width),height:new ee.default.Value(e.props.layout.height)},e.isSwiping=new ee.default.Value(0),e.animate=function(t){var n=t.closing,r=t.velocity,i=e.props,o=i.gesture,s=i.transitionSpec,a=i.onOpen,l=i.onClose,u=i.onTransition,c=e.getAnimateToValue(Un(Un({},e.props),{},{closing:n}));e.lastToValue=c,e.isClosing.setValue(n?1:0);var d=n?s.close:s.open,h="spring"===d.animation?ee.default.spring:ee.default.timing;e.setPointerEventsEnabled(!n),e.handleStartInteraction(),clearTimeout(e.pendingGestureCallback),null===u||void 0===u||u({closing:n,gesture:void 0!==r}),h(o,Un(Un({},d.config),{},{velocity:r,toValue:c,useNativeDriver:zn,isInteraction:!1})).start((function(t){var r=t.finished;e.handleEndInteraction(),clearTimeout(e.pendingGestureCallback),r&&(n?l():a(),e.isCurrentlyMounted&&e.forceUpdate())}))},e.getAnimateToValue=function(e){var t=e.closing,n=e.layout,r=e.gestureDirection;return t?wn(n,r):0},e.setPointerEventsEnabled=function(t){var n,r=t?"box-none":"none";null===(n=e.ref.current)||void 0===n||n.setPointerEvents(r)},e.handleStartInteraction=function(){void 0===e.interactionHandle&&(e.interactionHandle=Rn.default.createInteractionHandle())},e.handleEndInteraction=function(){void 0!==e.interactionHandle&&(Rn.default.clearInteractionHandle(e.interactionHandle),e.interactionHandle=void 0)},e.handleGestureStateChange=function(t){var n=t.nativeEvent,r=e.props,i=r.layout,o=r.onClose,s=r.onGestureBegin,a=r.onGestureCanceled,l=r.onGestureEnd,u=r.gestureDirection,c=r.gestureVelocityImpact;switch(n.state){case Y:e.isSwiping.setValue(1),e.handleStartInteraction(),null===s||void 0===s||s();break;case Q:e.isSwiping.setValue(0),e.handleEndInteraction();var d="vertical"===u||"vertical-inverted"===u?n.velocityY:n.velocityX;e.animate({closing:e.props.closing,velocity:d}),null===a||void 0===a||a();break;case X:var h,f,p;e.isSwiping.setValue(0),"vertical"===u||"vertical-inverted"===u?(h=i.height,f=n.translationY,p=n.velocityY):(h=i.width,f=n.translationX,p=n.velocityX);var g=(f+p*c)*bn(u)>h/2?0!==p||0!==f:e.props.closing;e.animate({closing:g,velocity:p}),g&&(e.pendingGestureCallback=setTimeout((function(){o(),e.forceUpdate()}),32)),null===l||void 0===l||l()}},e.getInterpolatedStyle=At((function(e,t){return e(t)})),e.getCardAnimation=At((function(t,n,r,i,o,s,a,l){return{index:t,current:{progress:n},next:r&&{progress:r},closing:e.isClosing,swiping:e.isSwiping,inverted:e.inverted,layouts:{screen:i},insets:{top:o,right:s,bottom:a,left:l}}})),e.ref=s.createRef(),e}return(0,d.default)(n,[{key:"componentDidMount",value:function(){this.animate({closing:this.props.closing}),this.isCurrentlyMounted=!0}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.layout,r=t.gestureDirection,i=t.closing,o=n.width,s=n.height;o!==e.layout.width&&this.layout.width.setValue(o),s!==e.layout.height&&this.layout.height.setValue(s),r!==e.gestureDirection&&this.inverted.setValue(bn(r));var a=this.getAnimateToValue(this.props);this.getAnimateToValue(e)===a&&this.lastToValue===a||this.animate({closing:i})}},{key:"componentWillUnmount",value:function(){this.props.gesture.stopAnimation(),this.isCurrentlyMounted=!1,this.handleEndInteraction()}},{key:"gestureActivationCriteria",value:function(){var e=this.props,t=e.layout,n=e.gestureDirection,r=e.gestureResponseDistance,i=!0,o=void 0!==r?r:"vertical"===n||"vertical-inverted"===n?135:50;if("vertical"===n)return{maxDeltaX:15,minOffsetY:5,hitSlop:{bottom:-t.height+o},enableTrackpadTwoFingerGesture:i};if("vertical-inverted"===n)return{maxDeltaX:15,minOffsetY:-5,hitSlop:{top:-t.height+o},enableTrackpadTwoFingerGesture:i};var s=-t.width+o;return 1===bn(n)?{minOffsetX:5,maxDeltaY:20,hitSlop:{right:s},enableTrackpadTwoFingerGesture:i}:{minOffsetX:-5,maxDeltaY:20,hitSlop:{left:s},enableTrackpadTwoFingerGesture:i}}},{key:"render",value:function(){var e,t=this.props,n=t.styleInterpolator,r=t.interpolationIndex,o=t.current,a=t.gesture,l=t.next,u=t.layout,c=t.insets,d=t.overlay,h=t.overlayEnabled,f=t.shadowEnabled,p=t.gestureEnabled,g=t.gestureDirection,_=t.pageOverflowEnabled,b=t.headerDarkContent,w=t.children,S=t.containerStyle,k=t.contentStyle,E=(0,i.default)(t,jn),C=this.getCardAnimation(r,o,l,u,c.top,c.right,c.bottom,c.left),I=this.getInterpolatedStyle(n,C),T=I.containerStyle,R=I.cardStyle,x=I.overlayStyle,O=I.shadowStyle,P=p?ee.default.event([{nativeEvent:"vertical"===g||"vertical-inverted"===g?{translationY:a}:{translationX:a}}],{useNativeDriver:zn}):void 0,A=v.default.flatten(k||{}).backgroundColor,N="string"===typeof A&&0===Gt()(A).alpha();return s.createElement(xn.Provider,{value:C},"ios"===m.default.OS&&h&&l&&Wn(n)?s.createElement(Nn,{dark:b,layout:u,insets:c,style:R}):null,s.createElement(ee.default.View,{style:{opacity:o},collapsable:!1}),s.createElement(y.default,qn({pointerEvents:"box-none"},E),h?s.createElement(y.default,{pointerEvents:"box-none",style:v.default.absoluteFill},d({style:x})):null,s.createElement(ee.default.View,{style:[$n.container,T,S],pointerEvents:"box-none"},s.createElement(K,qn({enabled:0!==u.width&&p,onGestureEvent:P,onHandlerStateChange:this.handleGestureStateChange},this.gestureActivationCriteria()),s.createElement(ee.default.View,{needsOffscreenAlphaCompositing:(e=R,!!e&&null!=v.default.flatten(e).opacity),style:[$n.container,R]},f&&O&&!N?s.createElement(ee.default.View,{style:[$n.shadow,"horizontal"===g?[$n.shadowHorizontal,$n.shadowLeft]:"horizontal-inverted"===g?[$n.shadowHorizontal,$n.shadowRight]:"vertical"===g?[$n.shadowVertical,$n.shadowTop]:[$n.shadowVertical,$n.shadowBottom],{backgroundColor:A},O],pointerEvents:"none"}):null,s.createElement(Mn,{ref:this.ref,enabled:_,layout:u,style:k},w))))))}}]),n}(s.Component);Hn.defaultProps={shadowEnabled:!1,gestureEnabled:!0,gestureVelocityImpact:.3,overlay:function(e){var t=e.style;return t?s.createElement(ee.default.View,{pointerEvents:"none",style:[$n.overlay,t]}):null}};var Wn=function(e){return e===en||"forModalPresentationIOS"===e.name},$n=v.default.create({container:{flex:1},overlay:{flex:1,backgroundColor:"#000"},shadow:{position:"absolute",shadowRadius:5,shadowColor:"#000",shadowOpacity:.3},shadowHorizontal:{top:0,bottom:0,width:3,shadowOffset:{width:-1,height:1}},shadowLeft:{left:0},shadowRight:{right:0},shadowVertical:{left:0,right:0,height:3,shadowOffset:{width:1,height:-1}},shadowTop:{top:0},shadowBottom:{bottom:0}});const Kn=H("HeaderHeightContext",void 0);var Gn=n(3423);const Qn={addListener:function(){return{remove:function(){}}},dismiss:function(){(0,Gn.default)()},removeAllListeners:function(){},removeListener:function(){}};var Yn=n(500);const Xn=s.memo((function(e){var t=e.interpolationIndex,n=e.index,r=e.active,i=e.closing,o=e.gesture,a=e.focused,l=e.modal,u=e.getPreviousScene,c=e.getFocusedRoute,d=e.headerDarkContent,h=e.hasAbsoluteFloatHeader,f=e.headerHeight,p=e.onHeaderHeightChange,g=e.isParentHeaderShown,m=e.isNextScreenTransparent,b=e.detachCurrentScreen,w=e.layout,S=e.onCloseRoute,k=e.onOpenRoute,E=e.onGestureCancel,C=e.onGestureEnd,I=e.onGestureStart,T=e.onTransitionEnd,R=e.onTransitionStart,x=e.renderHeader,O=e.renderScene,P=e.safeAreaInsetBottom,A=e.safeAreaInsetLeft,N=e.safeAreaInsetRight,D=e.safeAreaInsetTop,L=e.scene,M=s.useContext(Kn),F=function(e){var t=s.useRef(void 0),n=s.useRef(0),r=s.useRef(),i=s.useCallback((function(){void 0!==r.current&&(clearTimeout(r.current),r.current=void 0)}),[]),o=s.useCallback((function(){if(e()){i();var r=Yn.default.State.currentlyFocusedInput();null===r||void 0===r||r.blur(),t.current=r,n.current=Date.now()}}),[i,e]),a=s.useCallback((function(n){if(e()){if(i(),n)Qn.dismiss();else{var r=t.current;null===r||void 0===r||r.blur()}t.current=void 0}}),[i,e]),l=s.useCallback((function(){if(e()){i();var o=t.current;o&&(Date.now()-n.current<100?r.current=setTimeout((function(){null===o||void 0===o||o.focus(),t.current=void 0}),100):(null===o||void 0===o||o.focus(),t.current=void 0))}}),[i,e]);return s.useEffect((function(){return function(){return i()}}),[i]),{onPageChangeStart:o,onPageChangeConfirm:a,onPageChangeCancel:l}}(s.useCallback((function(){var e=L.descriptor,t=e.options;return e.navigation.isFocused()&&!1!==t.keyboardHandlingEnabled}),[L.descriptor])),j=F.onPageChangeStart,V=F.onPageChangeCancel,U=F.onPageChangeConfirm,B={top:D,right:N,bottom:P,left:A},q=ue().colors,z=s.useState("box-none"),H=(0,_.default)(z,2),K=H[0],G=H[1];s.useEffect((function(){var e,t,n=null===(e=L.progress.next)||void 0===e||null===(t=e.addListener)||void 0===t?void 0:t.call(e,(function(e){var t=e.value;G(t<=.1?"box-none":"none")}));return function(){var e,t;n&&(null===(e=L.progress.next)||void 0===e||null===(t=e.removeListener)||void 0===t||t.call(e,n))}}),[K,L.progress.next]);var Q,Y=L.descriptor.options,X=Y.presentation,ee=Y.animationEnabled,te=Y.cardOverlay,ne=Y.cardOverlayEnabled,re=Y.cardShadowEnabled,ie=Y.cardStyle,oe=Y.cardStyleInterpolator,se=Y.gestureDirection,ae=Y.gestureEnabled,le=Y.gestureResponseDistance,ce=Y.gestureVelocityImpact,de=Y.headerMode,he=Y.headerShown,fe=Y.transitionSpec,pe=u({route:L.descriptor.route});if(pe){var ge=pe.descriptor,me=ge.options,ve=ge.route;Q=Z(me,ve.name)}var ye=s.useMemo((function(){return void 0!==Q?{title:Q}:void 0}),[Q]);return s.createElement(Hn,{interpolationIndex:t,gestureDirection:se,layout:w,insets:B,gesture:o,current:L.progress.current,next:L.progress.next,closing:i,onOpen:function(){var e=L.descriptor.route;T({route:e},!1),k({route:e})},onClose:function(){var e=L.descriptor.route;T({route:e},!0),S({route:e})},overlay:te,overlayEnabled:ne,shadowEnabled:re,onTransition:function(e){var t=e.closing,n=e.gesture,i=L.descriptor.route;n?r&&t?null===U||void 0===U||U(!1):null===V||void 0===V||V():null===U||void 0===U||U(!0),null===R||void 0===R||R({route:i},t)},onGestureBegin:function(){var e=L.descriptor.route;j(),I({route:e})},onGestureCanceled:function(){var e=L.descriptor.route;V(),E({route:e})},onGestureEnd:function(){var e=L.descriptor.route;C({route:e})},gestureEnabled:0!==n&&ae,gestureResponseDistance:le,gestureVelocityImpact:ce,transitionSpec:fe,styleInterpolator:oe,accessibilityElementsHidden:!a,importantForAccessibility:a?"auto":"no-hide-descendants",pointerEvents:r?"box-none":K,pageOverflowEnabled:"float"!==de&&"modal"!==X,headerDarkContent:d,containerStyle:h&&"screen"!==de?{marginTop:f}:null,contentStyle:[{backgroundColor:"transparentModal"===X?"transparent":q.background},ie],style:[{overflow:r?void 0:"hidden",display:!1!==ee||!1!==m||!1===b||a?"flex":"none"},v.default.absoluteFill]},s.createElement(y.default,{style:Jn.container},s.createElement($.Provider,{value:l},s.createElement(y.default,{style:Jn.scene},s.createElement(J.Provider,{value:ye},s.createElement(W.Provider,{value:g||!1!==he},s.createElement(Kn.Provider,{value:he?f:null!=M?M:0},O({route:L.descriptor.route}))))),"float"!==de?x({mode:"screen",layout:w,scenes:[pe,L],getPreviousScene:u,getFocusedRoute:c,onContentHeightChange:p}):null)))}));var Jn=v.default.create({container:{flex:1,flexDirection:"column-reverse"},scene:{flex:1}});function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(kr){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var nr=Object.freeze({options:{}}),rr=function(e,t){for(var n=e[t].descriptor.options.cardStyleInterpolator,r=0,i=t-1;i>=0;i--){var o;if((null===(o=e[i])||void 0===o?void 0:o.descriptor.options.cardStyleInterpolator)!==n)break;r++}return r},ir=function(e,t,n){if(n)return!0;var r=e.descriptor.options.cardStyleInterpolator;return Wn(r)&&0!==t},or=function(e,t,n,r,i,o){return e.reduce((function(s,a,l){var u=a.descriptor.options,c=u.headerStatusBarHeight,d=void 0===c?n?0:t.top:c,h=u.headerStyle,f=v.default.flatten(h||{}),p="height"in f&&"number"===typeof f.height?f.height:o[a.route.key],g=rr(e,l),m=ir(a,g,r);return s[a.route.key]="number"===typeof p?p:_t(i,m,d),s}),{})},sr=function(e,t){var n=(null===t||void 0===t?void 0:t.options)||{},r=n.presentation,i=n.gestureDirection;return wn(e,void 0===i?"modal"===r?yn.gestureDirection:vn.gestureDirection:i)},ar=function(e,t,n){var r=sr({width:Math.max(1,t.width),height:Math.max(1,t.height)},n);return r>0?e.interpolate({inputRange:[0,r],outputRange:[1,0]}):e.interpolate({inputRange:[r,0],outputRange:[0,1]})},lr=function(e){(0,h.default)(n,e);var t=tr(n);function n(e){var i;return(0,c.default)(this,n),(i=t.call(this,e)).handleLayout=function(e){var t=e.nativeEvent.layout,n=t.height,r=t.width,o={width:r,height:n};i.setState((function(e,t){return n===e.layout.height&&r===e.layout.width?null:{layout:o,headerHeights:or(e.scenes,t.insets,t.isParentHeaderShown,t.isParentModal,o,e.headerHeights)}}))},i.handleHeaderLayout=function(e){var t=e.route,n=e.height;i.setState((function(e){var i=e.headerHeights;return i[t.key]===n?null:{headerHeights:er(er({},i),{},(0,r.default)({},t.key,n))}}))},i.getFocusedRoute=function(){var e=i.props.state;return e.routes[e.index]},i.getPreviousScene=function(e){var t=e.route,n=i.props.getPreviousRoute,r=i.state.scenes,o=n({route:t});if(o)return r.find((function(e){return e.descriptor.route.key===o.key}))},i.state={routes:[],scenes:[],gestures:{},layout:U.initialMetrics.frame,descriptors:i.props.descriptors,headerHeights:{}},i}return(0,d.default)(n,[{key:"render",value:function(){for(var e=this,t=this.props,n=t.insets,r=t.state,i=t.routes,o=t.closingRouteKeys,a=t.onOpenRoute,l=t.onCloseRoute,u=t.renderHeader,c=t.renderScene,d=t.isParentHeaderShown,h=t.isParentModal,f=t.onTransitionStart,p=t.onTransitionEnd,g=t.onGestureStart,y=t.onGestureEnd,_=t.onGestureCancel,b=t.detachInactiveScreens,w=void 0===b?"web"===m.default.OS||"android"===m.default.OS||"ios"===m.default.OS:b,S=this.state,k=S.scenes,E=S.layout,C=S.gestures,I=S.headerHeights,T=r.routes[r.index],R=I[T.key],x=this.state.scenes.slice(-2).some((function(e){var t,n=null!=(t=e.descriptor.options)?t:{},r=n.headerMode,i=n.headerTransparent,o=n.headerShown;return!(!i&&!1!==(void 0===o||o)&&"screen"!==r)})),O=1,P=k.length-1;P>=0;P--){var A=k[P].descriptor.options,N=A.detachPreviousScreen;if(!1===(void 0===N?"transparentModal"!==A.presentation&&(!Wn(A.cardStyleInterpolator)||P!==_n(k,(function(e){var t=e.descriptor.options.cardStyleInterpolator;return t===en||"forModalPresentationIOS"===(null===t||void 0===t?void 0:t.name)}))):N))O++;else if(P<=k.length-2)break}var D=s.createElement(s.Fragment,{key:"header"},u({mode:"float",layout:E,scenes:k,getPreviousScene:this.getPreviousScene,getFocusedRoute:this.getFocusedRoute,onContentHeightChange:this.handleHeaderLayout,style:[ur.floating,x&&[{height:R},ur.absolute]]}));return s.createElement($t,null,x?null:D,s.createElement(In,{enabled:w,style:ur.container,onLayout:this.handleLayout},i.map((function(t,r,i){var m,b,S=T.key===t.key,R=C[t.key],P=k[r],A=1;if(r<i.length-O-1)A=0;else{var N=k[i.length-1],D=r===i.length-1?2:r>=i.length-O?1:0;A=N?N.progress.current.interpolate({inputRange:[0,.99999,1],outputRange:[1,1,D],extrapolate:"clamp"}):1}var L,M=P.descriptor.options,F=M.headerShown,j=void 0===F||F,V=M.headerTransparent,U=M.headerStyle,B=M.headerTintColor,q=M.freezeOnBlur,z=n.top,H=n.right,W=n.bottom,$=n.left,K=!1!==j?I[t.key]:0;if(j)if("string"===typeof B)L=Gt()(B).isDark();else{var G=v.default.flatten(U);G&&"backgroundColor"in G&&"string"===typeof G.backgroundColor&&(L=!Gt()(G.backgroundColor).isDark())}var Q=rr(k,r),Y=ir(P,Q,h),X="transparentModal"===(null===(m=k[r+1])||void 0===m?void 0:m.descriptor.options.presentation),J=!1!==(null===(b=k[r+1])||void 0===b?void 0:b.descriptor.options.detachPreviousScreen);return s.createElement(Tn,{key:t.key,style:v.default.absoluteFill,enabled:w,active:A,freezeOnBlur:q,pointerEvents:"box-none"},s.createElement(Xn,{index:r,interpolationIndex:Q,modal:Y,active:r===i.length-1,focused:S,closing:o.includes(t.key),layout:E,gesture:R,scene:P,safeAreaInsetTop:z,safeAreaInsetRight:H,safeAreaInsetBottom:W,safeAreaInsetLeft:$,onGestureStart:g,onGestureCancel:_,onGestureEnd:y,headerHeight:K,isParentHeaderShown:d,onHeaderHeightChange:e.handleHeaderLayout,getPreviousScene:e.getPreviousScene,getFocusedRoute:e.getFocusedRoute,headerDarkContent:L,hasAbsoluteFloatHeader:x&&!V,renderHeader:u,renderScene:c,onOpenRoute:a,onCloseRoute:l,onTransitionStart:f,onTransitionEnd:p,isNextScreenTransparent:X,detachCurrentScreen:J}))}))),x?D:null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.routes===t.routes&&e.descriptors===t.descriptors)return null;var n=e.routes.reduce((function(n,r){var i=e.descriptors[r.key],o=((null===i||void 0===i?void 0:i.options)||{}).animationEnabled;return n[r.key]=t.gestures[r.key]||new ee.default.Value(e.openingRouteKeys.includes(r.key)&&!1!==o?sr(t.layout,i):0),n}),{}),r=e.routes.map((function(r,i,o){var s,a=o[i-1],l=o[i+1],u=t.scenes[i],c=n[r.key],d=a?n[a.key]:void 0,h=l?n[l.key]:void 0,f=e.descriptors[r.key]||t.descriptors[r.key]||(u?u.descriptor:nr),p=e.descriptors[null===l||void 0===l?void 0:l.key]||t.descriptors[null===l||void 0===l?void 0:l.key],g=e.descriptors[null===a||void 0===a?void 0:a.key]||t.descriptors[null===a||void 0===a?void 0:a.key],v=i!==o.length-1&&p&&"transparentModal"!==p.options.presentation?p.options:f.options,y="modal"===v.presentation?yn:"transparentModal"===v.presentation?mn:vn,_=v.animationEnabled,b=void 0===_?"web"!==m.default.OS&&"windows"!==m.default.OS&&"macos"!==m.default.OS:_,w=v.gestureEnabled,S=void 0===w?"ios"===m.default.OS&&b:w,k=v.gestureDirection,E=void 0===k?y.gestureDirection:k,C=v.transitionSpec,I=void 0===C?y.transitionSpec:C,T=v.cardStyleInterpolator,R=void 0===T?!1===b?tn:y.cardStyleInterpolator:T,x=v.headerStyleInterpolator,O=void 0===x?y.headerStyleInterpolator:x,P=v.cardOverlayEnabled,A=void 0===P?"ios"!==m.default.OS&&"transparentModal"!==v.presentation||Wn(R):P,N=null!=(s=f.options.headerMode)?s:"modal"===v.presentation||"transparentModal"===v.presentation||"modal"===(null===p||void 0===p?void 0:p.options.presentation)||"transparentModal"===(null===p||void 0===p?void 0:p.options.presentation)||Wn(R)||"ios"!==m.default.OS||void 0!==f.options.header?"screen":"float",D={route:r,descriptor:er(er({},f),{},{options:er(er({},f.options),{},{animationEnabled:b,cardOverlayEnabled:A,cardStyleInterpolator:R,gestureDirection:E,gestureEnabled:S,headerStyleInterpolator:O,transitionSpec:I,headerMode:N})}),progress:{current:ar(c,t.layout,f),next:h&&"transparentModal"!==(null===p||void 0===p?void 0:p.options.presentation)?ar(h,t.layout,p):void 0,previous:d?ar(d,t.layout,g):void 0},__memo:[t.layout,f,p,g,c,h,d]};return u&&D.__memo.every((function(e,t){return u.__memo[t]===e}))?u:D}));return{routes:e.routes,scenes:r,gestures:n,descriptors:e.descriptors,headerHeights:or(r,e.insets,e.isParentHeaderShown,e.isParentModal,t.layout,t.headerHeights)}}}]),n}(s.Component),ur=v.default.create({container:{flex:1},absolute:{position:"absolute",top:0,left:0,right:0},floating:{zIndex:1}}),cr=["state","descriptors"];function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(kr){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}function pr(){return pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pr.apply(this,arguments)}var gr=null!=G?G:y.default,mr=function(e){(0,h.default)(n,e);var t=fr(n);function n(){var e;(0,c.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={routes:[],previousRoutes:[],previousDescriptors:{},openingRouteKeys:[],closingRouteKeys:[],replacingRouteKeys:[],descriptors:{}},e.getPreviousRoute=function(t){var n=t.route,r=e.state,i=r.closingRouteKeys,o=r.replacingRouteKeys,s=e.state.routes.filter((function(e){return e.key===n.key||!i.includes(e.key)&&!o.includes(e.key)})),a=s.findIndex((function(e){return e.key===n.key}));return s[a-1]},e.renderScene=function(t){var n=t.route,r=e.state.descriptors[n.key]||e.props.descriptors[n.key];return r?r.render():null},e.renderHeader=function(e){return s.createElement(qt,e)},e.handleOpenRoute=function(t){var n=t.route,r=e.props,i=r.state,o=r.navigation,s=e.state,a=s.closingRouteKeys,l=s.replacingRouteKeys;a.some((function(e){return e===n.key}))&&l.every((function(e){return e!==n.key}))&&i.routeNames.includes(n.name)&&!i.routes.some((function(e){return e.key===n.key}))?o.navigate(n):e.setState((function(e){return{routes:e.replacingRouteKeys.length?e.routes.filter((function(t){return!e.replacingRouteKeys.includes(t.key)})):e.routes,openingRouteKeys:e.openingRouteKeys.filter((function(e){return e!==n.key})),closingRouteKeys:e.closingRouteKeys.filter((function(e){return e!==n.key})),replacingRouteKeys:[]}}))},e.handleCloseRoute=function(t){var n=t.route,r=e.props,i=r.state,s=r.navigation;i.routes.some((function(e){return e.key===n.key}))?s.dispatch(hr(hr({},o.StackActions.pop()),{},{source:n.key,target:i.key})):e.setState((function(e){return{routes:e.routes.filter((function(e){return e.key!==n.key})),openingRouteKeys:e.openingRouteKeys.filter((function(e){return e!==n.key})),closingRouteKeys:e.closingRouteKeys.filter((function(e){return e!==n.key}))}}))},e.handleTransitionStart=function(t,n){var r=t.route;return e.props.navigation.emit({type:"transitionStart",data:{closing:n},target:r.key})},e.handleTransitionEnd=function(t,n){var r=t.route;return e.props.navigation.emit({type:"transitionEnd",data:{closing:n},target:r.key})},e.handleGestureStart=function(t){var n=t.route;e.props.navigation.emit({type:"gestureStart",target:n.key})},e.handleGestureEnd=function(t){var n=t.route;e.props.navigation.emit({type:"gestureEnd",target:n.key})},e.handleGestureCancel=function(t){var n=t.route;e.props.navigation.emit({type:"gestureCancel",target:n.key})},e}return(0,d.default)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.state,r=(t.descriptors,(0,i.default)(t,cr)),o=this.state,a=o.routes,l=o.descriptors,u=o.openingRouteKeys,c=o.closingRouteKeys;return s.createElement(gr,{style:vr.container},s.createElement(U,null,s.createElement(R.Consumer,null,(function(t){return s.createElement($.Consumer,null,(function(i){return s.createElement(W.Consumer,null,(function(o){return s.createElement(lr,pr({insets:t,isParentHeaderShown:o,isParentModal:i,getPreviousRoute:e.getPreviousRoute,routes:a,openingRouteKeys:u,closingRouteKeys:c,onOpenRoute:e.handleOpenRoute,onCloseRoute:e.handleCloseRoute,onTransitionStart:e.handleTransitionStart,onTransitionEnd:e.handleTransitionEnd,renderHeader:e.renderHeader,renderScene:e.renderScene,state:n,descriptors:l,onGestureStart:e.handleGestureStart,onGestureEnd:e.handleGestureEnd,onGestureCancel:e.handleGestureCancel},r))}))}))}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if((e.state.routes===t.previousRoutes||(a=e.state.routes.map((function(e){return e.key})),l=t.previousRoutes.map((function(e){return e.key})),a.length===l.length&&a.every((function(e,t){return e===l[t]}))))&&t.routes.length){var n=t.routes,r=t.previousRoutes,i=e.descriptors,o=t.previousDescriptors;if(e.descriptors!==t.previousDescriptors&&(i=t.routes.reduce((function(n,r){return n[r.key]=e.descriptors[r.key]||t.descriptors[r.key],n}),{}),o=e.descriptors),e.state.routes!==t.previousRoutes){var s=e.state.routes.reduce((function(e,t){return e[t.key]=t,e}),{});n=t.routes.map((function(e){return s[e.key]||e})),r=e.state.routes}return{routes:n,previousRoutes:r,descriptors:i,previousDescriptors:o}}var a,l,c=e.state.index<e.state.routes.length-1?e.state.routes.slice(0,e.state.index+1):e.state.routes,d=t.openingRouteKeys,h=t.closingRouteKeys,f=t.replacingRouteKeys,p=t.previousRoutes,g=p[p.length-1],m=c[c.length-1],v=function(n){var r=e.descriptors[n]||t.descriptors[n];return!r||!1!==r.options.animationEnabled};if(g&&g.key!==m.key)p.some((function(e){return e.key===m.key}))?c.some((function(e){return e.key===g.key}))||v(g.key)&&!h.includes(g.key)&&(h=[].concat((0,u.default)(h),[g.key]),d=d.filter((function(e){return e!==g.key})),f=f.filter((function(e){return e!==g.key})),c=[].concat((0,u.default)(c),[g])):v(m.key)&&!d.includes(m.key)&&(d=[].concat((0,u.default)(d),[m.key]),h=h.filter((function(e){return e!==m.key})),f=f.filter((function(e){return e!==m.key})),c.some((function(e){return e.key===g.key}))||(d=d.filter((function(e){return e!==g.key})),"pop"===function(n){var r;return null!=(r=(e.descriptors[n]||t.descriptors[n]).options.animationTypeForReplace)?r:"push"}(m.key)?(h=[].concat((0,u.default)(h),[g.key]),d=d.filter((function(e){return e!==m.key})),c=[].concat((0,u.default)(c),[g])):(f=[].concat((0,u.default)(f),[g.key]),h=h.filter((function(e){return e!==g.key})),(c=c.slice()).splice(c.length-1,0,g))));else if(f.length||h.length){var y;(y=c=c.slice()).splice.apply(y,[c.length-1,0].concat((0,u.default)(t.routes.filter((function(e){var t=e.key;return!!v(t)&&(f.includes(t)||h.includes(t))})))))}if(!c.length)throw new Error("There should always be at least one route in the navigation state.");var _=c.reduce((function(n,r){return n[r.key]=e.descriptors[r.key]||t.descriptors[r.key],n}),{});return{routes:c,previousRoutes:e.state.routes,previousDescriptors:e.descriptors,openingRouteKeys:d,closingRouteKeys:h,replacingRouteKeys:f,descriptors:_}}}]),n}(s.Component),vr=v.default.create({container:{flex:1}}),yr=["id","initialRouteName","children","screenListeners","screenOptions"];function _r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wr.apply(this,arguments)}const Sr=(0,o.createNavigatorFactory)((function(e){var t=e.id,n=e.initialRouteName,r=e.children,a=e.screenListeners,u=e.screenOptions,c=(0,i.default)(e,yr),d=c.mode;l()(null!=d,`Stack Navigator: 'mode="${d}"' is deprecated. Use 'presentation: "${d}"' in 'screenOptions' instead.\n\nSee https://reactnavigation.org/docs/stack-navigator#presentation for more details.`);var h=c.headerMode;l()("none"===h,"Stack Navigator: 'headerMode=\"none\"' is deprecated. Use 'headerShown: false' in 'screenOptions' instead.\n\nSee https://reactnavigation.org/docs/stack-navigator/#headershown for more details."),l()(null!=h&&"none"!==h,"Stack Navigator: 'headerMode' is moved to 'options'. Moved it to 'screenOptions' to keep current behavior.\n\nSee https://reactnavigation.org/docs/stack-navigator/#headermode for more details.");var f=c.keyboardHandlingEnabled;l()(void 0!==f,"Stack Navigator: 'keyboardHandlingEnabled' is moved to 'options'. Moved it to 'screenOptions' to keep current behavior.\n\nSee https://reactnavigation.org/docs/stack-navigator/#keyboardhandlingenabled for more details.");var p={presentation:d,headerShown:!h||"none"!==h,headerMode:h&&"none"!==h?h:void 0,keyboardHandlingEnabled:f},g=(0,o.useNavigationBuilder)(o.StackRouter,{id:t,initialRouteName:n,children:r,screenListeners:a,screenOptions:u,defaultScreenOptions:p}),m=g.state,v=g.descriptors,y=g.navigation,_=g.NavigationContent;return s.useEffect((function(){var e;return null===(e=y.addListener)||void 0===e?void 0:e.call(y,"tabPress",(function(e){var t=y.isFocused();requestAnimationFrame((function(){m.index>0&&t&&!e.defaultPrevented&&y.dispatch(br(br({},o.StackActions.popToTop()),{},{target:m.key}))}))}))}),[y,m.index,m.key]),s.createElement(_,null,s.createElement(mr,wr({},c,{state:m,descriptors:v,navigation:y})))}))},9957:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CameraType:()=>l.CameraType,MediaTypeOptions:()=>l.MediaTypeOptions,PermissionStatus:()=>a.PermissionStatus,UIImagePickerControllerQualityType:()=>l.UIImagePickerControllerQualityType,UIImagePickerPreferredAssetRepresentationMode:()=>l.UIImagePickerPreferredAssetRepresentationMode,UIImagePickerPresentationStyle:()=>l.UIImagePickerPresentationStyle,VideoExportPreset:()=>l.VideoExportPreset,getCameraPermissionsAsync:()=>y,getMediaLibraryPermissionsAsync:()=>b,getPendingResultAsync:()=>R,launchCameraAsync:()=>O,launchImageLibraryAsync:()=>A,requestCameraPermissionsAsync:()=>S,requestMediaLibraryPermissionsAsync:()=>E,useCameraPermissions:()=>T,useMediaLibraryPermissions:()=>I});var r,i=n(5861),o=n(4942),s=n(885),a=n(5405),l=n(4464);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var c=(r={},(0,o.default)(r,l.MediaTypeOptions.All,"video/mp4,video/quicktime,video/x-m4v,video/*,image/*"),(0,o.default)(r,l.MediaTypeOptions.Images,"image/*"),(0,o.default)(r,l.MediaTypeOptions.Videos,"video/mp4,video/quicktime,video/x-m4v,video/*"),r);const d={get name(){return"ExponentImagePicker"},launchImageLibraryAsync:function(){var e=(0,i.default)((function*(e){var t=e.mediaTypes,n=void 0===t?l.MediaTypeOptions.Images:t,r=e.allowsMultipleSelection,i=void 0!==r&&r,o=e.base64,s=void 0!==o&&o;return a.Platform.isDOMAvailable?yield f({mediaTypes:n,allowsMultipleSelection:i,base64:s}):{canceled:!0,assets:null}}));return function(t){return e.apply(this,arguments)}}(),launchCameraAsync:function(){var e=(0,i.default)((function*(e){var t=e.mediaTypes,n=void 0===t?l.MediaTypeOptions.Images:t,r=e.allowsMultipleSelection,i=void 0!==r&&r,o=e.base64,s=void 0!==o&&o;return a.Platform.isDOMAvailable?yield f({mediaTypes:n,allowsMultipleSelection:i,capture:!0,base64:s}):{canceled:!0,assets:null}}));return function(t){return e.apply(this,arguments)}}(),getCameraPermissionsAsync:function(){var e=(0,i.default)((function*(){return h()}));return function(){return e.apply(this,arguments)}}(),requestCameraPermissionsAsync:function(){var e=(0,i.default)((function*(){return h()}));return function(){return e.apply(this,arguments)}}(),getMediaLibraryPermissionsAsync:function(){var e=(0,i.default)((function*(e){return h()}));return function(t){return e.apply(this,arguments)}}(),requestMediaLibraryPermissionsAsync:function(){var e=(0,i.default)((function*(e){return h()}));return function(t){return e.apply(this,arguments)}}()};function h(){return{status:a.PermissionStatus.GRANTED,expires:"never",granted:!0,canAskAgain:!0}}function f(e){var t=e.mediaTypes,n=e.capture,r=void 0!==n&&n,s=e.allowsMultipleSelection,a=void 0!==s&&s,l=e.base64,d=c[t],h=document.createElement("input");return h.style.display="none",h.setAttribute("type","file"),h.setAttribute("accept",d),h.setAttribute("id",String(Math.random())),a&&h.setAttribute("multiple","multiple"),r&&h.setAttribute("capture","camera"),document.body.appendChild(h),new Promise((function(e){h.addEventListener("change",(0,i.default)((function*(){if(h.files){var t=a?h.files:[h.files[0]],n=yield Promise.all(Array.from(t).map((function(e){return t=e,n={base64:l},new Promise((function(e,r){var i=new FileReader;i.onerror=function(){r(new Error("Failed to read the selected media because the operation failed."))},i.onload=function(t){var r=t.target.result,i=function(){return e({uri:r,width:0,height:0})};if("string"===typeof r){var s=new Image;s.src=r,s.onload=function(){var t,i;e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({uri:r,width:null!=(t=s.naturalWidth)?t:s.width,height:null!=(i=s.naturalHeight)?i:s.height},n.base64&&{base64:r.substr(r.indexOf(",")+1)}))},s.onerror=function(){return i()}}else i()},i.readAsDataURL(t)}));var t,n})));e({canceled:!1,assets:n})}else e({canceled:!0,assets:null});document.body.removeChild(h)})));var t=new MouseEvent("click");h.dispatchEvent(t)}))}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=["uri","assetId","width","height","type","exif","base64","duration","fileName","fileSize"];function v(e){var t,n=null==e||null==(t=e.assets)?void 0:t[0],r=g(g({},e),{},{get cancelled(){return console.warn('Key "cancelled" in the image picker result is deprecated and will be removed in SDK 48, use "canceled" instead'),this.canceled}}),i=function(e){Object.defineProperty(r,e,{get:function(){return console.warn(`Key "${e}" in the image picker result is deprecated and will be removed in SDK 48, you can access selected assets through the "assets" array instead`),null==n?void 0:n[e]}})};for(var o of m)i(o);return r}function y(){return _.apply(this,arguments)}function _(){return(_=(0,i.default)((function*(){return d.getCameraPermissionsAsync()}))).apply(this,arguments)}function b(){return w.apply(this,arguments)}function w(){return w=(0,i.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return d.getMediaLibraryPermissionsAsync(e)})),w.apply(this,arguments)}function S(){return k.apply(this,arguments)}function k(){return(k=(0,i.default)((function*(){return d.requestCameraPermissionsAsync()}))).apply(this,arguments)}function E(){return C.apply(this,arguments)}function C(){return C=(0,i.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,d.requestMediaLibraryPermissionsAsync)(e)})),C.apply(this,arguments)}var I=(0,a.createPermissionHook)({getMethod:function(e){return b(null==e?void 0:e.writeOnly)},requestMethod:function(e){return E(null==e?void 0:e.writeOnly)}}),T=(0,a.createPermissionHook)({getMethod:y,requestMethod:S});function R(){return x.apply(this,arguments)}function x(){return(x=(0,i.default)((function*(){return d.getPendingResultAsync?d.getPendingResultAsync():[]}))).apply(this,arguments)}function O(){return P.apply(this,arguments)}function P(){return P=(0,i.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!d.launchCameraAsync)throw new a.UnavailabilityError("ImagePicker","launchCameraAsync");var t=yield d.launchCameraAsync(function(e){var t=e.aspect,n=e.quality,r=e.videoMaxDuration;if(null!=t){var i=(0,s.default)(t,2),o=i[0],l=i[1];if(o<=0||l<=0)throw new a.CodedError("ERR_INVALID_ARGUMENT",`Invalid aspect ratio values ${o}:${l}. Provide positive numbers.`)}if(n&&(n<0||n>1))throw new a.CodedError("ERR_INVALID_ARGUMENT",`Invalid 'quality' value ${n}. Provide a value between 0 and 1.`);if(r&&r<0)throw new a.CodedError("ERR_INVALID_ARGUMENT",`Invalid 'videoMaxDuration' value ${r}. Provide a non-negative number.`);return e}(e));return v(t)})),P.apply(this,arguments)}function A(e){return N.apply(this,arguments)}function N(){return(N=(0,i.default)((function*(e){if(!d.launchImageLibraryAsync)throw new a.UnavailabilityError("ImagePicker","launchImageLibraryAsync");return null!=e&&e.allowsEditing&&e.allowsMultipleSelection&&console.warn("[expo-image-picker] `allowsEditing` is not supported when `allowsMultipleSelection` is enabled and will be ignored.Disable either 'allowsEditing' or 'allowsMultipleSelection' in 'launchImageLibraryAsync' to fix this warning."),v(yield d.launchImageLibraryAsync(null!=e?e:{}))}))).apply(this,arguments)}},4464:(e,t,n)=>{"use strict";var r,i,o,s,a,l;n.r(t),n.d(t,{CameraType:()=>l,MediaTypeOptions:()=>r,UIImagePickerControllerQualityType:()=>o,UIImagePickerPreferredAssetRepresentationMode:()=>a,UIImagePickerPresentationStyle:()=>s,VideoExportPreset:()=>i}),function(e){e.All="All",e.Videos="Videos",e.Images="Images"}(r||(r={})),function(e){e[e.Passthrough=0]="Passthrough",e[e.LowQuality=1]="LowQuality",e[e.MediumQuality=2]="MediumQuality",e[e.HighestQuality=3]="HighestQuality",e[e.H264_640x480=4]="H264_640x480",e[e.H264_960x540=5]="H264_960x540",e[e.H264_1280x720=6]="H264_1280x720",e[e.H264_1920x1080=7]="H264_1920x1080",e[e.H264_3840x2160=8]="H264_3840x2160",e[e.HEVC_1920x1080=9]="HEVC_1920x1080",e[e.HEVC_3840x2160=10]="HEVC_3840x2160"}(i||(i={})),function(e){e[e.High=0]="High",e[e.Medium=1]="Medium",e[e.Low=2]="Low",e[e.VGA640x480=3]="VGA640x480",e[e.IFrame1280x720=4]="IFrame1280x720",e[e.IFrame960x540=5]="IFrame960x540"}(o||(o={})),function(e){e.FULL_SCREEN="fullScreen",e.PAGE_SHEET="pageSheet",e.FORM_SHEET="formSheet",e.CURRENT_CONTEXT="currentContext",e.OVER_FULL_SCREEN="overFullScreen",e.OVER_CURRENT_CONTEXT="overCurrentContext",e.POPOVER="popover",e.AUTOMATIC="automatic"}(s||(s={})),function(e){e.Automatic="automatic",e.Compatible="compatible",e.Current="current"}(a||(a={})),function(e){e.back="back",e.front="front"}(l||(l={}))},5405:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CodedError:()=>T,DeviceEventEmitter:()=>r,EventEmitter:()=>f,NativeModulesProxy:()=>p,PermissionStatus:()=>P,Platform:()=>S,RCTDeviceEventEmitter:()=>H,SyntheticPlatformEmitter:()=>r,UnavailabilityError:()=>x,createPermissionHook:()=>z,deprecate:()=>L,requireNativeModule:()=>F,requireNativeViewManager:()=>O});const r=n(4363).default;var i=n(4942),o=n(5671),s=n(3144),a=n(3387),l=n.n(a);const u=n(3113).default;var c=n(514),d=n(726),h="@@nativeEmitterSubscription@@",f=function(){function e(t){(0,o.default)(this,e),this._listenerCount=0,t.__expo_module_name__&&c.default.EXReactNativeEventEmitter&&(t.addListener=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=c.default.EXReactNativeEventEmitter).addProxiedListener.apply(e,[t.__expo_module_name__].concat(r))},t.removeListeners=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=c.default.EXReactNativeEventEmitter).removeProxiedListeners.apply(e,[t.__expo_module_name__].concat(r))}),this._nativeModule=t,this._eventEmitter=new u(t)}return(0,s.default)(e,[{key:"addListener",value:function(e,t){var n,r=this;!this._listenerCount&&"ios"!==d.default.OS&&this._nativeModule.startObserving&&this._nativeModule.startObserving(),this._listenerCount++;var o=this._eventEmitter.addListener(e,t),s=(n={},(0,i.default)(n,h,o),(0,i.default)(n,"remove",(function(){r.removeSubscription(s)})),n);return s}},{key:"removeAllListeners",value:function(e){var t=this._eventEmitter.listenerCount?this._eventEmitter.listenerCount(e):this._eventEmitter.listeners(e).length;this._eventEmitter.removeAllListeners(e),this._listenerCount-=t,l()(this._listenerCount>=0,"EventEmitter must have a non-negative number of listeners"),!this._listenerCount&&"ios"!==d.default.OS&&this._nativeModule.stopObserving&&this._nativeModule.stopObserving()}},{key:"removeSubscription",value:function(e){var t=e[h];t&&("remove"in t?t.remove():"removeSubscription"in this._eventEmitter&&this._eventEmitter.removeSubscription(t),this._listenerCount--,delete e[h],e.remove=function(){},!this._listenerCount&&"ios"!==d.default.OS&&this._nativeModule.stopObserving&&this._nativeModule.stopObserving())}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this._eventEmitter).emit.apply(t,[e].concat(r))}}]),e}();const p={};var g,m=n(136),v=n(2963),y=n(1120),_="undefined"!==typeof window&&!(null==(g=window.document)||!g.createElement),b=_&&!(!window.addEventListener&&!window.attachEvent),w=_&&!!window.screen;const S={OS:d.default.OS,select:d.default.select,isDOMAvailable:_,canUseEventListeners:b,canUseViewport:w,isAsyncDebugging:!1};var k=n(9611);function E(e,t,n){return E=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,k.default)(i,n.prototype),i},E.apply(null,arguments)}function C(e){var t="function"===typeof Map?new Map:void 0;return C=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return E(e,arguments,(0,y.default)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,k.default)(r,e)},C(e)}function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,y.default)(e);if(t){var i=(0,y.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,v.default)(this,n)}}var T=function(e){(0,m.default)(n,e);var t=I(n);function n(e,r){var i;return(0,o.default)(this,n),(i=t.call(this,r)).code=e,i}return(0,s.default)(n)}(C(Error));function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,y.default)(e);if(t){var i=(0,y.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,v.default)(this,n)}}var x=function(e){(0,m.default)(n,e);var t=R(n);function n(e,r){return(0,o.default)(this,n),t.call(this,"ERR_UNAVAILABLE",`The method or property ${e}.${r} is not available on ${S.OS}, are you sure you've linked all the native dependencies properly?`)}return(0,s.default)(n)}(T);function O(e){throw new x("expo-modules-core","requireNativeViewManager")}p.ExpoModulesCoreErrorManager;globalThis.ExpoModulesCore_CodedError=T;var P,A=n(1144),N=n.n(A),D={};function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.currentVersion,i=n.versionToRemove,o=n.replacement,s=function(e){var t=e.replace(/[-.]/g,"_").toUpperCase();return t}(e),a=`${s}:${t}:${o}`;if(D[a]||(D[a]=!0),!r||!i||N()(r,i)>=0){var l=`\`${t}\` has been removed`;throw i&&(l=`${l} as of version "${i}"`),o&&o.length&&(l=`${l} please migrate to: \`${o}\``),new T("ERR_DEPRECATED_API",M(e,l))}var u=`\`${t}\` has been deprecated`;o&&o.length&&(u=`${u} in favor of \`${o}\``),i&&i.length&&(u=`${u} and will be removed in version "${i}"`),console.warn(M(e,u))}function M(e,t){return`${e}: ${t}`}function F(e){var t,n,r,i,o,s=null!=(t=null!=(n=null==(r=globalThis.expo)||null==(i=r.modules)?void 0:i[e])?n:null==(o=globalThis.ExpoModules)?void 0:o[e])?t:p[e];if(!s)throw new Error(`Cannot find native module '${e}'`);return s}!function(e){e.GRANTED="granted",e.UNDETERMINED="undetermined",e.DENIED="denied"}(P||(P={}));var j=n(5861),V=n(5987),U=n(885),B=n(9),q=["get","request"];function z(e){return function(t){return function(e,t){var n=(0,B.useRef)(!0),r=(0,B.useState)(null),i=(0,U.default)(r,2),o=i[0],s=i[1],a=t||{},l=a.get,u=void 0===l||l,c=a.request,d=void 0!==c&&c,h=(0,V.default)(a,q),f=(0,B.useCallback)((0,j.default)((function*(){var t=yield e.getMethod(Object.keys(h).length>0?h:void 0);return n.current&&s(t),t})),[e.getMethod]),p=(0,B.useCallback)((0,j.default)((function*(){var t=yield e.requestMethod(Object.keys(h).length>0?h:void 0);return n.current&&s(t),t})),[e.requestMethod]);return(0,B.useEffect)((function(){d&&p(),!d&&u&&f()}),[u,d,p,f]),(0,B.useEffect)((function(){return n.current=!0,function(){n.current=!1}}),[]),[o,p,f]}(e,t)}}var H=r},4584:(e,t,n)=>{"use strict";n.r(t);n(4351);var r=n(9),i=n(5671),o=n(3144),s=(n(1413),n(351)),a=n.n(s),l=n(3940);const u=l.unmountComponentAtNode;var c=n(7462),d=n(3331),h=n(264),f=r.createContext(null),p=r.forwardRef((function(e,t){var n=e.children,i=e.WrapperComponent,o=r.createElement(h.default,{children:n,key:1,style:m.appContainer});return i&&(o=r.createElement(i,null,o)),r.createElement(f.Provider,{value:e.rootTag},r.createElement(h.default,{ref:t,style:m.appContainer},o))}));p.displayName="AppContainer";const g=p;var m=d.default.create({appContainer:{flex:1,pointerEvents:"box-none"}}),v=n(3244),y=n(1279);function _(e,t){return(0,y.createSheet)(t),(0,v.hydrateRoot)(t,e)}function b(e,t){(0,y.createSheet)(t);var n=(0,v.createRoot)(t);return n.render(e),n}function w(e,t,n){return(0,y.createSheet)(t),(0,l.hydrate)(e,t,n),{unmount:function(){return u(t)}}}function S(e,t,n){return(0,y.createSheet)(t),(0,l.render)(e,t,n),{unmount:function(){return u(t)}}}var k,E={},C={},I=function(e){return e()},T=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"getAppKeys",value:function(){return Object.keys(C)}},{key:"getApplication",value:function(e,t){return a()(C[e]&&C[e].getApplication,"Application "+e+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),C[e].getApplication(t)}},{key:"registerComponent",value:function(e,t){return C[e]={getApplication:function(e){return n=I(t),i=e?e.initialProps:E,o=k&&k(e),{element:r.createElement(g,{WrapperComponent:o,rootTag:{}},r.createElement(n,i)),getStyleElement:function(e){var t=d.default.getSheet();return r.createElement("style",(0,c.default)({},e,{dangerouslySetInnerHTML:{__html:t.textContent},id:t.id}))}};var n,i,o},run:function(e){return function(e,t,n,i){var o=i.hydrate,s=i.initialProps,l=i.mode,u=i.rootTag,c=o?"concurrent"===l?_:w:"concurrent"===l?b:S;return a()(u,"Expect to have a valid rootTag, instead got ",u),c(r.createElement(g,{WrapperComponent:t,ref:n,rootTag:u},r.createElement(e,s)),u)}(I(t),k&&k(e),e.callback,{hydrate:e.hydrate||!1,initialProps:e.initialProps||E,mode:e.mode||"concurrent",rootTag:e.rootTag})}},e}},{key:"registerConfig",value:function(t){t.forEach((function(t){var n=t.appKey,r=t.component,i=t.run;i?e.registerRunnable(n,i):(a()(r,"No component provider passed in"),e.registerComponent(n,r))}))}},{key:"registerRunnable",value:function(e,t){return C[e]={run:t},e}},{key:"runApplication",value:function(e,t){return a()(C[e]&&C[e].run,'Application "'+e+'" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent.'),C[e].run(t)}},{key:"setComponentProviderInstrumentationHook",value:function(e){I=e}},{key:"setWrapperComponentProvider",value:function(e){k=e}},{key:"unmountApplicationComponentAtRootTag",value:function(e){u(e)}}]),e}(),R=n(726);!function(e){var t=e;if("web"!==R.default.OS)T.registerComponent("main",(function(){return t}));else if("undefined"!==typeof document){var n=document.getElementById("root");if(n||(n=document.getElementById("main")),!n)throw new Error('Required HTML element with id "root" was not found in the document HTML. This is required for mounting the root React component.');(0,v.createRoot)(n).render(r.createElement(t))}}(n(3923).default)},4351:()=>{0},1660:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FullWindowOverlay:()=>L,InnerScreen:()=>x,NativeScreen:()=>T,NativeScreenContainer:()=>A,NativeScreenNavigationContainer:()=>N,Screen:()=>R,ScreenContainer:()=>P,ScreenContext:()=>O,ScreenStack:()=>D,ScreenStackHeaderBackButtonImage:()=>M,ScreenStackHeaderCenterView:()=>V,ScreenStackHeaderConfig:()=>B,ScreenStackHeaderLeftView:()=>j,ScreenStackHeaderRightView:()=>F,ScreenStackHeaderSearchBarView:()=>U,ScreenStackHeaderSubview:()=>z,SearchBar:()=>q,enableFreeze:()=>I,enableScreens:()=>E,executeNativeBackPress:()=>y,isNewBackTitleImplementation:()=>_,isSearchBarAvailableForCurrentPlatform:()=>v,screensEnabled:()=>C,shouldUseActivityState:()=>H,useTransitionProgress:()=>p});var r=n(5987),i=n(5671),o=n(3144),s=n(136),a=n(2963),l=n(1120),u=n(9),c=n(6926),d=n(264),h=n(187);const f=u.createContext(void 0);function p(){var e=u.useContext(f);if(void 0===e)throw new Error("Couldn't find values for transition progress. Are you inside a screen in Native Stack?");return e}var g=n(7434),m=n(726),v=["ios","android"].includes(m.default.OS);function y(){return g.default.exitApp(),!0}var _=!0,b=["active","activityState","style","enabled"];function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}var k=!0;function E(){k=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}function C(){return k}function I(){}var T=function(e){(0,s.default)(n,e);var t=w(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.activityState,i=e.style,o=e.enabled,s=void 0===o?k:o,a=(0,r.default)(e,b);return s?(void 0!==t&&void 0===n&&(n=0!==t?2:0),u.createElement(d.default,S({hidden:0===n,style:[i,{display:0!==n?"flex":"none"}]},a))):u.createElement(d.default,a)}}]),n}(u.Component),R=c.default.createAnimatedComponent(T),x=d.default,O=u.createContext(R),P=d.default,A=d.default,N=d.default,D=d.default,L=d.default,M=function(e){return u.createElement(d.default,null,u.createElement(h.default,S({resizeMode:"center",fadeDuration:0},e)))},F=function(e){return u.createElement(d.default,e)},j=function(e){return u.createElement(d.default,e)},V=function(e){return u.createElement(d.default,e)},U=function(e){return u.createElement(d.default,e)},B=function(e){return u.createElement(d.default,e)},q=d.default,z=d.default,H=!0},6926:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ft});var r=n(1413),i=n(726),o=n(7462),s=n(9),a=n(6570),l=n(3366),u=n(5671),c=n(3144),d=n(1752),h=n(136),f=n(2963),p=n(1120),g=n(8906),m=n(351),v=n.n(m);var y=n(3113);const _=i.default;const b={isLayoutAnimationEnabled:function(){return!0},shouldEmitW3CPointerEvents:function(){return!1},shouldPressibilityUseW3CPointerEventsForHover:function(){return!1},animatedShouldDebounceQueueFlush:function(){return!1},animatedShouldUseSingleOp:function(){return!1}};var w,S=("ios"===_.OS&&n.g.RN$Bridgeless,null),k=1,E=1,C=new Set,I=!1,T=[];"android"===_.OS&&null!=S&&S.queueAndExecuteBatchedOperations&&b.animatedShouldUseSingleOp();var R=null,x=S,O={getValue:function(e,t){v()(x,"Native animated module is not available"),O.queueOperation(x.getValue,e,t)},setWaitingForIdentifier:function(e){C.add(e),I=!0,b.animatedShouldDebounceQueueFlush()&&R&&clearTimeout(R)},unsetWaitingForIdentifier:function(e){C.delete(e),0===C.size&&(I=!1,O.disableQueue())},disableQueue:function(){(v()(x,"Native animated module is not available"),b.animatedShouldDebounceQueueFlush())?(clearImmediate(R),R=setImmediate(O.flushQueue)):O.flushQueue()},flushQueue:function(){},queueOperation:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];I||0!==T.length?T.push((function(){return e.apply(void 0,n)})):e.apply(void 0,n)},createAnimatedNode:function(e,t){v()(x,"Native animated module is not available"),O.queueOperation(x.createAnimatedNode,e,t)},updateAnimatedNodeConfig:function(e,t){v()(x,"Native animated module is not available")},startListeningToAnimatedNodeValue:function(e){v()(x,"Native animated module is not available"),O.queueOperation(x.startListeningToAnimatedNodeValue,e)},stopListeningToAnimatedNodeValue:function(e){v()(x,"Native animated module is not available"),O.queueOperation(x.stopListeningToAnimatedNodeValue,e)},connectAnimatedNodes:function(e,t){v()(x,"Native animated module is not available"),O.queueOperation(x.connectAnimatedNodes,e,t)},disconnectAnimatedNodes:function(e,t){v()(x,"Native animated module is not available"),O.queueOperation(x.disconnectAnimatedNodes,e,t)},startAnimatingNode:function(e,t,n,r){v()(x,"Native animated module is not available"),O.queueOperation(x.startAnimatingNode,e,t,n,r)},stopAnimation:function(e){v()(x,"Native animated module is not available"),O.queueOperation(x.stopAnimation,e)},setAnimatedNodeValue:function(e,t){v()(x,"Native animated module is not available"),O.queueOperation(x.setAnimatedNodeValue,e,t)},setAnimatedNodeOffset:function(e,t){v()(x,"Native animated module is not available"),O.queueOperation(x.setAnimatedNodeOffset,e,t)},flattenAnimatedNodeOffset:function(e){v()(x,"Native animated module is not available"),O.queueOperation(x.flattenAnimatedNodeOffset,e)},extractAnimatedNodeOffset:function(e){v()(x,"Native animated module is not available"),O.queueOperation(x.extractAnimatedNodeOffset,e)},connectAnimatedNodeToView:function(e,t){v()(x,"Native animated module is not available"),O.queueOperation(x.connectAnimatedNodeToView,e,t)},disconnectAnimatedNodeFromView:function(e,t){v()(x,"Native animated module is not available"),O.queueOperation(x.disconnectAnimatedNodeFromView,e,t)},restoreDefaultValues:function(e){v()(x,"Native animated module is not available"),null!=x.restoreDefaultValues&&O.queueOperation(x.restoreDefaultValues,e)},dropAnimatedNode:function(e){v()(x,"Native animated module is not available"),O.queueOperation(x.dropAnimatedNode,e)},addAnimatedEventToView:function(e,t,n){v()(x,"Native animated module is not available"),O.queueOperation(x.addAnimatedEventToView,e,t,n)},removeAnimatedEventFromView:function(e,t,n){v()(x,"Native animated module is not available"),O.queueOperation(x.removeAnimatedEventFromView,e,t,n)}};var P={backgroundColor:!0,borderBottomColor:!0,borderColor:!0,borderEndColor:!0,borderLeftColor:!0,borderRightColor:!0,borderStartColor:!0,borderTopColor:!0,color:!0,tintColor:!0},A=(0,r.default)((0,r.default)({},P),{},{borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,opacity:!0,transform:!0,zIndex:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0}),N={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},D={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function L(e){return A.hasOwnProperty(e)}function M(e){return N.hasOwnProperty(e)}function F(e){return D.hasOwnProperty(e)}function j(){return E++}var V=!1;function U(e){return null==e.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0!==e.useNativeDriver||S?e.useNativeDriver||!1:(V||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `bundle exec pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),V=!0),!1)}const B={API:O,isSupportedColorStyleProp:function(e){return P.hasOwnProperty(e)},isSupportedStyleProp:L,isSupportedTransformProp:M,isSupportedInterpolationParam:F,addWhitelistedStyleProp:function(e){A[e]=!0},addWhitelistedTransformProp:function(e){N[e]=!0},addWhitelistedInterpolationParam:function(e){D[e]=!0},validateStyles:function(e){for(var t in e)if(!L(t))throw new Error("Style property '"+t+"' is not supported by native animated module")},validateTransform:function(e){e.forEach((function(e){if(!M(e.property))throw new Error("Property '"+e.property+"' is not supported by native animated module")}))},validateInterpolation:function(e){for(var t in e)if(!F(t))throw new Error("Interpolation property '"+t+"' is not supported by native animated module")},generateNewNodeTag:function(){return k++},generateNewAnimationId:j,assertNativeAnimatedModule:function(){v()(S,"Native animated module is not available")},shouldUseNativeDriver:U,transformDataType:function(e){return"string"!==typeof e?e:/deg$/.test(e)?(parseFloat(e)||0)*Math.PI/180:e},get nativeEventEmitter(){return w||(w=new y.default("ios"!==_.OS?null:S)),w}};var q=B.API,z=1;const H=function(){function e(){(0,u.default)(this,e),this._listeners={}}return(0,c.default)(e,[{key:"__attach",value:function(){}},{key:"__detach",value:function(){this.__isNative&&null!=this.__nativeTag&&(B.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}},{key:"__getValue",value:function(){}},{key:"__getAnimatedValue",value:function(){return this.__getValue()}},{key:"__addChild",value:function(e){}},{key:"__removeChild",value:function(e){}},{key:"__getChildren",value:function(){return[]}},{key:"__makeNative",value:function(e){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this._platformConfig=e,this.hasListeners()&&this._startListeningToNativeValueUpdates()}},{key:"addListener",value:function(e){var t=String(z++);return this._listeners[t]=e,this.__isNative&&this._startListeningToNativeValueUpdates(),t}},{key:"removeListener",value:function(e){delete this._listeners[e],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}},{key:"removeAllListeners",value:function(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}},{key:"hasListeners",value:function(){return!!Object.keys(this._listeners).length}},{key:"_startListeningToNativeValueUpdates",value:function(){var e=this;this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),q.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=B.nativeEventEmitter.addListener("onAnimatedValueUpdate",(function(t){t.tag===e.__getNativeTag()&&e.__onAnimatedValueUpdateReceived(t.value)})))}},{key:"__onAnimatedValueUpdateReceived",value:function(e){this.__callListeners(e)}},{key:"__callListeners",value:function(e){for(var t in this._listeners)this._listeners[t]({value:e})}},{key:"_stopListeningForNativeValueUpdates",value:function(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,q.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}},{key:"__getNativeTag",value:function(){var e;B.assertNativeAnimatedModule(),v()(this.__isNative,'Attempt to get native tag from node not marked as "native"');var t=null!==(e=this.__nativeTag)&&void 0!==e?e:B.generateNewNodeTag();if(null==this.__nativeTag){this.__nativeTag=t;var n=this.__getNativeConfig();this._platformConfig&&(n.platformConfig=this._platformConfig),B.API.createAnimatedNode(t,n),this.__shouldUpdateListenersForNewNativeTag=!0}return t}},{key:"__getNativeConfig",value:function(){throw new Error("This JS animated node type cannot be used as native animated node")}},{key:"toJSON",value:function(){return this.__getValue()}},{key:"__getPlatformConfig",value:function(){return this._platformConfig}},{key:"__setPlatformConfig",value:function(e){this._platformConfig=e}}]),e}();function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}const $=function(e){(0,h.default)(n,e);var t=W(n);function n(){var e;return(0,u.default)(this,n),(e=t.call(this))._children=[],e}return(0,c.default)(n,[{key:"__makeNative",value:function(e){if(!this.__isNative){this.__isNative=!0;for(var t,r=(0,g.default)(this._children);!(t=r()).done;){var i=t.value;i.__makeNative(e),B.API.connectAnimatedNodes(this.__getNativeTag(),i.__getNativeTag())}}(0,d.default)((0,p.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__addChild",value:function(e){0===this._children.length&&this.__attach(),this._children.push(e),this.__isNative&&(e.__makeNative(this.__getPlatformConfig()),B.API.connectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()))}},{key:"__removeChild",value:function(e){var t=this._children.indexOf(e);-1!==t?(this.__isNative&&e.__isNative&&B.API.disconnectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()),this._children.splice(t,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}},{key:"__getChildren",value:function(){return this._children}},{key:"__callListeners",value:function(e){if((0,d.default)((0,p.default)(n.prototype),"__callListeners",this).call(this,e),!this.__isNative)for(var t,r=(0,g.default)(this._children);!(t=r()).done;){var i=t.value;i.__getValue&&i.__callListeners(i.__getValue())}}}]),n}(H);var K=n(5158),G=n.n(K);function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var Y=!1,X=function(e){return e};function J(e){if(e.outputRange&&"string"===typeof e.outputRange[0])return function(e){var t=e.outputRange;v()(t.length>=2,"Bad output range"),t=t.map(Z),function(e){for(var t=e[0].replace(ee,""),n=1;n<e.length;++n)v()(t===e[n].replace(ee,""),"invalid pattern "+e[0]+" and "+e[n])}(t);var n=t[0].match(ee).map((function(){return[]}));t.forEach((function(e){e.match(ee).forEach((function(e,t){n[t].push(+e)}))}));var i=t[0].match(ee).map((function(t,i){return J((0,r.default)((0,r.default)({},e),{},{outputRange:n[i]}))})),o=(s=t[0],"string"===typeof s&&s.startsWith("rgb"));var s;return function(e){var n=0;return t[0].replace(ee,(function(){var t=+i[n++](e);return o&&(t=n<4?Math.round(t):Math.round(1e3*t)/1e3),String(t)}))}}(e);var t=e.outputRange,n=e.inputRange;Y&&(te("outputRange",t),te("inputRange",n),function(e){v()(e.length>=2,"inputRange must have at least 2 elements");for(var t="inputRange must be monotonically non-decreasing "+String(e),n=1;n<e.length;++n)v()(e[n]>=e[n-1],t)}(n),v()(n.length===t.length,"inputRange ("+n.length+") and outputRange ("+t.length+") must have the same length"));var i=e.easing||X,o="extend";void 0!==e.extrapolateLeft?o=e.extrapolateLeft:void 0!==e.extrapolate&&(o=e.extrapolate);var s="extend";return void 0!==e.extrapolateRight?s=e.extrapolateRight:void 0!==e.extrapolate&&(s=e.extrapolate),function(e){v()("number"===typeof e,"Cannot interpolation an input which is not a number");var r=function(e,t){var n;for(n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,n);return function(e,t,n,r,i,o,s,a){var l=e;if(l<t){if("identity"===s)return l;"clamp"===s&&(l=t)}if(l>n){if("identity"===a)return l;"clamp"===a&&(l=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=o(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(e,n[r],n[r+1],t[r],t[r+1],i,o,s)}}function Z(e){var t=G()(e);return null===t||"number"!==typeof t?e:"rgba("+((4278190080&(t=t||0))>>>24)+", "+((16711680&t)>>>16)+", "+((65280&t)>>>8)+", "+(255&t)/255+")"}var ee=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function te(e,t){v()(t.length>=2,e+" must have at least 2 elements"),v()(2!==t.length||t[0]!==-1/0||t[1]!==1/0,e+"cannot be ]-infinity;+infinity[ "+t)}var ne=function(e){(0,h.default)(n,e);var t=Q(n);function n(e,r){var i;return(0,u.default)(this,n),(i=t.call(this))._parent=e,i._config=r,i._interpolation=J(r),i}return(0,c.default)(n,[{key:"__makeNative",value:function(e){this._parent.__makeNative(e),(0,d.default)((0,p.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){var e=this._parent.__getValue();return v()("number"===typeof e,"Cannot interpolate an input which is not a number."),this._interpolation(e)}},{key:"interpolate",value:function(e){return new n(this,e)}},{key:"__attach",value:function(){this._parent.__addChild(this)}},{key:"__detach",value:function(){this._parent.__removeChild(this),(0,d.default)((0,p.default)(n.prototype),"__detach",this).call(this)}},{key:"__transformDataType",value:function(e){return e.map(B.transformDataType)}},{key:"__getNativeConfig",value:function(){return Y&&B.validateInterpolation(this._config),{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||"extend",extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||"extend",type:"interpolation"}}}]),n}($);ne.__createInterpolation=J;const re=ne;var ie=n(5103);function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var se=B.API;const ae=function(e){(0,h.default)(n,e);var t=oe(n);function n(e,r){var i;if((0,u.default)(this,n),i=t.call(this),"number"!==typeof e)throw new Error("AnimatedValue: Attempting to set value to undefined");return i._startingValue=i._value=e,i._offset=0,i._animation=null,r&&r.useNativeDriver&&i.__makeNative(),i}return(0,c.default)(n,[{key:"__detach",value:function(){var e=this;this.__isNative&&se.getValue(this.__getNativeTag(),(function(t){e._value=t-e._offset})),this.stopAnimation(),(0,d.default)((0,p.default)(n.prototype),"__detach",this).call(this)}},{key:"__getValue",value:function(){return this._value+this._offset}},{key:"setValue",value:function(e){var t,n,r=this;this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(e,!this.__isNative),this.__isNative&&(t=this.__getNativeTag().toString(),n=function(){return se.setAnimatedNodeValue(r.__getNativeTag(),e)},se.setWaitingForIdentifier(t),n(),se.unsetWaitingForIdentifier(t))}},{key:"setOffset",value:function(e){this._offset=e,this.__isNative&&se.setAnimatedNodeOffset(this.__getNativeTag(),e)}},{key:"flattenOffset",value:function(){this._value+=this._offset,this._offset=0,this.__isNative&&se.flattenAnimatedNodeOffset(this.__getNativeTag())}},{key:"extractOffset",value:function(){this._offset+=this._value,this._value=0,this.__isNative&&se.extractAnimatedNodeOffset(this.__getNativeTag())}},{key:"stopAnimation",value:function(e){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,e&&(this.__isNative?se.getValue(this.__getNativeTag(),e):e(this.__getValue()))}},{key:"resetAnimation",value:function(e){this.stopAnimation(e),this._value=this._startingValue,this.__isNative&&se.setAnimatedNodeValue(this.__getNativeTag(),this._startingValue)}},{key:"__onAnimatedValueUpdateReceived",value:function(e){this._updateValue(e,!1)}},{key:"interpolate",value:function(e){return new re(this,e)}},{key:"animate",value:function(e,t){var n=this,r=null;e.__isInteraction&&(r=ie.default.createInteractionHandle());var i=this._animation;this._animation&&this._animation.stop(),this._animation=e,e.start(this._value,(function(e){n._updateValue(e,!0)}),(function(e){n._animation=null,null!==r&&ie.default.clearInteractionHandle(r),t&&t(e)}),i,this)}},{key:"stopTracking",value:function(){this._tracking&&this._tracking.__detach(),this._tracking=null}},{key:"track",value:function(e){this.stopTracking(),this._tracking=e,this._tracking&&this._tracking.update()}},{key:"_updateValue",value:function(e,t){if(void 0===e)throw new Error("AnimatedValue: Attempting to set value to undefined");this._value=e,t&&function(e){var t=new Set;!function e(n){"function"===typeof n.update?t.add(n):n.__getChildren().forEach(e)}(e),t.forEach((function(e){return e.update()}))}(this),(0,d.default)((0,p.default)(n.prototype),"__callListeners",this).call(this,this.__getValue())}},{key:"__getNativeConfig",value:function(){return{type:"value",value:this._value,offset:this._offset}}}]),n}($);function le(e,t,n){var r=[];return v()(n[0]&&n[0].nativeEvent,"Native driven events only support animated values contained inside `nativeEvent`."),function e(t,n){if(t instanceof ae)t.__makeNative(),r.push({nativeEventPath:n,animatedValueTag:t.__getNativeTag()});else if("object"===typeof t)for(var i in t)e(t[i],n.concat(i))}(n[0].nativeEvent,[]),null!=e&&r.forEach((function(n){B.API.addAnimatedEventToView(e,t,n)})),{detach:function(){null!=e&&r.forEach((function(n){B.API.removeAnimatedEventFromView(e,t,n.animatedValueTag)}))}}}var ue=function(){function e(t,n){(0,u.default)(this,e),this._listeners=[],this._argMapping=t,null==n&&(console.warn("Animated.event now requires a second argument for options"),n={useNativeDriver:!1}),n.listener&&this.__addListener(n.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=U(n)}return(0,c.default)(e,[{key:"__addListener",value:function(e){this._listeners.push(e)}},{key:"__removeListener",value:function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))}},{key:"__attach",value:function(e,t){v()(this.__isNative,"Only native driven events need to be attached."),this._attachedEvent=le(e,t,this._argMapping)}},{key:"__detach",value:function(e,t){v()(this.__isNative,"Only native driven events need to be detached."),this._attachedEvent&&this._attachedEvent.detach()}},{key:"__getHandler",value:function(){var e=this;if(this.__isNative)return this._callListeners;return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function e(t,n,r){if(t instanceof ae)"number"===typeof n&&t.setValue(n);else if("object"===typeof t)for(var i in t)e(t[i],n[i],i)};e._argMapping.forEach((function(e,t){i(e,n[t])})),e._callListeners.apply(e,n)}}},{key:"_callListeners",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._listeners.forEach((function(e){return e.apply(void 0,t)}))}}]),e}();function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}const de=function(e){(0,h.default)(n,e);var t=ce(n);function n(e){var r;return(0,u.default)(this,n),(r=t.call(this))._transforms=e,r}return(0,c.default)(n,[{key:"__makeNative",value:function(){this._transforms.forEach((function(e){for(var t in e){var n=e[t];n instanceof H&&n.__makeNative()}})),(0,d.default)((0,p.default)(n.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._transforms.map((function(e){var t={};for(var n in e){var r=e[n];t[n]=r instanceof H?r.__getValue():r}return t}))}},{key:"__getAnimatedValue",value:function(){return this._transforms.map((function(e){var t={};for(var n in e){var r=e[n];t[n]=r instanceof H?r.__getAnimatedValue():r}return t}))}},{key:"__attach",value:function(){var e=this;this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof H&&r.__addChild(e)}}))}},{key:"__detach",value:function(){var e=this;this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof H&&r.__removeChild(e)}})),(0,d.default)((0,p.default)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){var e=[];return this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof H?e.push({type:"animated",property:n,nodeTag:r.__getNativeTag()}):e.push({type:"static",property:n,value:B.transformDataType(r)})}})),B.validateTransform(e),{type:"transform",transforms:e}}}]),n}($);function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var fe=n(3331).default.flatten;function pe(e){var t=fe(e),n={};for(var r in t){var i=t[r];"transform"===r&&Array.isArray(i)?n[r]=new de(i):i instanceof H?n[r]=i:i&&!Array.isArray(i)&&"object"===typeof i&&(n[r]=pe(i))}return n}const ge=function(e){(0,h.default)(n,e);var t=he(n);function n(e){var r;return(0,u.default)(this,n),(r=t.call(this))._inputStyle=e,r._style=pe(e),r}return(0,c.default)(n,[{key:"_walkStyleAndGetValues",value:function(e){var t={};for(var n in e){var r=e[n];r instanceof H?r.__isNative||(t[n]=r.__getValue()):r&&!Array.isArray(r)&&"object"===typeof r?t[n]=this._walkStyleAndGetValues(r):t[n]=r}return t}},{key:"__getValue",value:function(){return[this._inputStyle,this._walkStyleAndGetValues(this._style)]}},{key:"_walkStyleAndGetAnimatedValues",value:function(e){var t={};for(var n in e){var r=e[n];r instanceof H?t[n]=r.__getAnimatedValue():r&&!Array.isArray(r)&&"object"===typeof r&&(t[n]=this._walkStyleAndGetAnimatedValues(r))}return t}},{key:"__getAnimatedValue",value:function(){return this._walkStyleAndGetAnimatedValues(this._style)}},{key:"__attach",value:function(){for(var e in this._style){var t=this._style[e];t instanceof H&&t.__addChild(this)}}},{key:"__detach",value:function(){for(var e in this._style){var t=this._style[e];t instanceof H&&t.__removeChild(this)}(0,d.default)((0,p.default)(n.prototype),"__detach",this).call(this)}},{key:"__makeNative",value:function(){for(var e in this._style){var t=this._style[e];t instanceof H&&t.__makeNative()}(0,d.default)((0,p.default)(n.prototype),"__makeNative",this).call(this)}},{key:"__getNativeConfig",value:function(){var e={};for(var t in this._style)if(this._style[t]instanceof H){var n=this._style[t];n.__makeNative(),e[t]=n.__getNativeTag()}return B.validateStyles(e),{type:"style",style:e}}}]),n}($);function me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}const ve=function(e){(0,h.default)(n,e);var t=me(n);function n(e,i){var o;return(0,u.default)(this,n),o=t.call(this),e.style&&(e=(0,r.default)((0,r.default)({},e),{},{style:new ge(e.style)})),o._props=e,o._callback=i,o.__attach(),o}return(0,c.default)(n,[{key:"__getValue",value:function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof H?(!n.__isNative||n instanceof ge)&&(e[t]=n.__getValue()):e[t]=n instanceof ue?n.__getHandler():n}return e}},{key:"__getAnimatedValue",value:function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof H&&(e[t]=n.__getAnimatedValue())}return e}},{key:"__attach",value:function(){for(var e in this._props){var t=this._props[e];t instanceof H&&t.__addChild(this)}}},{key:"__detach",value:function(){for(var e in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var t=this._props[e];t instanceof H&&t.__removeChild(this)}(0,d.default)((0,p.default)(n.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._callback()}},{key:"__makeNative",value:function(){if(!this.__isNative){for(var e in this.__isNative=!0,this._props){var t=this._props[e];t instanceof H&&t.__makeNative()}this._animatedView&&this.__connectAnimatedView()}}},{key:"setNativeView",value:function(e){this._animatedView!==e&&(this._animatedView=e,this.__isNative&&this.__connectAnimatedView())}},{key:"__connectAnimatedView",value:function(){v()(this.__isNative,'Expected node to be marked as "native"');var e=this._animatedView;v()(null!=e,"Unable to locate attached view in the native tree"),B.API.connectAnimatedNodeToView(this.__getNativeTag(),e)}},{key:"__disconnectAnimatedView",value:function(){v()(this.__isNative,'Expected node to be marked as "native"');var e=this._animatedView;v()(null!=e,"Unable to locate attached view in the native tree"),B.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),e)}},{key:"__restoreDefaultValues",value:function(){this.__isNative&&B.API.restoreDefaultValues(this.__getNativeTag())}},{key:"__getNativeConfig",value:function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof H&&(n.__makeNative(),e[t]=n.__getNativeTag())}return{type:"props",props:e}}}]),n}(H);var ye=n(2653);function _e(e){var t=(0,s.useReducer)((function(e){return e+1}),0)[1],n=(0,s.useRef)(null),r=(0,s.useMemo)((function(){return new ve(e,(function(){return null==n.current?void 0:n.current()}))}),[e]);!function(e){var t=(0,s.useRef)(null),n=(0,s.useRef)(!1);(0,s.useEffect)((function(){B.API.flushQueue()})),(0,ye.default)((function(){return n.current=!1,function(){n.current=!0}}),[]),(0,ye.default)((function(){if(e.__attach(),null!=t.current){var r=t.current;r.__restoreDefaultValues(),r.__detach(),t.current=null}return function(){n.current?e.__detach():t.current=e}}),[e])}(r);var i=function(e){var t=(0,s.useRef)(void 0);return(0,s.useCallback)((function(n){t.current&&(t.current(),t.current=void 0),null!=n&&(t.current=e(n))}),[e])}((0,s.useCallback)((function(i){r.setNativeView(i),n.current=function(){t()};var o=function(e){return"object"===typeof e&&"function"===typeof(null==e?void 0:e.getScrollableNode)?e.getScrollableNode():e}(i),s=[];for(var a in e){var l=e[a];l instanceof ue&&l.__isNative&&(l.__attach(o,a),s.push([a,l]))}return function(){n.current=null;for(var e=0,t=s;e<t.length;e++){var r=t[e],i=r[0];r[1].__detach(o,i)}}}),[e,r]));return[be(r),i]}function be(e){return(0,r.default)((0,r.default)({},e.__getValue()),{},{collapsable:!1})}var we=["style"];function Se(e){return s.forwardRef((function(t,n){var r=_e(t),i=r[0],a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.useCallback)((function(e){for(var n=0,r=t;n<r.length;n++){var i=r[n];null!=i&&("function"===typeof i?i(e):i.current=e)}}),[].concat(t))}(r[1],n),u=i.passthroughAnimatedPropExplicitValues,c=i.style,d=null!==u&&void 0!==u?u:{},h=d.style,f=(0,l.default)(d,we),p=[c,h];return s.createElement(e,(0,o.default)({},i,f,{style:p,ref:a}))}))}const ke=Se(s.forwardRef((function(e,t){return s.createElement(a.default,(0,o.default)({scrollEventThrottle:1e-4},e,{ref:t}))})));const Ee=Se(n(187).default);var Ce=n(2300);const Ie=Se(s.forwardRef((function(e,t){return s.createElement(Ce.default,(0,o.default)({scrollEventThrottle:1e-4},e,{ref:t}))})));var Te=n(7326),Re=n(264),xe=n(4217),Oe=n(2157);function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var Ae=["ItemSeparatorComponent","SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"];function Ne(e){var t=e.LeadingSeparatorComponent,n=e.SeparatorComponent,i=e.cellKey,a=e.prevCellKey,l=e.setSelfHighlightCallback,u=e.updateHighlightFor,c=e.setSelfUpdatePropsCallback,d=e.updatePropsFor,h=e.item,f=e.index,p=e.section,g=e.inverted,m=s.useState(!1),v=m[0],y=m[1],_=s.useState(!1),b=_[0],w=_[1],S=s.useState({leadingItem:e.leadingItem,leadingSection:e.leadingSection,section:e.section,trailingItem:e.item,trailingSection:e.trailingSection}),k=S[0],E=S[1],C=s.useState({leadingItem:e.item,leadingSection:e.leadingSection,section:e.section,trailingItem:e.trailingItem,trailingSection:e.trailingSection}),I=C[0],T=C[1];s.useEffect((function(){return l(i,w),c(i,T),function(){c(i,null),l(i,null)}}),[i,l,T,c]);var R={highlight:function(){y(!0),w(!0),null!=a&&u(a,!0)},unhighlight:function(){y(!1),w(!1),null!=a&&u(a,!1)},updateProps:function(e,i){"leading"===e?null!=t?E((0,r.default)((0,r.default)({},k),i)):null!=a&&d(a,(0,r.default)((0,r.default)({},k),i)):"trailing"===e&&null!=n&&T((0,r.default)((0,r.default)({},I),i))}},x=e.renderItem({item:h,index:f,section:p,separators:R}),O=null!=t&&s.createElement(t,(0,o.default)({highlighted:v},k)),P=null!=n&&s.createElement(n,(0,o.default)({highlighted:b},I));return O||P?s.createElement(Re.default,null,!1===g?O:P,x,!1===g?P:O):x}const De=function(e){(0,h.default)(n,e);var t=Pe(n);function n(){var e;return(0,u.default)(this,n),(e=t.apply(this,arguments))._keyExtractor=function(t,n){var r=e._subExtractor(n);return r&&r.key||String(n)},e._convertViewable=function(t){var n;v()(null!=t.index,"Received a broken ViewToken");var i=e._subExtractor(t.index);if(!i)return null;var o=i.section.keyExtractor,s=e.props.keyExtractor||Oe.keyExtractor,a=null!=o?o(t.item,i.index):s(t.item,null!==(n=i.index)&&void 0!==n?n:0);return(0,r.default)((0,r.default)({},t),{},{index:i.index,key:a,section:i.section})},e._onViewableItemsChanged=function(t){var n=t.viewableItems,r=t.changed,i=e.props.onViewableItemsChanged;null!=i&&i({viewableItems:n.map(e._convertViewable,(0,Te.default)(e)).filter(Boolean),changed:r.map(e._convertViewable,(0,Te.default)(e)).filter(Boolean)})},e._renderItem=function(t){return function(n){var r=n.item,i=n.index,o=e._subExtractor(i);if(!o)return null;var a=o.index;if(null==a){var l=o.section;if(!0===o.header){var u=e.props.renderSectionHeader;return u?u({section:l}):null}var c=e.props.renderSectionFooter;return c?c({section:l}):null}var d=o.section.renderItem||e.props.renderItem,h=e._getSeparatorComponent(i,o,t);return v()(d,"no renderItem!"),s.createElement(Ne,{SeparatorComponent:h,LeadingSeparatorComponent:0===a?e.props.SectionSeparatorComponent:void 0,cellKey:o.key,index:a,item:r,leadingItem:o.leadingItem,leadingSection:o.leadingSection,prevCellKey:(e._subExtractor(i-1)||{}).key,setSelfHighlightCallback:e._setUpdateHighlightFor,setSelfUpdatePropsCallback:e._setUpdatePropsFor,updateHighlightFor:e._updateHighlightFor,updatePropsFor:e._updatePropsFor,renderItem:d,section:o.section,trailingItem:o.trailingItem,trailingSection:o.trailingSection,inverted:!!e.props.inverted})}},e._updatePropsFor=function(t,n){var r=e._updatePropsMap[t];null!=r&&r(n)},e._updateHighlightFor=function(t,n){var r=e._updateHighlightMap[t];null!=r&&r(n)},e._setUpdateHighlightFor=function(t,n){null!=n?e._updateHighlightMap[t]=n:delete e._updateHighlightFor[t]},e._setUpdatePropsFor=function(t,n){null!=n?e._updatePropsMap[t]=n:delete e._updatePropsMap[t]},e._updateHighlightMap={},e._updatePropsMap={},e._captureRef=function(t){e._listRef=t},e}return(0,c.default)(n,[{key:"scrollToLocation",value:function(e){for(var t=e.itemIndex,n=0;n<e.sectionIndex;n++)t+=this.props.getItemCount(this.props.sections[n].data)+2;var i=e.viewOffset||0;if(null!=this._listRef){if(e.itemIndex>0&&this.props.stickySectionHeadersEnabled)i+=this._listRef.__getFrameMetricsApprox(t-e.itemIndex,this._listRef.props).length;var o=(0,r.default)((0,r.default)({},e),{},{viewOffset:i,index:t});this._listRef.scrollToIndex(o)}}},{key:"getListRef",value:function(){return this._listRef}},{key:"render",value:function(){for(var e,t=this,n=this.props,r=(n.ItemSeparatorComponent,n.SectionSeparatorComponent,n.renderItem,n.renderSectionFooter,n.renderSectionHeader,n.sections,n.stickySectionHeadersEnabled,(0,l.default)(n,Ae)),i=this.props.ListHeaderComponent?1:0,a=this.props.stickySectionHeadersEnabled?[]:void 0,u=0,c=(0,g.default)(this.props.sections);!(e=c()).done;){var d=e.value;null!=a&&a.push(u+i),u+=2,u+=this.props.getItemCount(d.data)}var h=this._renderItem(u);return s.createElement(xe.default,(0,o.default)({},r,{keyExtractor:this._keyExtractor,stickyHeaderIndices:a,renderItem:h,data:this.props.sections,getItem:function(e,n){return t._getItem(t.props,e,n)},getItemCount:function(){return u},onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:void 0,ref:this._captureRef}))}},{key:"_getItem",value:function(e,t,n){if(!t)return null;for(var r=n-1,i=0;i<t.length;i++){var o=t[i],s=o.data,a=e.getItemCount(s);if(-1===r||r===a)return o;if(r<a)return e.getItem(s,r);r-=a+2}return null}},{key:"_subExtractor",value:function(e){for(var t=e,n=this.props,r=n.getItem,i=n.getItemCount,o=n.keyExtractor,s=n.sections,a=0;a<s.length;a++){var l=s[a],u=l.data,c=l.key||String(a);if(!((t-=1)>=i(u)+1))return-1===t?{section:l,key:c+":header",index:null,header:!0,trailingSection:s[a+1]}:t===i(u)?{section:l,key:c+":footer",index:null,header:!1,trailingSection:s[a+1]}:{section:l,key:c+":"+(l.keyExtractor||o||Oe.keyExtractor)(r(u,t),t),index:t,leadingItem:r(u,t-1),leadingSection:s[a-1],trailingItem:r(u,t+1),trailingSection:s[a+1]};t-=i(u)+1}}},{key:"_getSeparatorComponent",value:function(e,t,n){if(!(t=t||this._subExtractor(e)))return null;var r=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,i=this.props.SectionSeparatorComponent,o=e===n-1,s=t.index===this.props.getItemCount(t.section.data)-1;return i&&s?i:!r||s||o?null:r}}]),n}(s.PureComponent);function Le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var Me=["stickySectionHeadersEnabled"];const Fe=function(e){(0,h.default)(n,e);var t=Le(n);function n(){var e;return(0,u.default)(this,n),(e=t.apply(this,arguments))._captureRef=function(t){e._wrapperListRef=t},e}return(0,c.default)(n,[{key:"scrollToLocation",value:function(e){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(e)}},{key:"recordInteraction",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()}},{key:"flashScrollIndicators",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()}},{key:"getScrollableNode",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()}},{key:"render",value:function(){var e=this.props,t=e.stickySectionHeadersEnabled,n=(0,l.default)(e,Me),r=null!==t&&void 0!==t?t:"ios"===i.default.OS;return s.createElement(De,(0,o.default)({},n,{stickySectionHeadersEnabled:r,ref:this._captureRef,getItemCount:function(e){return e.length},getItem:function(e,t){return e[t]}}))}}]),n}(s.PureComponent);const je=Se(s.forwardRef((function(e,t){return s.createElement(Fe,(0,o.default)({scrollEventThrottle:1e-4},e,{ref:t}))})));const Ve=Se(n(8409).default),Ue=Se(Re.default);function Be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}const qe=function(e){(0,h.default)(n,e);var t=Be(n);function n(e,r){var i;return(0,u.default)(this,n),(i=t.call(this))._a="number"===typeof e?new ae(e):e,i._b="number"===typeof r?new ae(r):r,i}return(0,c.default)(n,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),this._b.__makeNative(e),(0,d.default)((0,p.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){return this._a.__getValue()+this._b.__getValue()}},{key:"interpolate",value:function(e){return new re(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),(0,d.default)((0,p.default)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"addition",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),n}($);function ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}const He=function(e){(0,h.default)(n,e);var t=ze(n);function n(e,r,i){var o;return(0,u.default)(this,n),(o=t.call(this))._a=e,o._min=r,o._max=i,o._value=o._lastValue=o._a.__getValue(),o}return(0,c.default)(n,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),(0,d.default)((0,p.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"interpolate",value:function(e){return new re(this,e)}},{key:"__getValue",value:function(){var e=this._a.__getValue(),t=e-this._lastValue;return this._lastValue=e,this._value=Math.min(Math.max(this._value+t,this._min),this._max),this._value}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),(0,d.default)((0,p.default)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"diffclamp",input:this._a.__getNativeTag(),min:this._min,max:this._max}}}]),n}($);function We(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}const $e=function(e){(0,h.default)(n,e);var t=We(n);function n(e,r){var i;return(0,u.default)(this,n),(i=t.call(this))._warnedAboutDivideByZero=!1,(0===r||r instanceof H&&0===r.__getValue())&&console.error("Detected potential division by zero in AnimatedDivision"),i._a="number"===typeof e?new ae(e):e,i._b="number"===typeof r?new ae(r):r,i}return(0,c.default)(n,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),this._b.__makeNative(e),(0,d.default)((0,p.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){var e=this._a.__getValue(),t=this._b.__getValue();return 0===t?(this._warnedAboutDivideByZero||(console.error("Detected division by zero in AnimatedDivision"),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,e/t)}},{key:"interpolate",value:function(e){return new re(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),(0,d.default)((0,p.default)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"division",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),n}($);function Ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}const Ge=function(e){(0,h.default)(n,e);var t=Ke(n);function n(e,r){var i;return(0,u.default)(this,n),(i=t.call(this))._a=e,i._modulus=r,i}return(0,c.default)(n,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),(0,d.default)((0,p.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}},{key:"interpolate",value:function(e){return new re(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),(0,d.default)((0,p.default)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"modulus",input:this._a.__getNativeTag(),modulus:this._modulus}}}]),n}($);function Qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}const Ye=function(e){(0,h.default)(n,e);var t=Qe(n);function n(e,r){var i;return(0,u.default)(this,n),(i=t.call(this))._a="number"===typeof e?new ae(e):e,i._b="number"===typeof r?new ae(r):r,i}return(0,c.default)(n,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),this._b.__makeNative(e),(0,d.default)((0,p.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){return this._a.__getValue()*this._b.__getValue()}},{key:"interpolate",value:function(e){return new re(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),(0,d.default)((0,p.default)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"multiplication",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),n}($);function Xe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}const Je=function(e){(0,h.default)(n,e);var t=Xe(n);function n(e,r){var i;return(0,u.default)(this,n),(i=t.call(this))._a="number"===typeof e?new ae(e):e,i._b="number"===typeof r?new ae(r):r,i}return(0,c.default)(n,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),this._b.__makeNative(e),(0,d.default)((0,p.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){return this._a.__getValue()-this._b.__getValue()}},{key:"interpolate",value:function(e){return new re(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),(0,d.default)((0,p.default)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"subtraction",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),n}($);function Ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}const et=function(e){(0,h.default)(n,e);var t=Ze(n);function n(e,r,i,o,s){var a;return(0,u.default)(this,n),(a=t.call(this))._value=e,a._parent=r,a._animationClass=i,a._animationConfig=o,a._useNativeDriver=U(o),a._callback=s,a.__attach(),a}return(0,c.default)(n,[{key:"__makeNative",value:function(){this.__isNative=!0,this._parent.__makeNative(),(0,d.default)((0,p.default)(n.prototype),"__makeNative",this).call(this),this._value.__makeNative()}},{key:"__getValue",value:function(){return this._parent.__getValue()}},{key:"__attach",value:function(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()}},{key:"__detach",value:function(){this._parent.__removeChild(this),(0,d.default)((0,p.default)(n.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._value.animate(new this._animationClass((0,r.default)((0,r.default)({},this._animationConfig),{},{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}},{key:"__getNativeConfig",value:function(){var e=new this._animationClass((0,r.default)((0,r.default)({},this._animationConfig),{},{toValue:void 0})).__getNativeAnimationConfig();return{type:"tracking",animationId:j(),animationConfig:e,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}}]),n}(H);function tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var nt=1;const rt=function(e){(0,h.default)(n,e);var t=tt(n);function n(e){var r;(0,u.default)(this,n),r=t.call(this);var i=e||{x:0,y:0};return"number"===typeof i.x&&"number"===typeof i.y?(r.x=new ae(i.x),r.y=new ae(i.y)):(v()(i.x instanceof ae&&i.y instanceof ae,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),r.x=i.x,r.y=i.y),r._listeners={},r}return(0,c.default)(n,[{key:"setValue",value:function(e){this.x.setValue(e.x),this.y.setValue(e.y)}},{key:"setOffset",value:function(e){this.x.setOffset(e.x),this.y.setOffset(e.y)}},{key:"flattenOffset",value:function(){this.x.flattenOffset(),this.y.flattenOffset()}},{key:"extractOffset",value:function(){this.x.extractOffset(),this.y.extractOffset()}},{key:"__getValue",value:function(){return{x:this.x.__getValue(),y:this.y.__getValue()}}},{key:"resetAnimation",value:function(e){this.x.resetAnimation(),this.y.resetAnimation(),e&&e(this.__getValue())}},{key:"stopAnimation",value:function(e){this.x.stopAnimation(),this.y.stopAnimation(),e&&e(this.__getValue())}},{key:"addListener",value:function(e){var t=this,n=String(nt++),r=function(n){n.value;e(t.__getValue())};return this._listeners[n]={x:this.x.addListener(r),y:this.y.addListener(r)},n}},{key:"removeListener",value:function(e){this.x.removeListener(this._listeners[e].x),this.y.removeListener(this._listeners[e].y),delete this._listeners[e]}},{key:"removeAllListeners",value:function(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}},{key:"getLayout",value:function(){return{left:this.x,top:this.y}}},{key:"getTranslateTransform",value:function(){return[{translateX:this.x},{translateY:this.y}]}}]),n}($);var it=1;const ot=function(){function e(){(0,u.default)(this,e)}return(0,c.default)(e,[{key:"start",value:function(e,t,n,r,i){}},{key:"stop",value:function(){this.__nativeId&&B.API.stopAnimation(this.__nativeId)}},{key:"__getNativeAnimationConfig",value:function(){throw new Error("This animation type cannot be offloaded to native")}},{key:"__debouncedOnEnd",value:function(e){var t=this.__onEnd;this.__onEnd=null,t&&t(e)}},{key:"__startNativeAnimation",value:function(e){var t=it+":startAnimation";it+=1,B.API.setWaitingForIdentifier(t);try{var n=this.__getNativeAnimationConfig();e.__makeNative(n.platformConfig),this.__nativeId=B.generateNewAnimationId(),B.API.startAnimatingNode(this.__nativeId,e.__getNativeTag(),n,this.__debouncedOnEnd.bind(this))}catch(r){throw r}finally{B.API.unsetWaitingForIdentifier(t)}}}]),e}();function st(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}const at=function(e){(0,h.default)(r,e);var t=st(r);function r(e){var n,i,o,s;return(0,u.default)(this,r),(n=t.call(this))._deceleration=null!==(i=e.deceleration)&&void 0!==i?i:.998,n._velocity=e.velocity,n._useNativeDriver=U(e),n.__isInteraction=null!==(o=e.isInteraction)&&void 0!==o?o:!n._useNativeDriver,n.__iterations=null!==(s=e.iterations)&&void 0!==s?s:1,n}return(0,c.default)(r,[{key:"__getNativeAnimationConfig",value:function(){return{type:"decay",deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}}},{key:"start",value:function(e,t,n,r,i){this.__active=!0,this._lastValue=e,this._fromValue=e,this._onUpdate=t,this.__onEnd=n,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(i):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}},{key:"onUpdate",value:function(){var e=Date.now(),t=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(e-this._startTime)));this._onUpdate(t),Math.abs(this._lastValue-t)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=t,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}},{key:"stop",value:function(){(0,d.default)((0,p.default)(r.prototype),"stop",this).call(this),this.__active=!1,n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),r}(ot);function lt(e){return 3.62*(e-30)+194}function ut(e){return 3*(e-8)+25}const ct={fromOrigamiTensionAndFriction:function(e,t){return{stiffness:lt(e),damping:ut(t)}},fromBouncinessAndSpeed:function(e,t){function n(e,t,n){return(e-t)/(n-t)}function r(e,t,n){return t+e*(n-t)}var i=n(e/1.7,0,20);i=r(i,0,.8);var o,s,a=r(n(t/1.7,0,20),.5,200),l=(o=i,s=function(e){return e<=18?(t=e,7e-4*Math.pow(t,3)-.031*Math.pow(t,2)+.64*t+1.28):e>18&&e<=44?function(e){return 44e-6*Math.pow(e,3)-.006*Math.pow(e,2)+.36*e+2}(e):function(e){return 45e-8*Math.pow(e,3)-332e-6*Math.pow(e,2)+.1078*e+5.84}(e);var t}(a),function(e,t,n){return e*n+(1-e)*t}(2*o-o*o,s,.01));return{stiffness:lt(a),damping:ut(l)}}};function dt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}const ht=function(e){(0,h.default)(r,e);var t=dt(r);function r(e){var n,i,o,s,a,l,c,d,h,f,p,g;if((0,u.default)(this,r),(n=t.call(this))._overshootClamping=null!==(i=e.overshootClamping)&&void 0!==i&&i,n._restDisplacementThreshold=null!==(o=e.restDisplacementThreshold)&&void 0!==o?o:.001,n._restSpeedThreshold=null!==(s=e.restSpeedThreshold)&&void 0!==s?s:.001,n._initialVelocity=null!==(a=e.velocity)&&void 0!==a?a:0,n._lastVelocity=null!==(l=e.velocity)&&void 0!==l?l:0,n._toValue=e.toValue,n._delay=null!==(c=e.delay)&&void 0!==c?c:0,n._useNativeDriver=U(e),n._platformConfig=e.platformConfig,n.__isInteraction=null!==(d=e.isInteraction)&&void 0!==d?d:!n._useNativeDriver,n.__iterations=null!==(h=e.iterations)&&void 0!==h?h:1,void 0!==e.stiffness||void 0!==e.damping||void 0!==e.mass)v()(void 0===e.bounciness&&void 0===e.speed&&void 0===e.tension&&void 0===e.friction,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one"),n._stiffness=null!==(f=e.stiffness)&&void 0!==f?f:100,n._damping=null!==(p=e.damping)&&void 0!==p?p:10,n._mass=null!==(g=e.mass)&&void 0!==g?g:1;else if(void 0!==e.bounciness||void 0!==e.speed){var m,y;v()(void 0===e.tension&&void 0===e.friction&&void 0===e.stiffness&&void 0===e.damping&&void 0===e.mass,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one");var _=ct.fromBouncinessAndSpeed(null!==(m=e.bounciness)&&void 0!==m?m:8,null!==(y=e.speed)&&void 0!==y?y:12);n._stiffness=_.stiffness,n._damping=_.damping,n._mass=1}else{var b,w,S=ct.fromOrigamiTensionAndFriction(null!==(b=e.tension)&&void 0!==b?b:40,null!==(w=e.friction)&&void 0!==w?w:7);n._stiffness=S.stiffness,n._damping=S.damping,n._mass=1}return v()(n._stiffness>0,"Stiffness value must be greater than 0"),v()(n._damping>0,"Damping value must be greater than 0"),v()(n._mass>0,"Mass value must be greater than 0"),n}return(0,c.default)(r,[{key:"__getNativeAnimationConfig",value:function(){var e;return{type:"spring",overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!==(e=this._initialVelocity)&&void 0!==e?e:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}},{key:"start",value:function(e,t,n,i,o){var s=this;if(this.__active=!0,this._startPosition=e,this._lastPosition=this._startPosition,this._onUpdate=t,this.__onEnd=n,this._lastTime=Date.now(),this._frameTime=0,i instanceof r){var a=i.getInternalState();this._lastPosition=a.lastPosition,this._lastVelocity=a.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=a.lastTime}var l=function(){s._useNativeDriver?s.__startNativeAnimation(o):s.onUpdate()};this._delay?this._timeout=setTimeout(l,this._delay):l()}},{key:"getInternalState",value:function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}},{key:"onUpdate",value:function(){var e=Date.now();e>this._lastTime+64&&(e=this._lastTime+64);var t=(e-this._lastTime)/1e3;this._frameTime+=t;var n=this._damping,r=this._mass,i=this._stiffness,o=-this._initialVelocity,s=n/(2*Math.sqrt(i*r)),a=Math.sqrt(i/r),l=a*Math.sqrt(1-s*s),u=this._toValue-this._startPosition,c=0,d=0,h=this._frameTime;if(s<1){var f=Math.exp(-s*a*h);c=this._toValue-f*((o+s*a*u)/l*Math.sin(l*h)+u*Math.cos(l*h)),d=s*a*f*(Math.sin(l*h)*(o+s*a*u)/l+u*Math.cos(l*h))-f*(Math.cos(l*h)*(o+s*a*u)-l*u*Math.sin(l*h))}else{var p=Math.exp(-a*h);c=this._toValue-p*(u+(o+a*u)*h),d=p*(o*(h*a-1)+h*u*(a*a))}if(this._lastTime=e,this._lastPosition=c,this._lastVelocity=d,this._onUpdate(c),this.__active){var g=!1;this._overshootClamping&&0!==this._stiffness&&(g=this._startPosition<this._toValue?c>this._toValue:c<this._toValue);var m=Math.abs(d)<=this._restSpeedThreshold,v=!0;if(0!==this._stiffness&&(v=Math.abs(this._toValue-c)<=this._restDisplacementThreshold),g||m&&v)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}},{key:"stop",value:function(){(0,d.default)((0,p.default)(r.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),r}(ot);var ft,pt=n(6594);function gt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}const mt=function(e){(0,h.default)(r,e);var t=gt(r);function r(e){var n,i,o,s,a,l;return(0,u.default)(this,r),(n=t.call(this))._toValue=e.toValue,n._easing=null!==(i=e.easing)&&void 0!==i?i:(ft||(ft=pt.default.inOut(pt.default.ease)),ft),n._duration=null!==(o=e.duration)&&void 0!==o?o:500,n._delay=null!==(s=e.delay)&&void 0!==s?s:0,n.__iterations=null!==(a=e.iterations)&&void 0!==a?a:1,n._useNativeDriver=U(e),n._platformConfig=e.platformConfig,n.__isInteraction=null!==(l=e.isInteraction)&&void 0!==l?l:!n._useNativeDriver,n}return(0,c.default)(r,[{key:"__getNativeAnimationConfig",value:function(){for(var e=[],t=Math.round(this._duration/(1e3/60)),n=0;n<t;n++)e.push(this._easing(n/t));return e.push(this._easing(1)),{type:"frames",frames:e,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}},{key:"start",value:function(e,t,n,r,i){var o=this;this.__active=!0,this._fromValue=e,this._onUpdate=t,this.__onEnd=n;var s=function(){0!==o._duration||o._useNativeDriver?(o._startTime=Date.now(),o._useNativeDriver?o.__startNativeAnimation(i):o._animationFrame=requestAnimationFrame(o.onUpdate.bind(o))):(o._onUpdate(o._toValue),o.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(s,this._delay):s()}},{key:"onUpdate",value:function(){var e=Date.now();if(e>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((e-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}},{key:"stop",value:function(){(0,d.default)((0,p.default)(r.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),r}(ot);function vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var yt=B.API,_t={r:0,g:0,b:0,a:1},bt=1;function wt(e){if(void 0===e||null===e)return null;if(St(e))return e;var t=G()(e);if(void 0===t||null===t)return null;if("object"===typeof t){if(null!=t)return t}else if("number"===typeof t){return{r:(4278190080&t)>>>24,g:(16711680&t)>>>16,b:(65280&t)>>>8,a:(255&t)/255}}return null}function St(e){return e&&"number"===typeof e.r&&"number"===typeof e.g&&"number"===typeof e.b&&"number"===typeof e.a}var kt=function(e){(0,h.default)(n,e);var t=vt(n);function n(e,r){var i;(0,u.default)(this,n),(i=t.call(this))._listeners={};var o=null!==e&&void 0!==e?e:_t;if(function(e){return e&&e.r instanceof ae&&e.g instanceof ae&&e.b instanceof ae&&e.a instanceof ae}(o)){var s=o;i.r=s.r,i.g=s.g,i.b=s.b,i.a=s.a}else{var a,l=null!==(a=wt(o))&&void 0!==a?a:_t,c=_t;St(l)?c=l:i.nativeColor=l,i.r=new ae(c.r),i.g=new ae(c.g),i.b=new ae(c.b),i.a=new ae(c.a)}return(i.nativeColor||r&&r.useNativeDriver)&&i.__makeNative(),i}return(0,c.default)(n,[{key:"setValue",value:function(e){var t,n=!1;if(this.__isNative){var r=this.__getNativeTag();yt.setWaitingForIdentifier(r.toString())}var i=null!==(t=wt(e))&&void 0!==t?t:_t;if(St(i)){var o=i;this.r.setValue(o.r),this.g.setValue(o.g),this.b.setValue(o.b),this.a.setValue(o.a),null!=this.nativeColor&&(this.nativeColor=null,n=!0)}else{var s=i;this.nativeColor!==s&&(this.nativeColor=s,n=!0)}if(this.__isNative){var a=this.__getNativeTag();n&&yt.updateAnimatedNodeConfig(a,this.__getNativeConfig()),yt.unsetWaitingForIdentifier(a.toString())}}},{key:"setOffset",value:function(e){this.r.setOffset(e.r),this.g.setOffset(e.g),this.b.setOffset(e.b),this.a.setOffset(e.a)}},{key:"flattenOffset",value:function(){this.r.flattenOffset(),this.g.flattenOffset(),this.b.flattenOffset(),this.a.flattenOffset()}},{key:"extractOffset",value:function(){this.r.extractOffset(),this.g.extractOffset(),this.b.extractOffset(),this.a.extractOffset()}},{key:"addListener",value:function(e){var t=this,n=String(bt++),r=function(n){n.value;e(t.__getValue())};return this._listeners[n]={r:this.r.addListener(r),g:this.g.addListener(r),b:this.b.addListener(r),a:this.a.addListener(r)},n}},{key:"removeListener",value:function(e){this.r.removeListener(this._listeners[e].r),this.g.removeListener(this._listeners[e].g),this.b.removeListener(this._listeners[e].b),this.a.removeListener(this._listeners[e].a),delete this._listeners[e]}},{key:"removeAllListeners",value:function(){this.r.removeAllListeners(),this.g.removeAllListeners(),this.b.removeAllListeners(),this.a.removeAllListeners(),this._listeners={}}},{key:"stopAnimation",value:function(e){this.r.stopAnimation(),this.g.stopAnimation(),this.b.stopAnimation(),this.a.stopAnimation(),e&&e(this.__getValue())}},{key:"resetAnimation",value:function(e){this.r.resetAnimation(),this.g.resetAnimation(),this.b.resetAnimation(),this.a.resetAnimation(),e&&e(this.__getValue())}},{key:"__getValue",value:function(){return null!=this.nativeColor?this.nativeColor:"rgba("+this.r.__getValue()+", "+this.g.__getValue()+", "+this.b.__getValue()+", "+this.a.__getValue()+")"}},{key:"__attach",value:function(){this.r.__addChild(this),this.g.__addChild(this),this.b.__addChild(this),this.a.__addChild(this),(0,d.default)((0,p.default)(n.prototype),"__attach",this).call(this)}},{key:"__detach",value:function(){this.r.__removeChild(this),this.g.__removeChild(this),this.b.__removeChild(this),this.a.__removeChild(this),(0,d.default)((0,p.default)(n.prototype),"__detach",this).call(this)}},{key:"__makeNative",value:function(e){this.r.__makeNative(e),this.g.__makeNative(e),this.b.__makeNative(e),this.a.__makeNative(e),(0,d.default)((0,p.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__getNativeConfig",value:function(){return{type:"color",r:this.r.__getNativeTag(),g:this.g.__getNativeTag(),b:this.b.__getNativeTag(),a:this.a.__getNativeTag(),nativeColor:this.nativeColor}}}]),n}($),Et=function(e,t){return e&&t.onComplete?function(){t.onComplete&&t.onComplete.apply(t,arguments),e&&e.apply(void 0,arguments)}:e||t.onComplete},Ct=function(e,t,n){if(e instanceof rt){var i=(0,r.default)({},t),o=(0,r.default)({},t);for(var s in t){var a=t[s],l=a.x,u=a.y;void 0!==l&&void 0!==u&&(i[s]=l,o[s]=u)}var c=n(e.x,i),d=n(e.y,o);return Rt([c,d],{stopTogether:!1})}if(e instanceof kt){var h=(0,r.default)({},t),f=(0,r.default)({},t),p=(0,r.default)({},t),g=(0,r.default)({},t);for(var m in t){var v=t[m],y=v.r,_=v.g,b=v.b,w=v.a;void 0!==y&&void 0!==_&&void 0!==b&&void 0!==w&&(h[m]=y,f[m]=_,p[m]=b,g[m]=w)}var S=n(e.r,h),k=n(e.g,f),E=n(e.b,p),C=n(e.a,g);return Rt([S,k,E,C],{stopTogether:!1})}return null},It=function e(t,n){var i=function(e,t,n){n=Et(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof H?r.track(new et(r,t.toValue,mt,i,n)):r.animate(new mt(i),n)};return Ct(t,n,e)||{start:function(e){i(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var o=(0,r.default)((0,r.default)({},n),{},{iterations:e});i(t,o)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},Tt=function(e){var t=0;return{start:function(n){0===e.length?n&&n({finished:!0}):e[t].start((function r(i){i.finished&&++t!==e.length?e[t].start(r):n&&n(i)}))},stop:function(){t<e.length&&e[t].stop()},reset:function(){e.forEach((function(e,n){n<=t&&e.reset()})),t=0},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.sequence animations")},_isUsingNativeDriver:function(){return!1}}},Rt=function(e,t){var n=0,r={},i=!(t&&!1===t.stopTogether),o={start:function(t){n!==e.length?e.forEach((function(s,a){var l=function(s){if(r[a]=!0,++n===e.length)return n=0,void(t&&t(s));!s.finished&&i&&o.stop()};s?s.start(l):l({finished:!0})})):t&&t({finished:!0})},stop:function(){e.forEach((function(e,t){!r[t]&&e.stop(),r[t]=!0}))},reset:function(){e.forEach((function(e,t){e.reset(),r[t]=!1,n=0}))},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.parallel animations")},_isUsingNativeDriver:function(){return!1}};return o},xt=function(e){return It(new ae(0),{toValue:0,delay:e,duration:0,useNativeDriver:!1})};const Ot={Value:ae,ValueXY:rt,Color:kt,Interpolation:re,Node:H,decay:function e(t,n){var i=function(e,t,n){n=Et(n,t);var r=e,i=t;r.stopTracking(),r.animate(new at(i),n)};return Ct(t,n,e)||{start:function(e){i(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var o=(0,r.default)((0,r.default)({},n),{},{iterations:e});i(t,o)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},timing:It,spring:function e(t,n){var i=function(e,t,n){n=Et(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof H?r.track(new et(r,t.toValue,ht,i,n)):r.animate(new ht(i),n)};return Ct(t,n,e)||{start:function(e){i(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var o=(0,r.default)((0,r.default)({},n),{},{iterations:e});i(t,o)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},add:function(e,t){return new qe(e,t)},subtract:function(e,t){return new Je(e,t)},divide:function(e,t){return new $e(e,t)},multiply:function(e,t){return new Ye(e,t)},modulo:function(e,t){return new Ge(e,t)},diffClamp:function(e,t,n){return new He(e,t,n)},delay:xt,sequence:Tt,parallel:Rt,stagger:function(e,t){return Rt(t.map((function(t,n){return Tt([xt(e*n),t])})))},loop:function(e,t){var n=void 0===t?{}:t,r=n.iterations,i=void 0===r?-1:r,o=n.resetBeforeIteration,s=void 0===o||o,a=!1,l=0;return{start:function(t){e&&0!==i?e._isUsingNativeDriver()?e._startNativeLoop(i):function n(r){void 0===r&&(r={finished:!0}),a||l===i||!1===r.finished?t&&t(r):(l++,s&&e.reset(),e.start(n))}():t&&t({finished:!0})},stop:function(){a=!0,e.stop()},reset:function(){l=0,a=!1,e.reset()},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.loop animations")},_isUsingNativeDriver:function(){return e._isUsingNativeDriver()}}},event:function(e,t){var n=new ue(e,t);return n.__isNative?n:n.__getHandler()},createAnimatedComponent:Se,attachNativeEvent:le,forkEvent:function(e,t){return e?e instanceof ue?(e.__addListener(t),e):function(){"function"===typeof e&&e.apply(void 0,arguments),t.apply(void 0,arguments)}:t},unforkEvent:function(e,t){e&&e instanceof ue&&e.__removeListener(t)},Event:ue};var Pt=!1;function At(e){return function(t){var n=null==t?t:function(){if(Pt)console.warn("Ignoring recursive animation callback when running mock animations");else{Pt=!0;try{t.apply(void 0,arguments)}finally{Pt=!1}}};e(n)}}var Nt={start:function(){},stop:function(){},reset:function(){},_startNativeLoop:function(){},_isUsingNativeDriver:function(){return!1}},Dt=function(e){return(0,r.default)((0,r.default)({},Nt),{},{start:At((function(t){e.forEach((function(e){return e.start()})),null==t||t({finished:!0})}))})};const Lt={Value:ae,ValueXY:rt,Color:kt,Interpolation:re,Node:H,decay:function(e,t){return Nt},timing:function(e,t){var n=e;return(0,r.default)((0,r.default)({},Nt),{},{start:At((function(e){n.setValue(t.toValue),null==e||e({finished:!0})}))})},spring:function(e,t){var n=e;return(0,r.default)((0,r.default)({},Nt),{},{start:At((function(e){n.setValue(t.toValue),null==e||e({finished:!0})}))})},add:Ot.add,subtract:Ot.subtract,divide:Ot.divide,multiply:Ot.multiply,modulo:Ot.modulo,diffClamp:Ot.diffClamp,delay:function(e){return Nt},sequence:function(e){return Dt(e)},parallel:function(e,t){return Dt(e)},stagger:function(e,t){return Dt(t)},loop:function(e,t){(void 0===t?{}:t).iterations;return Nt},event:Ot.event,createAnimatedComponent:Se,attachNativeEvent:le,forkEvent:Ot.forkEvent,unforkEvent:Ot.unforkEvent,Event:ue};var Mt=i.default.isTesting?Lt:Ot;const Ft=(0,r.default)({FlatList:ke,Image:Ee,ScrollView:Ie,SectionList:je,Text:Ve,View:Ue},Mt)},7434:(e,t,n)=>{"use strict";function r(){}n.r(t),n.d(t,{default:()=>i});const i={exitApp:r,addEventListener:function(){return console.error("BackHandler is not supported on web and should not be used."),{remove:r}},removeEventListener:r}},4422:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r,i=n(5671),o=n(3144),s=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"isAvailable",value:function(){return void 0===r&&(r="function"===typeof document.queryCommandSupported&&document.queryCommandSupported("copy")),r}},{key:"getString",value:function(){return Promise.resolve("")}},{key:"setString",value:function(e){var t=!1,n=document.body;if(n){var r=document.createElement("span");r.textContent=e,r.style.opacity="0",r.style.position="absolute",r.style.whiteSpace="pre-wrap",r.style.userSelect="auto",n.appendChild(r);var i=window.getSelection();i.removeAllRanges();var o=document.createRange();o.selectNodeContents(r),i.addRange(o);try{document.execCommand("copy"),t=!0}catch(s){}i.removeAllRanges(),n.removeChild(r)}return t}}]),e}()},5076:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(5671),i=n(3144),o=n(351),s=n.n(o),a=n(3808),l={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},u={},c=a.default;function d(){if(a.default){var e,t,n=window;if(n.visualViewport){var r=n.visualViewport;e=Math.round(r.height*r.scale),t=Math.round(r.width*r.scale)}else{var i=n.document.documentElement;e=i.clientHeight,t=i.clientWidth}l.window={fontScale:1,height:e,scale:n.devicePixelRatio||1,width:t},l.screen={fontScale:1,height:n.screen.height,scale:n.devicePixelRatio||1,width:n.screen.width}}}function h(){d(),Array.isArray(u.change)&&u.change.forEach((function(e){return e(l)}))}var f=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,null,[{key:"get",value:function(e){return c&&(c=!1,d()),s()(l[e],"No dimension set for key "+e),l[e]}},{key:"set",value:function(e){e&&(a.default?s()(!1,"Dimensions cannot be set in the browser"):(null!=e.screen&&(l.screen=e.screen),null!=e.window&&(l.window=e.window)))}},{key:"addEventListener",value:function(e,t){var n=this;return u[e]=u[e]||[],u[e].push(t),{remove:function(){n.removeEventListener(e,t)}}}},{key:"removeEventListener",value:function(e,t){Array.isArray(u[e])&&(u[e]=u[e].filter((function(e){return e!==t})))}}]),e}();a.default&&(window.visualViewport?window.visualViewport.addEventListener("resize",h,!1):window.addEventListener("resize",h,!1))},6594:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r,i=n(5671),o=n(3144),s=4,a=1e-7,l=10,u=.1,c="function"===typeof Float32Array;function d(e,t){return 1-3*t+3*e}function h(e,t){return 3*t-6*e}function f(e){return 3*e}function p(e,t,n){return((d(t,n)*e+h(t,n))*e+f(t))*e}function g(e,t,n){return 3*d(t,n)*e*e+2*h(t,n)*e+f(t)}function m(e,t,n,r){if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var i=c?new Float32Array(11):new Array(11);if(e!==t||n!==r)for(var o=0;o<11;++o)i[o]=p(o*u,e,n);function d(t){for(var r=0,o=1;10!==o&&i[o]<=t;++o)r+=u;--o;var c=r+(t-i[o])/(i[o+1]-i[o])*u,d=g(c,e,n);return d>=.001?function(e,t,n,r){for(var i=t,o=0;o<s;++o){var a=g(i,n,r);if(0===a)return i;i-=(p(i,n,r)-e)/a}return i}(t,c,e,n):0===d?c:function(e,t,n,r,i){var o,s,u=0,c=t,d=n;do{(o=p(s=c+(d-c)/2,r,i)-e)>0?d=s:c=s}while(Math.abs(o)>a&&++u<l);return s}(t,r,r+u,e,n)}return function(i){return e===t&&n===r?i:0===i?0:1===i?1:p(d(i),t,r)}}const v=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"step0",value:function(e){return e>0?1:0}},{key:"step1",value:function(e){return e>=1?1:0}},{key:"linear",value:function(e){return e}},{key:"ease",value:function(t){return r||(r=e.bezier(.42,0,1,1)),r(t)}},{key:"quad",value:function(e){return e*e}},{key:"cubic",value:function(e){return e*e*e}},{key:"poly",value:function(e){return function(t){return Math.pow(t,e)}}},{key:"sin",value:function(e){return 1-Math.cos(e*Math.PI/2)}},{key:"circle",value:function(e){return 1-Math.sqrt(1-e*e)}},{key:"exp",value:function(e){return Math.pow(2,10*(e-1))}},{key:"elastic",value:function(e){void 0===e&&(e=1);var t=e*Math.PI;return function(e){return 1-Math.pow(Math.cos(e*Math.PI/2),3)*Math.cos(e*t)}}},{key:"back",value:function(e){return void 0===e&&(e=1.70158),function(t){return t*t*((e+1)*t-e)}}},{key:"bounce",value:function(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){var t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){var n=e-2.25/2.75;return 7.5625*n*n+.9375}var r=e-2.625/2.75;return 7.5625*r*r+.984375}},{key:"bezier",value:function(e,t,n,r){return m(e,t,n,r)}},{key:"in",value:function(e){return e}},{key:"out",value:function(e){return function(t){return 1-e(1-t)}}},{key:"inOut",value:function(e){return function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2}}}]),e}()},6570:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var r=n(5671),i=n(3144),o=n(136),s=n(2963),a=n(1120),l=n(7462),u=n(3366),c=n(1413),d=n(264),h=n(3331);const f=function e(t,n,r){if(void 0===r&&(r=-1),0===r)return!0;if(t===n)return!1;if("function"===typeof t&&"function"===typeof n)return!1;if("object"!==typeof t||null===t)return t!==n;if("object"!==typeof n||null===n)return!0;if(t.constructor!==n.constructor)return!0;if(Array.isArray(t)){var i=t.length;if(n.length!==i)return!0;for(var o=0;o<i;o++)if(e(t[o],n[o],r-1))return!0}else{for(var s in t)if(e(t[s],n[s],r-1))return!0;for(var a in n)if(void 0===t[a]&&void 0!==n[a])return!0}return!1};var p=n(726),g=n(351),m=n.n(g),v=n(9),y=n(4217),_=n(2157),b=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function w(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||b(r)&&b(i)))return!1;var r,i;return!0}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.default)(e);if(t){var i=(0,a.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var k=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function E(e){return null!==e&&void 0!==e?e:1}var C=function(e){(0,o.default)(n,e);var t=S(n);function n(e){var i;return(0,r.default)(this,n),(i=t.call(this,e))._virtualizedListPairs=[],i._captureRef=function(e){i._listRef=e},i._getItem=function(e,t){var n=E(i.props.numColumns);if(n>1){for(var r=[],o=0;o<n;o++){var s=t*n+o;if(s<e.length){var a=e[s];r.push(a)}}return r}return e[t]},i._getItemCount=function(e){if(null!=e&&function(e){return"number"===typeof Object(e).length}(e)){var t=E(i.props.numColumns);return t>1?Math.ceil(e.length/t):e.length}return 0},i._keyExtractor=function(e,t){var n,r=E(i.props.numColumns),o=null!==(n=i.props.keyExtractor)&&void 0!==n?n:_.keyExtractor;return r>1?(m()(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",r),e.map((function(e,n){return o(e,t*r+n)})).join(":")):o(e,t)},i._renderer=function(e,t,n,r,i){var o=E(r),s=function(n){return e?v.createElement(e,n):t?t(n):null},a=function(e){if(o>1){var t=e.item,r=e.index;return m()(Array.isArray(t),"Expected array of items with numColumns > 1"),v.createElement(d.default,{style:[I.row,n]},t.map((function(t,n){var i=s({item:t,index:r*o+n,separators:e.separators});return null!=i?v.createElement(v.Fragment,{key:n},i):null})))}return s(e)};return e?{ListItemComponent:a}:{renderItem:a}},i._memoizedRenderer=function(e,t){void 0===t&&(t=w);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}(i._renderer),i._checkProps(i.props),i.props.viewabilityConfigCallbackPairs?i._virtualizedListPairs=i.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:i._createOnViewableItemsChanged(e.onViewableItemsChanged)}})):i.props.onViewableItemsChanged&&i._virtualizedListPairs.push({viewabilityConfig:i.props.viewabilityConfig,onViewableItemsChanged:i._createOnViewableItemsChanged(i.props.onViewableItemsChanged)}),i}return(0,i.default)(n,[{key:"scrollToEnd",value:function(e){this._listRef&&this._listRef.scrollToEnd(e)}},{key:"scrollToIndex",value:function(e){this._listRef&&this._listRef.scrollToIndex(e)}},{key:"scrollToItem",value:function(e){this._listRef&&this._listRef.scrollToItem(e)}},{key:"scrollToOffset",value:function(e){this._listRef&&this._listRef.scrollToOffset(e)}},{key:"recordInteraction",value:function(){this._listRef&&this._listRef.recordInteraction()}},{key:"flashScrollIndicators",value:function(){this._listRef&&this._listRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._listRef)return this._listRef.getScrollResponder()}},{key:"getNativeScrollRef",value:function(){if(this._listRef)return this._listRef.getScrollRef()}},{key:"getScrollableNode",value:function(){if(this._listRef)return this._listRef.getScrollableNode()}},{key:"componentDidUpdate",value:function(e){m()(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),m()(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),m()(!f(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),m()(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}},{key:"_checkProps",value:function(e){var t=e.getItem,n=e.getItemCount,r=e.horizontal,i=e.columnWrapperStyle,o=e.onViewableItemsChanged,s=e.viewabilityConfigCallbackPairs,a=E(this.props.numColumns);m()(!t&&!n,"FlatList does not support custom data formats."),a>1?m()(!r,"numColumns does not support horizontal."):m()(!i,"columnWrapperStyle not supported for single column lists"),m()(!(o&&s),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}},{key:"_pushMultiColumnViewable",value:function(e,t){var n,r=E(this.props.numColumns),i=null!==(n=this.props.keyExtractor)&&void 0!==n?n:_.keyExtractor;t.item.forEach((function(n,o){m()(null!=t.index,"Missing index!");var s=t.index*r+o;e.push((0,c.default)((0,c.default)({},t),{},{item:n,key:i(n,s),index:s}))}))}},{key:"_createOnViewableItemsChanged",value:function(e){var t=this;return function(n){var r=E(t.props.numColumns);if(e)if(r>1){var i=[],o=[];n.viewableItems.forEach((function(e){return t._pushMultiColumnViewable(o,e)})),n.changed.forEach((function(e){return t._pushMultiColumnViewable(i,e)})),e({viewableItems:o,changed:i})}else e(n)}}},{key:"render",value:function(){var e,t=this.props,n=t.numColumns,r=t.columnWrapperStyle,i=t.removeClippedSubviews,o=t.strictMode,s=void 0!==o&&o,a=(0,u.default)(t,k),c=s?this._memoizedRenderer:this._renderer;return v.createElement(y.default,(0,l.default)({},a,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:(e=i,null!==e&&void 0!==e?e:"android"===p.default.OS)},c(this.props.ListItemComponent,this.props.renderItem,r,n,this.props.extraData)))}}]),n}(v.PureComponent),I=h.default.create({row:{flexDirection:"row"}});const T=C},187:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D});var r=n(1413),i=n(7462),o=n(3366),s=n(9),a=n(675),l=[];function u(e){return l[e-1]}var c=n(3058),d=n(5671),h=n(3144),f=/^data:/,p=function(){function e(){(0,d.default)(this,e)}return(0,h.default)(e,null,[{key:"has",value:function(t){var n=e._entries;return f.test(t)||Boolean(n[t])}},{key:"add",value:function(t){var n=e._entries,r=Date.now();n[t]?(n[t].lastUsedTimestamp=r,n[t].refCount+=1):n[t]={lastUsedTimestamp:r,refCount:1}}},{key:"remove",value:function(t){var n=e._entries;n[t]&&(n[t].refCount-=1),e._cleanUpIfNeeded()}},{key:"_cleanUpIfNeeded",value:function(){var t,n,r=e._entries,i=Object.keys(r);i.length+1>e._maximumEntries&&(i.forEach((function(e){var i=r[e];(!n||i.lastUsedTimestamp<n.lastUsedTimestamp)&&0===i.refCount&&(t=e,n=i)})),t&&delete r[t])}}]),e}();p._maximumEntries=256,p._entries={};var g=0,m={},v={abort:function(e){var t=m[""+e];t&&(t.onerror=null,t.onload=null,t=null,delete m[""+e])},getSize:function(e,t,n){var r=!1,i=setInterval(s,16),o=v.load(e,s,(function(){"function"===typeof n&&n();v.abort(o),clearInterval(i)}));function s(){var e=m[""+o];if(e){var n=e.naturalHeight,s=e.naturalWidth;n&&s&&(t(s,n),r=!0)}r&&(v.abort(o),clearInterval(i))}},has:function(e){return p.has(e)},load:function(e,t,n){g+=1;var r=new window.Image;return r.onerror=n,r.onload=function(e){var n=function(){return t({nativeEvent:e})};"function"===typeof r.decode?r.decode().then(n,n):setTimeout(n,0)},r.src=e,m[""+g]=r,g},prefetch:function(e){return new Promise((function(t,n){v.load(e,(function(){p.add(e),p.remove(e),t()}),n)}))},queryCache:function(e){var t={};return e.forEach((function(e){p.has(e)&&(t[e]="disk/memory")})),Promise.resolve(t)}};const y=v;var _=n(4620),b=n(3331),w=n(1604),S=n(264),k=n(6873),E=["aria-label","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],C="LOADED",I="LOADING",T=0,R=/^(data:image\/svg\+xml;utf8,)(.*)/;function x(e){var t=null;if("number"===typeof e){var n=u(e);if(null==n)throw new Error('Image: asset with ID "'+e+'" could not be found. Please check the image source or packager.');var r=n.scales[0];if(n.scales.length>1){var i=_.default.get();r=n.scales.reduce((function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e}))}var o=1!==r?"@"+r+"x":"";t=n?n.httpServerLocation+"/"+n.name+o+"."+n.type:""}else"string"===typeof e?t=e:e&&"string"===typeof e.uri&&(t=e.uri);if(t){var s=t.match(R);if(s){var a=s[1],l=s[2];return""+a+encodeURIComponent(l)}}return t}var O=s.forwardRef((function(e,t){var n=e["aria-label"],r=e.blurRadius,l=e.defaultSource,d=e.draggable,h=e.onError,f=e.onLayout,p=e.onLoad,g=e.onLoadEnd,m=e.onLoadStart,v=e.pointerEvents,_=e.source,R=e.style,O=(0,o.default)(e,E);var P=s.useState((function(){var e=x(_);if(null!=e&&y.has(e))return C;return"IDLE"})),D=P[0],L=P[1],M=s.useState({}),F=M[0],j=M[1],V=s.useContext(w.default),U=s.useRef(null),B=s.useRef(T++),q=s.useRef(null),z=D===C||D===I&&null==l,H=function(e,t,n,r){var i=b.default.flatten(e),o=i.filter,s=i.resizeMode,a=i.shadowOffset,l=i.tintColor;i.resizeMode&&(0,k.warnOnce)("Image.style.resizeMode","Image: style.resizeMode is deprecated. Please use props.resizeMode."),i.tintColor&&(0,k.warnOnce)("Image.style.tintColor","Image: style.tintColor is deprecated. Please use props.tintColor.");var u=[],d=null;if(o&&u.push(o),t&&u.push("blur("+t+"px)"),a){var h=(0,c.createBoxShadowValue)(i);h&&u.push("drop-shadow("+h+")")}return(r||l)&&null!=n&&u.push("url(#tint-"+n+")"),u.length>0&&(d=u.join(" ")),[s,d,l]}(R,r,B.current,e.tintColor),W=H[0],$=H[1],K=H[2],G=e.resizeMode||W||"cover",Q=e.tintColor||K,Y=z?_:l,X=x(Y),J=function(e){if("number"===typeof e){var t=u(e);return{height:t.height,width:t.width}}if(null!=e&&!Array.isArray(e)&&"object"===typeof e)return{height:e.height,width:e.width}}(Y),Z=X?'url("'+X+'")':null,ee=function(){if(null!=U.current&&("center"===G||"repeat"===G)){var e=U.current,t=e.naturalHeight,n=e.naturalWidth,r=F.height,i=F.width;if(t&&n&&r&&i){var o=Math.min(1,i/n,r/t);return Math.ceil(o*n)+"px "+Math.ceil(o*t)+"px"}}}(),te=X?(0,a.default)("img",{alt:n||"",style:A.accessibilityImage$raw,draggable:d||!1,ref:U,src:X}):null;var ne=x(_);return s.useEffect((function(){function e(){null!=q.current&&(y.abort(q.current),q.current=null)}return e(),null!=ne&&(L(I),m&&m(),q.current=y.load(ne,(function(e){L(C),p&&p(e),g&&g()}),(function(){L("ERRORED"),h&&h({nativeEvent:{error:"Failed to load resource "+ne+" (404)"}}),g&&g()}))),e}),[ne,q,L,h,p,g,m]),s.createElement(S.default,(0,i.default)({},O,{"aria-label":n,onLayout:function(e){if("center"===G||"repeat"===G||f){var t=e.nativeEvent.layout;f&&f(e),j(t)}},pointerEvents:v,ref:t,style:[A.root,V&&A.inline,J,R,A.undo,{boxShadow:null}]}),s.createElement(S.default,{style:[A.image,N[G],{backgroundImage:Z,filter:$},null!=ee&&{backgroundSize:ee}],suppressHydrationWarning:!0}),te,function(e,t){return e&&null!=t?s.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},s.createElement("defs",null,s.createElement("filter",{id:"tint-"+t,suppressHydrationWarning:!0},s.createElement("feFlood",{floodColor:""+e,key:e}),s.createElement("feComposite",{in2:"SourceAlpha",operator:"atop"})))):null}(Q,B.current))}));O.displayName="Image";var P=O;P.getSize=function(e,t,n){y.getSize(e,t,n)},P.prefetch=function(e){return y.prefetch(e)},P.queryCache=function(e){return y.queryCache(e)};var A=b.default.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:(0,r.default)((0,r.default)({},b.default.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:(0,r.default)((0,r.default)({},b.default.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),N=b.default.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}});const D=P},5103:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var r=n(351),i=n.n(r),o=n(5671),s=n(3144),a=n(1413);const l=function(){function e(t){(0,o.default)(this,e);var n=t.onMoreTasks;this._onMoreTasks=n,this._queueStack=[{tasks:[],popable:!0}]}return(0,s.default)(e,[{key:"enqueue",value:function(e){this._getCurrentQueue().push(e)}},{key:"enqueueTasks",value:function(e){var t=this;e.forEach((function(e){return t.enqueue(e)}))}},{key:"cancelTasks",value:function(e){this._queueStack=this._queueStack.map((function(t){return(0,a.default)((0,a.default)({},t),{},{tasks:t.tasks.filter((function(t){return-1===e.indexOf(t)}))})})).filter((function(e,t){return e.tasks.length>0||0===t}))}},{key:"hasTasksToProcess",value:function(){return this._getCurrentQueue().length>0}},{key:"processNext",value:function(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{"object"===typeof t&&t.gen?this._genPromise(t):"object"===typeof t&&t.run?t.run():(i()("function"===typeof t,"Expected Function, SimpleTask, or PromiseTask, but got:\n"+JSON.stringify(t,null,2)),t())}catch(n){throw n.message="TaskQueue: Error with task "+(t.name||"")+": "+n.message,n}}}},{key:"_getCurrentQueue",value:function(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&0===t.tasks.length&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}},{key:"_genPromise",value:function(e){var t=this,n=this._queueStack.push({tasks:[],popable:!1})-1,r=this._queueStack[n];e.gen().then((function(){r.popable=!0,t.hasTasksToProcess()&&t._onMoreTasks()})).catch((function(t){setTimeout((function(){throw t.message="TaskQueue: Error resolving Promise in task "+e.name+": "+t.message,t}),0)}))}}]),e}();var u=n(3235),c=n(3808).default&&"undefined"!==typeof window.requestIdleCallback,d=c?window.requestIdleCallback:function(e,t){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)};c&&window.cancelIdleCallback;const h=d;var f=new u.default,p={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions:function(e){var t=[],n=new Promise((function(n){S(),e&&t.push(e),t.push({run:n,name:"resolve "+(e&&e.name||"?")}),y.enqueueTasks(t)}));return{then:n.then.bind(n),done:n.then.bind(n),cancel:function(){y.cancelTasks(t)}}},createInteractionHandle:function(){S();var e=++b;return m.add(e),e},clearInteractionHandle:function(e){i()(!!e,"Must provide a handle to clear."),S(),m.delete(e),v.add(e)},addListener:f.addListener.bind(f),setDeadline:function(e){w=e}},g=new Set,m=new Set,v=new Set,y=new l({onMoreTasks:S}),_=0,b=0,w=-1;function S(){_||(_=w>0?setTimeout(k):h(k))}function k(){_=0;var e=g.size;m.forEach((function(e){return g.add(e)})),v.forEach((function(e){return g.delete(e)}));var t=g.size;if(0!==e&&0===t?f.emit(p.Events.interactionComplete):0===e&&0!==t&&f.emit(p.Events.interactionStart),0===t)for(var n=Date.now();y.hasTasksToProcess();)if(y.processNext(),w>0&&Date.now()-n>=w){S();break}m.clear(),v.clear()}const E=p},514:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={UIManager:n(5227).default}},4620:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(5671),i=n(3144),o=n(5076),s=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,null,[{key:"get",value:function(){return o.default.get("window").scale}},{key:"getFontScale",value:function(){return o.default.get("window").fontScale||e.get()}},{key:"getPixelSizeForLayoutSize",value:function(t){return Math.round(t*e.get())}},{key:"roundToNearestPixel",value:function(t){var n=e.get();return Math.round(t*n)/n}}]),e}()},726:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={OS:"web",select:function(e){return"web"in e?e.web:e.default},get isTesting(){return!1}}},2300:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var r=n(5671),i=n(3144),o=n(7326),s=n(136),a=n(2963),l=n(1120),u=n(1413),c=n(7462),d=n(3366),h=n(5076),f=n(3423),p=n(351),g=n.n(p),m=n(7576),v=n(726),y=n(9),_=n(3331),b=n(264),w=n(6067),S=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function k(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}}var E=y.forwardRef((function(e,t){var n=e.onScroll,r=e.onTouchMove,i=e.onWheel,o=e.scrollEnabled,s=void 0===o||o,a=e.scrollEventThrottle,l=void 0===a?0:a,u=e.showsHorizontalScrollIndicator,h=e.showsVerticalScrollIndicator,f=e.style,p=(0,d.default)(e,S),g=y.useRef({isScrolling:!1,scrollLastTick:0}),m=y.useRef(null),v=y.useRef(null);function _(e){return function(t){s&&e&&e(t)}}function E(e){g.current.scrollLastTick=Date.now(),n&&n(k(e))}var I=!1===u||!1===h;return y.createElement(b.default,(0,c.default)({},p,{onScroll:function(e){e.stopPropagation(),e.target===v.current&&(e.persist(),null!=m.current&&clearTimeout(m.current),m.current=setTimeout((function(){!function(e){g.current.isScrolling=!1,n&&n(k(e))}(e)}),100),g.current.isScrolling?function(e,t){var n=Date.now()-e;return t>0&&n>=t}(g.current.scrollLastTick,l)&&E(e):function(e){g.current.isScrolling=!0,E(e)}(e))},onTouchMove:_(r),onWheel:_(i),ref:(0,w.default)(v,t),style:[f,!s&&C.scrollDisabled,I&&C.hideScrollbar]}))})),C=_.default.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});const I=E;var T=n(4506),R=n(5227),x=n(2142),O=n.n(x);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var A=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],N={},D=function(e){(0,s.default)(n,e);var t=P(n);function n(){var e;return(0,r.default)(this,n),(e=t.apply(this,arguments))._scrollNodeRef=null,e._innerViewRef=null,e.isTouching=!1,e.lastMomentumScrollBeginTime=0,e.lastMomentumScrollEndTime=0,e.observedScrollSinceBecomingResponder=!1,e.becameResponderWhileAnimating=!1,e.scrollResponderHandleScrollShouldSetResponder=function(){return e.isTouching},e.scrollResponderHandleStartShouldSetResponderCapture=function(t){return e.scrollResponderIsAnimating()},e.scrollResponderHandleTerminationRequest=function(){return!e.observedScrollSinceBecomingResponder},e.scrollResponderHandleTouchEnd=function(t){var n=t.nativeEvent;e.isTouching=0!==n.touches.length,e.props.onTouchEnd&&e.props.onTouchEnd(t)},e.scrollResponderHandleResponderRelease=function(t){e.props.onResponderRelease&&e.props.onResponderRelease(t);var n=T.default.currentlyFocusedField();e.props.keyboardShouldPersistTaps||null==n||t.target===n||e.observedScrollSinceBecomingResponder||e.becameResponderWhileAnimating||(e.props.onScrollResponderKeyboardDismissed&&e.props.onScrollResponderKeyboardDismissed(t),T.default.blurTextInput(n))},e.scrollResponderHandleScroll=function(t){e.observedScrollSinceBecomingResponder=!0,e.props.onScroll&&e.props.onScroll(t)},e.scrollResponderHandleResponderGrant=function(t){e.observedScrollSinceBecomingResponder=!1,e.props.onResponderGrant&&e.props.onResponderGrant(t),e.becameResponderWhileAnimating=e.scrollResponderIsAnimating()},e.scrollResponderHandleScrollBeginDrag=function(t){e.props.onScrollBeginDrag&&e.props.onScrollBeginDrag(t)},e.scrollResponderHandleScrollEndDrag=function(t){e.props.onScrollEndDrag&&e.props.onScrollEndDrag(t)},e.scrollResponderHandleMomentumScrollBegin=function(t){e.lastMomentumScrollBeginTime=Date.now(),e.props.onMomentumScrollBegin&&e.props.onMomentumScrollBegin(t)},e.scrollResponderHandleMomentumScrollEnd=function(t){e.lastMomentumScrollEndTime=Date.now(),e.props.onMomentumScrollEnd&&e.props.onMomentumScrollEnd(t)},e.scrollResponderHandleTouchStart=function(t){e.isTouching=!0,e.props.onTouchStart&&e.props.onTouchStart(t)},e.scrollResponderHandleTouchMove=function(t){e.props.onTouchMove&&e.props.onTouchMove(t)},e.scrollResponderIsAnimating=function(){return Date.now()-e.lastMomentumScrollEndTime<16||e.lastMomentumScrollEndTime<e.lastMomentumScrollBeginTime},e.scrollResponderScrollTo=function(t,n,r){if("number"===typeof t)console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=t||N;t=i.x,n=i.y,r=i.animated}var o=e.getScrollableNode(),s=t||0,a=n||0;null!=o&&("function"===typeof o.scroll?o.scroll({top:a,left:s,behavior:r?"smooth":"auto"}):(o.scrollLeft=s,o.scrollTop=a))},e.scrollResponderZoomTo=function(e,t){"ios"!==v.default.OS&&g()("zoomToRect is not implemented")},e.scrollResponderScrollNativeHandleToKeyboard=function(t,n,r){e.additionalScrollOffset=n||0,e.preventNegativeScrollOffset=!!r,R.default.measureLayout(t,e.getInnerViewNode(),e.scrollResponderTextInputFocusError,e.scrollResponderInputMeasureAndScrollToKeyboard)},e.scrollResponderInputMeasureAndScrollToKeyboard=function(t,n,r,i){var o=h.default.get("window").height;e.keyboardWillOpenTo&&(o=e.keyboardWillOpenTo.endCoordinates.screenY);var s=n-o+i+e.additionalScrollOffset;e.preventNegativeScrollOffset&&(s=Math.max(0,s)),e.scrollResponderScrollTo({x:0,y:s,animated:!0}),e.additionalOffset=0,e.preventNegativeScrollOffset=!1},e.scrollResponderKeyboardWillShow=function(t){e.keyboardWillOpenTo=t,e.props.onKeyboardWillShow&&e.props.onKeyboardWillShow(t)},e.scrollResponderKeyboardWillHide=function(t){e.keyboardWillOpenTo=null,e.props.onKeyboardWillHide&&e.props.onKeyboardWillHide(t)},e.scrollResponderKeyboardDidShow=function(t){t&&(e.keyboardWillOpenTo=t),e.props.onKeyboardDidShow&&e.props.onKeyboardDidShow(t)},e.scrollResponderKeyboardDidHide=function(t){e.keyboardWillOpenTo=null,e.props.onKeyboardDidHide&&e.props.onKeyboardDidHide(t)},e.flashScrollIndicators=function(){e.scrollResponderFlashScrollIndicators()},e.getScrollResponder=function(){return(0,o.default)(e)},e.getScrollableNode=function(){return e._scrollNodeRef},e.getInnerViewRef=function(){return e._innerViewRef},e.getInnerViewNode=function(){return e._innerViewRef},e.getNativeScrollRef=function(){return e._scrollNodeRef},e.scrollTo=function(t,n,r){if("number"===typeof t)console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=t||N;n=i.x,t=i.y,r=i.animated}e.scrollResponderScrollTo({x:n||0,y:t||0,animated:!1!==r})},e.scrollToEnd=function(t){var n=!1!==(t&&t.animated),r=e.props.horizontal,i=e.getScrollableNode(),o=r?i.scrollWidth:0,s=r?0:i.scrollHeight;e.scrollResponderScrollTo({x:o,y:s,animated:n})},e._handleContentOnLayout=function(t){var n=t.nativeEvent.layout,r=n.width,i=n.height;e.props.onContentSizeChange(r,i)},e._handleScroll=function(t){"on-drag"===e.props.keyboardDismissMode&&(0,f.default)(),e.scrollResponderHandleScroll(t)},e._setInnerViewRef=function(t){e._innerViewRef=t},e._setScrollNodeRef=function(t){e._scrollNodeRef=t,null!=t&&(t.getScrollResponder=e.getScrollResponder,t.getInnerViewNode=e.getInnerViewNode,t.getInnerViewRef=e.getInnerViewRef,t.getNativeScrollRef=e.getNativeScrollRef,t.getScrollableNode=e.getScrollableNode,t.scrollTo=e.scrollTo,t.scrollToEnd=e.scrollToEnd,t.flashScrollIndicators=e.flashScrollIndicators,t.scrollResponderZoomTo=e.scrollResponderZoomTo,t.scrollResponderScrollNativeHandleToKeyboard=e.scrollResponderScrollNativeHandleToKeyboard),(0,m.default)(e.props.forwardedRef)(t)},e}return(0,i.default)(n,[{key:"scrollResponderHandleStartShouldSetResponder",value:function(){return!1}},{key:"scrollResponderHandleResponderReject",value:function(){O()(!1,"ScrollView doesn't take rejection well - scrolls anyway")}},{key:"scrollResponderFlashScrollIndicators",value:function(){}},{key:"scrollResponderTextInputFocusError",value:function(e){console.error("Error measuring text field: ",e)}},{key:"render",value:function(){var e=this.props,t=e.contentContainerStyle,n=e.horizontal,r=e.onContentSizeChange,i=e.refreshControl,o=e.stickyHeaderIndices,s=e.pagingEnabled,a=(e.forwardedRef,e.keyboardDismissMode,e.onScroll,e.centerContent),l=(0,d.default)(e,A),h={};r&&(h={onLayout:this._handleContentOnLayout});var f=!n&&Array.isArray(o),p=f||s?y.Children.map(this.props.children,(function(e,t){var n=f&&o.indexOf(t)>-1;return null!=e&&(n||s)?y.createElement(b.default,{style:[n&&M.stickyHeader,s&&M.pagingEnabledChild]},e):e})):this.props.children,m=y.createElement(b.default,(0,c.default)({},h,{children:p,collapsable:!1,ref:this._setInnerViewRef,style:[n&&M.contentContainerHorizontal,a&&M.contentContainerCenterContent,t]})),v=n?M.baseHorizontal:M.baseVertical,_=n?M.pagingEnabledHorizontal:M.pagingEnabledVertical,w=(0,u.default)((0,u.default)({},l),{},{style:[v,s&&_,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),S=I;g()(void 0!==S,"ScrollViewClass must not be undefined");var k=y.createElement(S,(0,c.default)({},w,{ref:this._setScrollNodeRef}),m);return i?y.cloneElement(i,{style:w.style},k):k}}]),n}(y.Component),L={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},M=_.default.create({baseVertical:(0,u.default)((0,u.default)({},L),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:(0,u.default)((0,u.default)({},L),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),F=y.forwardRef((function(e,t){return y.createElement(D,(0,c.default)({},e,{forwardedRef:t}))}));F.displayName="ScrollView";const j=F},4637:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const r=function(e){return"currentcolor"===e||"currentColor"===e||"inherit"===e||0===e.indexOf("var(")};var i=n(5490);const o=function(e,t){if(void 0===t&&(t=1),null!=e){if("string"===typeof e&&r(e))return e;var n=(0,i.default)(e);if(null!=n)return"rgba("+(n>>16&255)+","+(n>>8&255)+","+(255&n)+","+((n>>24&255)/255*t).toFixed(2)+")"}}},8934:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},i=["ms","Moz","O","Webkit"];Object.keys(r).forEach((function(e){i.forEach((function(t){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=r[e]}))}));const o=r;var s=n(4637),a={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function l(e,t){var n=e;return null!=t&&o[t]||"number"!==typeof e?null!=t&&a[t]&&(n=(0,s.default)(e)):n=e+"px",n}},1279:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createSheet:()=>g});var r=n(3808);function i(e,t,n){if(r.default){var i=null!=t?t:document,o=i.getElementById(e);if(null==o)if((o=document.createElement("style")).setAttribute("id",e),"string"===typeof n&&o.appendChild(document.createTextNode(n)),i instanceof ShadowRoot)i.insertBefore(o,i.firstChild);else{var s=i.head;s&&s.insertBefore(o,s.firstChild)}return o.sheet}return null}var o=Array.prototype.slice;function s(e){var t,n={},r={};null!=e&&o.call(e.cssRules).forEach((function(e,i){var o=e.cssText;if(o.indexOf("stylesheet-group")>-1)t=function(e){return Number(e.selectorText.split(a)[1])}(e),n[t]={start:i,rules:[o]};else{var s=c(o);null!=s&&(r[s]=!0,n[t].rules.push(o))}}));function i(e,t,r){var i=l(n),o=i.indexOf(t)+1,s=i[o],a=null!=s&&null!=n[s].start?n[s].start:e.cssRules.length,u=function(e,t,n){try{return e.insertRule(t,n),!0}catch(r){return!1}}(e,r,a);if(u){null==n[t].start&&(n[t].start=a);for(var c=o;c<i.length;c+=1){var d=i[c],h=n[d].start||0;n[d].start=h+1}}return u}var s={getTextContent:function(){return l(n).map((function(e){var t=n[e].rules,r=t.shift();return t.sort(),t.unshift(r),t.join("\n")})).join("\n")},insert:function(t,o){var s=Number(o);if(null==n[s]){var a=function(e){return'[stylesheet-group="'+e+'"]{}'}(s);n[s]={start:null,rules:[a]},null!=e&&i(e,s,a)}var l=c(t);null!=l&&null==r[l]&&(r[l]=!0,n[s].rules.push(t),null!=e&&(i(e,s,t)||n[s].rules.pop()))}};return s}var a=/["']/g;function l(e){return Object.keys(e).map(Number).sort((function(e,t){return e>t?1:-1}))}var u=/\s*([,])\s*/g;function c(e){var t=e.split("{")[0].trim();return""!==t?t.replace(u,"$1"):null}var d="react-native-stylesheet",h=new WeakMap,f=[],p=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];function g(e,t){var n;if(void 0===t&&(t=d),r.default){var o=null!=e?e.getRootNode():document;if(0===f.length)n=s(i(t)),p.forEach((function(e){n.insert(e,0)})),h.set(o,f.length),f.push(n);else{var a=h.get(o);if(null==a){var l=f[0],u=null!=l?l.getTextContent():"";n=s(i(t,o,u)),h.set(o,f.length),f.push(n)}else n=f[a]}}else 0===f.length?(n=s(i(t)),p.forEach((function(e){n.insert(e,0)})),f.push(n)):n=f[0];return{getTextContent:function(){return n.getTextContent()},id:t,insert:function(e,t){f.forEach((function(n){n.insert(e,t)}))}}}},3331:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ee});var r=n(1413),i=n(3366),o=n(2982),s=n(4942),a=n(8934),l=n(3808),u={},c=!l.default||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),d='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',h={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderBlockColor:["borderTopColor","borderBottomColor"],borderInlineColor:["borderRightColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderInlineStyle:["borderRightStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderInlineWidth:["borderRightWidth","borderLeftWidth"],insetBlock:["top","bottom"],insetInline:["left","right"],marginBlock:["marginTop","marginBottom"],marginInline:["marginRight","marginLeft"],paddingBlock:["paddingTop","paddingBottom"],paddingInline:["paddingRight","paddingLeft"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],borderBlockStartColor:["borderTopColor"],borderBlockStartStyle:["borderTopStyle"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndColor:["borderBottomColor"],borderBlockEndStyle:["borderBottomStyle"],borderBlockEndWidth:["borderBottomWidth"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],insetBlockEnd:["bottom"],insetBlockStart:["top"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"]};const f=function(e,t){if(!e)return u;var n={},r=function(){var r=e[i];if(null==r)return"continue";if("backgroundClip"===i)"text"===r&&(n.backgroundClip=r,n.WebkitBackgroundClip=r);else if("flex"===i)-1===r?(n.flexGrow=0,n.flexShrink=1,n.flexBasis="auto"):n.flex=r;else if("font"===i)n[i]=r.replace("System",d);else if("fontFamily"===i)if(r.indexOf("System")>-1){var o=r.split(/,\s*/);o[o.indexOf("System")]=d,n[i]=o.join(",")}else n[i]="monospace"===r?"monospace,monospace":r;else if("textDecorationLine"===i)c?n.textDecorationLine=r:n.textDecoration=r;else if("writingDirection"===i)n.direction=r;else{var s=(0,a.default)(e[i],i),l=h[i];t&&"inset"===i?(null==e.insetInline&&(n.left=s,n.right=s),null==e.insetBlock&&(n.top=s,n.bottom=s)):t&&"margin"===i?(null==e.marginInline&&(n.marginLeft=s,n.marginRight=s),null==e.marginBlock&&(n.marginTop=s,n.marginBottom=s)):t&&"padding"===i?(null==e.paddingInline&&(n.paddingLeft=s,n.paddingRight=s),null==e.paddingBlock&&(n.paddingTop=s,n.paddingBottom=s)):l?l.forEach((function(t,r){null==e[t]&&(n[t]=s)})):n[i]=s}};for(var i in e)r();return n};const p=function(e){return function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}(e,1).toString(36)};var g=/[A-Z]/g,m=/^ms-/,v={};function y(e){return"-"+e.toLowerCase()}const _=function(e){if(e in v)return v[e];var t=e.replace(g,y);return v[e]=m.test(t)?"-"+t:t};var b=n(302),w=n(9907),S=n(1156),k=n(6845),E=n(9462),C=n(1848),I=n(3161),T=n(7435),R=n(4325),x=n(4338),O=["Webkit"],P=["Webkit","ms"];const A={plugins:[w.default,S.default,k.default,E.default,C.default,I.default,T.default,R.default,x.default],prefixMap:{appearance:["Webkit","Moz","ms"],userSelect:["Webkit","Moz"],textEmphasisPosition:P,textEmphasis:P,textEmphasisStyle:P,textEmphasisColor:P,boxDecorationBreak:P,clipPath:O,maskImage:P,maskMode:P,maskRepeat:P,maskPosition:P,maskClip:P,maskOrigin:P,maskSize:P,maskComposite:P,mask:P,maskBorderSource:P,maskBorderMode:P,maskBorderSlice:P,maskBorderWidth:P,maskBorderOutset:P,maskBorderRepeat:P,maskBorder:P,maskType:P,textDecorationStyle:O,textDecorationSkip:O,textDecorationLine:O,textDecorationColor:O,filter:O,breakAfter:O,breakBefore:O,breakInside:O,columnCount:O,columnFill:O,columnGap:O,columnRule:O,columnRuleColor:O,columnRuleStyle:O,columnRuleWidth:O,columns:O,columnSpan:O,columnWidth:O,backdropFilter:O,hyphens:O,flowInto:O,flowFrom:O,regionFragment:O,textOrientation:O,tabSize:["Moz"],fontKerning:O,textSizeAdjust:O}};const N=(0,b.default)(A);var D,L=["animationKeyframes"],M=new Map,F={},j=1,V=3,U={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},B="borderTopLeftRadius",q="borderTopRightRadius",z="borderBottomLeftRadius",H="borderBottomRightRadius",W="borderLeftColor",$="borderLeftStyle",K="borderLeftWidth",G="borderRightColor",Q="borderRightStyle",Y="borderRightWidth",X="right",J="marginLeft",Z="marginRight",ee="paddingLeft",te="paddingRight",ne="left",re=(D={},(0,s.default)(D,B,q),(0,s.default)(D,q,B),(0,s.default)(D,z,H),(0,s.default)(D,H,z),(0,s.default)(D,W,G),(0,s.default)(D,$,Q),(0,s.default)(D,K,Y),(0,s.default)(D,G,W),(0,s.default)(D,Q,$),(0,s.default)(D,Y,K),(0,s.default)(D,ne,X),(0,s.default)(D,J,Z),(0,s.default)(D,Z,J),(0,s.default)(D,ee,te),(0,s.default)(D,te,ee),(0,s.default)(D,X,ne),D),ie={borderStartStartRadius:B,borderStartEndRadius:q,borderEndStartRadius:z,borderEndEndRadius:H,borderInlineStartColor:W,borderInlineStartStyle:$,borderInlineStartWidth:K,borderInlineEndColor:G,borderInlineEndStyle:Q,borderInlineEndWidth:Y,insetInlineEnd:X,insetInlineStart:ne,marginInlineStart:J,marginInlineEnd:Z,paddingInlineStart:ee,paddingInlineEnd:te},oe=["clear","float","textAlign"];function se(e){var t={$$css:!0},n=[];function r(e,t,r){var i,l=function(e,t){var n=(0,a.default)(e,t);return"string"!==typeof n?JSON.stringify(n||""):n}(r,t),u=t+l,c=M.get(u);if(null!=c)i=c[0],n.push(c[1]);else{i=le("r",e,e!==t?u:l);var d=U[e]||V,h=function(e,t,n){var r=[],i="."+e;switch(t){case"animationKeyframes":var a=ue(n),l=a[0],u=a[1],c=ae({animationName:l.join(",")});r.push.apply(r,[""+i+c].concat((0,o.default)(u)));break;case"placeholderTextColor":var d=ae({color:n,opacity:1});r.push(i+"::-webkit-input-placeholder"+d,i+"::-moz-placeholder"+d,i+":-ms-input-placeholder"+d,i+"::placeholder"+d);break;case"pointerEvents":var h=n;if("auto"===n||"box-only"===n){if(h="auto!important","box-only"===n){var f=ae({pointerEvents:"none"});r.push(i+">*"+f)}}else if(("none"===n||"box-none"===n)&&(h="none!important","box-none"===n)){var p=ae({pointerEvents:"auto"});r.push(i+">*"+p)}var g=ae({pointerEvents:h});r.push(""+i+g);break;case"scrollbarWidth":"none"===n&&r.push(i+"::-webkit-scrollbar{display:none}");var m=ae({scrollbarWidth:n});r.push(""+i+m);break;default:var v=ae((0,s.default)({},t,n));r.push(""+i+v)}return r}(i,t,r),f=[h,d];n.push(f),M.set(u,[i,f])}return i}return Object.keys(e).sort().forEach((function(n){var i=e[n];if(null!=i){var s;if(oe.indexOf(n)>-1){var a=r(n,n,"left"),l=r(n,n,"right");"start"===i?s=[a,l]:"end"===i&&(s=[l,a])}var u=ie[n];if(null!=u){var c=r(n,u,i),d=r(n,re[u],i);s=[c,d]}if("transitionProperty"===n){for(var h=Array.isArray(i)?i:[i],f=[],p=0;p<h.length;p++){var g=h[p];"string"===typeof g&&null!=ie[g]&&f.push(p)}if(f.length>0){var m=(0,o.default)(h),v=(0,o.default)(h);f.forEach((function(e){var t=m[e];if("string"===typeof t){var i=ie[t],o=re[i];m[e]=i,v[e]=o;var a=r(n,n,m),l=r(n,n,v);s=[a,l]}}))}}null==s?s=r(n,n,i):t.$$css$localize=!0,t[n]=s}})),[t,n]}function ae(e){var t=N(f(e));return"{"+Object.keys(t).map((function(e){var n=t[e],r=_(e);return Array.isArray(n)?n.map((function(e){return r+":"+e})).join(";"):r+":"+n})).sort().join(";")+";}"}function le(e,t,n){return e+"-"+p(t+n)}function ue(e){if("number"===typeof e)throw new Error("Invalid CSS keyframes type: "+typeof e);var t=[],n=[];return(Array.isArray(e)?e:[e]).forEach((function(e){if("string"===typeof e)t.push(e);else{var r=function(e){var t=le("r","animation",JSON.stringify(e)),n="{"+Object.keys(e).map((function(t){return""+t+ae(e[t])})).join("")+"}",r=["-webkit-",""].map((function(e){return"@"+e+"keyframes "+t+n}));return[t,r]}(e),i=r[0],s=r[1];t.push(i),n.push.apply(n,(0,o.default)(s))}})),[t,n]}var ce=n(1279),de=n(7456),he=n(3058),fe=n(7013),pe=["writingDirection"],ge=new WeakMap,me=(0,ce.createSheet)(),ve={shadow:!0,textShadow:!0};function ye(e){e.forEach((function(e){var t=e[0],n=e[1];null!=me&&t.forEach((function(e){me.insert(e,n)}))}))}function _e(e,t){var n=function(e,t){var n,s={$$css:!0},a=[],l=e.animationKeyframes,u=(0,i.default)(e,L),c=le("css",t,JSON.stringify(e)),d="."+c;if(null!=l){var h=ue(l),f=h[0],p=h[1];n=f.join(","),a.push.apply(a,(0,o.default)(p))}var g=ae((0,r.default)((0,r.default)({},u),{},{animationName:n}));return a.push(""+d+g),s[c]=c,[s,[[a,j]]]}(e,t),s=n[0];return ye(n[1]),s}var be={position:"absolute",left:0,right:0,top:0,bottom:0},we=Se({x:(0,r.default)({},be)}).x;function Se(e){return Object.keys(e).forEach((function(t){var n,r=e[t];null!=r&&!0!==r.$$css&&(n=t.indexOf("$raw")>-1?_e(r,t.split("$raw")[0]):function(e){var t=se((0,he.preprocess)(e,ve)),n=t[0];return ye(t[1]),n}(r),ge.set(r,n))})),e}function ke(e,t){void 0===t&&(t={});var n="rtl"===t.writingDirection,o=function(e,t){void 0===t&&(t={});var n=t,o=n.writingDirection,s=(0,i.default)(n,pe),a="rtl"===o;return fe.styleq.factory({transform:function(e){var t=ge.get(e);return null!=t?(0,de.localizeStyle)(t,a):(0,he.preprocess)(e,(0,r.default)((0,r.default)({},ve),s))}})(e)}(e,t);return Array.isArray(o)&&null!=o[1]&&(o[1]=function(e,t){var n=e||F,r={},i={},o=function(){var e=n[s],o=s,a=e;if(!Object.prototype.hasOwnProperty.call(n,s)||null==e)return"continue";oe.indexOf(s)>-1&&("start"===e?a=t?"right":"left":"end"===e&&(a=t?"left":"right"));var l=ie[s];if(null!=l&&(o=t?re[l]:l),"transitionProperty"===s){var u=Array.isArray(e)?e:[e];u.forEach((function(e,n){if("string"===typeof e){var r=ie[e];null!=r&&(u[n]=t?re[r]:r,a=u.join(" "))}}))}r[o]||(i[o]=a),o===s&&(r[o]=!0)};for(var s in n)o();return f(i,!0)}(o[1],n)),o}ke.absoluteFill=we,ke.absoluteFillObject=be,ke.create=Se,ke.compose=function(e,t){return[e,t]},ke.flatten=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.flat(1/0),i={},o=0;o<r.length;o++){var s=r[o];null!=s&&"object"===typeof s&&Object.assign(i,s)}return i},ke.getSheet=function(){return{id:me.id,textContent:me.getTextContent()}},ke.hairlineWidth=1,l.default&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=ke.flatten);const Ee=ke},3058:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createBoxShadowValue:()=>l,createTextShadowValue:()=>u,createTransformValue:()=>d,default:()=>g,preprocess:()=>p});var r=n(4637),i=n(8934),o=n(6873),s={},a={height:0,width:0},l=function(e){var t=e.shadowColor,n=e.shadowOffset,o=e.shadowOpacity,s=e.shadowRadius,l=n||a,u=l.height,c=l.width,d=(0,i.default)(c),h=(0,i.default)(u),f=(0,i.default)(s||0),p=(0,r.default)(t||"black",o);if(null!=p&&null!=d&&null!=h&&null!=f)return d+" "+h+" "+f+" "+p},u=function(e){var t=e.textShadowColor,n=e.textShadowOffset,r=e.textShadowRadius,o=n||a,s=o.height,l=o.width,u=r||0,c=(0,i.default)(l),d=(0,i.default)(s),h=(0,i.default)(u),f=(0,i.default)(t,"textShadowColor");if(f&&(0!==s||0!==l||0!==u)&&null!=c&&null!=d&&null!=h)return c+" "+d+" "+h+" "+f},c=function(e){var t=Object.keys(e)[0],n=e[t];return"matrix"===t||"matrix3d"===t?t+"("+n.join(",")+")":t+"("+(0,i.default)(n,t)+")"},d=function(e){return e.map(c).join(" ")},h={borderBottomEndRadius:"borderEndEndRadius",borderBottomStartRadius:"borderEndStartRadius",borderTopEndRadius:"borderStartEndRadius",borderTopStartRadius:"borderStartStartRadius",borderEndColor:"borderInlineEndColor",borderEndStyle:"borderInlineEndStyle",borderEndWidth:"borderInlineEndWidth",borderStartColor:"borderInlineStartColor",borderStartStyle:"borderInlineStartStyle",borderStartWidth:"borderInlineStartWidth",end:"insetInlineEnd",marginEnd:"marginInlineEnd",marginHorizontal:"marginInline",marginStart:"marginInlineStart",marginVertical:"marginBlock",paddingEnd:"paddingInlineEnd",paddingHorizontal:"paddingInline",paddingStart:"paddingInlineStart",paddingVertical:"paddingBlock",start:"insetInlineStart"},f={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},p=function(e,t){void 0===t&&(t={});var n=e||s,r={};if(t.shadow,null!=n.shadowColor||null!=n.shadowOffset||null!=n.shadowOpacity||null!=n.shadowRadius){(0,o.warnOnce)("shadowStyles",'"shadow*" style props are deprecated. Use "boxShadow".');var i=l(n);if(null!=i&&null==r.boxShadow){var a=n.boxShadow,c=a?a+", "+i:i;r.boxShadow=c}}if(t.textShadow,null!=n.textShadowColor||null!=n.textShadowOffset||null!=n.textShadowRadius){(0,o.warnOnce)("textShadowStyles",'"textShadow*" style props are deprecated. Use "textShadow".');var p=u(n);if(null!=p&&null==r.textShadow){var g=n.textShadow,m=g?g+", "+p:p;r.textShadow=m}}for(var v in n)if(null==f[v]&&"shadowColor"!==v&&"shadowOffset"!==v&&"shadowOpacity"!==v&&"shadowRadius"!==v&&"textShadowColor"!==v&&"textShadowOffset"!==v&&"textShadowRadius"!==v){var y=n[v],_=h[v]||v,b=y;!Object.prototype.hasOwnProperty.call(n,v)||_!==v&&null!=n[_]||("aspectRatio"===_&&"number"===typeof b?r[_]=b.toString():"fontVariant"===_?(Array.isArray(b)&&b.length>0&&((0,o.warnOnce)("fontVariant",'"fontVariant" style array value is deprecated. Use space-separated values.'),b=b.join(" ")),r[_]=b):"textAlignVertical"===_?((0,o.warnOnce)("textAlignVertical",'"textAlignVertical" style is deprecated. Use "verticalAlign".'),null==n.verticalAlign&&(r.verticalAlign="center"===b?"middle":b)):"transform"===_?(Array.isArray(b)&&((0,o.warnOnce)("transform",'"transform" style array value is deprecated. Use space-separated string functions, e.g., "scaleX(2) rotateX(15deg)".'),b=d(b)),r.transform=b):r[_]=b)}return r};const g=p},500:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var r=n(9),i=n(675),o=n(4436),s=n(9043),a=n(4097),l=n(2653),u=n(6067),c=n(1634),d=n(6526),h=n(7965),f=n(3331),p=n(4506),g=n(6873),m=function(e,t){if(function(e,t){var n=e.selectionEnd,r=e.selectionStart,i=t.start,o=t.end;return i!==r||o!==n}(e,t)){var n=t.start,r=t.end;try{e.setSelectionRange(n,r||n)}catch(i){}}},v=Object.assign({},o.defaultProps,o.accessibilityProps,o.clickProps,o.focusProps,o.keyboardProps,o.mouseProps,o.touchProps,o.styleProps,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0});var y=null,_=r.forwardRef((function(e,t){var n,o,f=e.autoCapitalize,_=void 0===f?"sentences":f,w=e.autoComplete,S=e.autoCompleteType,k=e.autoCorrect,E=void 0===k||k,C=e.blurOnSubmit,I=e.caretHidden,T=e.clearTextOnFocus,R=e.dir,x=e.editable,O=e.enterKeyHint,P=e.inputMode,A=e.keyboardType,N=e.multiline,D=void 0!==N&&N,L=e.numberOfLines,M=e.onBlur,F=e.onChange,j=e.onChangeText,V=e.onContentSizeChange,U=e.onFocus,B=e.onKeyPress,q=e.onLayout,z=e.onMoveShouldSetResponder,H=e.onMoveShouldSetResponderCapture,W=e.onResponderEnd,$=e.onResponderGrant,K=e.onResponderMove,G=e.onResponderReject,Q=e.onResponderRelease,Y=e.onResponderStart,X=e.onResponderTerminate,J=e.onResponderTerminationRequest,Z=e.onScrollShouldSetResponder,ee=e.onScrollShouldSetResponderCapture,te=e.onSelectionChange,ne=e.onSelectionChangeShouldSetResponder,re=e.onSelectionChangeShouldSetResponderCapture,ie=e.onStartShouldSetResponder,oe=e.onStartShouldSetResponderCapture,se=e.onSubmitEditing,ae=e.placeholderTextColor,le=e.readOnly,ue=void 0!==le&&le,ce=e.returnKeyType,de=e.rows,he=e.secureTextEntry,fe=void 0!==he&&he,pe=e.selection,ge=e.selectTextOnFocus,me=e.spellCheck;if(null!=P)o=P,n="email"===P?"email":"tel"===P?"tel":"search"===P?"search":"url"===P?"url":"text";else if(null!=A)switch((0,g.warnOnce)("keyboardType","keyboardType is deprecated. Use inputMode."),A){case"email-address":n="email";break;case"number-pad":case"numeric":o="numeric";break;case"decimal-pad":o="decimal";break;case"phone-pad":n="tel";break;case"search":case"web-search":n="search";break;case"url":n="url";break;default:n="text"}fe&&(n="password");var ve=r.useRef({height:null,width:null}),ye=r.useRef(null),_e=r.useRef(null),be=r.useRef(!1);r.useEffect((function(){ye.current&&_e.current&&m(ye.current,_e.current),be.current=fe}),[fe]);var we=r.useCallback((function(e){if(D&&V&&null!=e){var t=e.scrollHeight,n=e.scrollWidth;t===ve.current.height&&n===ve.current.width||(ve.current.height=t,ve.current.width=n,V({nativeEvent:{contentSize:{height:ve.current.height,width:ve.current.width}}}))}}),[D,V]),Se=r.useMemo((function(){return function(e){null!=e&&(e.clear=function(){null!=e&&(e.value="")},e.isFocused=function(){return null!=e&&p.default.currentlyFocusedField()===e},we(e))}}),[we]);(0,l.default)((function(){var e=ye.current;null!=e&&null!=pe&&m(e,pe),document.activeElement===e&&(p.default._currentlyFocusedNode=e)}),[ye,pe]);var ke=D?"textarea":"input";(0,a.default)(ye,q),(0,d.default)(ye,{onMoveShouldSetResponder:z,onMoveShouldSetResponderCapture:H,onResponderEnd:W,onResponderGrant:$,onResponderMove:K,onResponderReject:G,onResponderRelease:Q,onResponderStart:Y,onResponderTerminate:X,onResponderTerminationRequest:J,onScrollShouldSetResponder:Z,onScrollShouldSetResponderCapture:ee,onSelectionChangeShouldSetResponder:ne,onSelectionChangeShouldSetResponderCapture:re,onStartShouldSetResponder:ie,onStartShouldSetResponderCapture:oe});var Ee=(0,h.useLocaleContext)().direction,Ce=function(e){return(0,s.default)(e,v)}(e);Ce.autoCapitalize=_,Ce.autoComplete=w||S||"on",Ce.autoCorrect=E?"on":"off",Ce.dir=void 0!==R?R:"auto",null!=ce&&(0,g.warnOnce)("returnKeyType","returnKeyType is deprecated. Use enterKeyHint."),Ce.enterKeyHint=O||ce,Ce.inputMode=o,Ce.onBlur=function(e){p.default._currentlyFocusedNode=null,M&&(e.nativeEvent.text=e.target.value,M(e))},Ce.onChange=function(e){var t=e.target,n=t.value;e.nativeEvent.text=n,we(t),F&&F(e),j&&j(n)},Ce.onFocus=function(e){var t=e.target;U&&(e.nativeEvent.text=t.value,U(e)),null!=t&&(p.default._currentlyFocusedNode=t,T&&(t.value=""),ge&&(null!=y&&clearTimeout(y),y=setTimeout((function(){null!=t&&t.select()}),0)))},Ce.onKeyDown=function(e){var t=e.target;e.stopPropagation();var n=null==C?!D:C,r=e.nativeEvent,i=function(e){return e.isComposing||229===e.keyCode}(r);B&&B(e),"Enter"!==e.key||e.shiftKey||i||e.isDefaultPrevented()||(!C&&D||!se||(e.preventDefault(),r.text=e.target.value,se(e)),n&&null!=t&&setTimeout((function(){return t.blur()}),0))},Ce.onSelect=function(e){try{var t=e.target,n={start:t.selectionStart,end:t.selectionEnd};te&&(e.nativeEvent.selection=n,e.nativeEvent.text=e.target.value,te(e)),be.current===fe&&(_e.current=n)}catch(e){}},null!=x&&(0,g.warnOnce)("editable","editable is deprecated. Use readOnly."),Ce.readOnly=!0===ue||!1===x,null!=L&&(0,g.warnOnce)("numberOfLines","TextInput numberOfLines is deprecated. Use rows."),Ce.rows=D?null!=de?de:L:1,Ce.spellCheck=null!=me?me:E,Ce.style=[{"--placeholderTextColor":ae},b.textinput$raw,b.placeholder,e.style,I&&b.caretHidden],Ce.type=D?void 0:n;var Ie=(0,c.default)(Ce),Te=(0,u.default)(ye,Ie,Se,t);Ce.ref=Te;var Re=null!=e.lang?(0,h.getLocaleDirection)(e.lang):null,xe=e.dir||Re||Ee;return(0,i.default)(ke,Ce,{writingDirection:xe})}));_.displayName="TextInput",_.State=p.default;var b=f.default.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});const w=_},1604:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(9).createContext)(!1)},8409:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=n(1413),i=n(3366),o=n(9),s=n(675),a=n(4436),l=n(9043),u=n(4097),c=n(6067),d=n(1634),h=n(6526),f=n(3331),p=n(1604),g=n(7965),m=n(6873),v=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],y=Object.assign({},a.defaultProps,a.accessibilityProps,a.clickProps,a.focusProps,a.keyboardProps,a.mouseProps,a.touchProps,a.styleProps,{href:!0,lang:!0,pointerEvents:!0}),_=o.forwardRef((function(e,t){var n=e.hrefAttrs,r=e.numberOfLines,a=e.onClick,f=e.onLayout,_=e.onPress,b=e.onMoveShouldSetResponder,S=e.onMoveShouldSetResponderCapture,k=e.onResponderEnd,E=e.onResponderGrant,C=e.onResponderMove,I=e.onResponderReject,T=e.onResponderRelease,R=e.onResponderStart,x=e.onResponderTerminate,O=e.onResponderTerminationRequest,P=e.onScrollShouldSetResponder,A=e.onScrollShouldSetResponderCapture,N=e.onSelectionChangeShouldSetResponder,D=e.onSelectionChangeShouldSetResponderCapture,L=e.onStartShouldSetResponder,M=e.onStartShouldSetResponderCapture,F=e.selectable,j=(0,i.default)(e,v);null!=F&&(0,m.warnOnce)("selectable","selectable prop is deprecated. Use styles.userSelect.");var V=o.useContext(p.default),U=o.useRef(null),B=(0,g.useLocaleContext)().direction;(0,u.default)(U,f),(0,h.default)(U,{onMoveShouldSetResponder:b,onMoveShouldSetResponderCapture:S,onResponderEnd:k,onResponderGrant:E,onResponderMove:C,onResponderReject:I,onResponderRelease:T,onResponderStart:R,onResponderTerminate:x,onResponderTerminationRequest:O,onScrollShouldSetResponder:P,onScrollShouldSetResponderCapture:A,onSelectionChangeShouldSetResponder:N,onSelectionChangeShouldSetResponderCapture:D,onStartShouldSetResponder:L,onStartShouldSetResponderCapture:M});var q=o.useCallback((function(e){null!=a?a(e):null!=_&&(e.stopPropagation(),_(e))}),[a,_]),z=V?"span":"div",H=null!=e.lang?(0,g.getLocaleDirection)(e.lang):null,W=e.dir||H,$=W||B,K=function(e){return(0,l.default)(e,y)}(j);if(K.dir=W,V||(K.dir=null!=W?W:"auto"),(a||_)&&(K.onClick=q),K.style=[null!=r&&r>1&&{WebkitLineClamp:r},!0===V?w.textHasAncestor$raw:w.text$raw,1===r&&w.textOneLine,null!=r&&r>1&&w.textMultiLine,e.style,!0===F&&w.selectable,!1===F&&w.notSelectable,_&&w.pressable],null!=e.href&&(z="a",null!=n)){var G=n.download,Q=n.rel,Y=n.target;null!=G&&(K.download=G),null!=Q&&(K.rel=Q),"string"===typeof Y&&(K.target="_"!==Y.charAt(0)?"_"+Y:Y)}var X=(0,d.default)(K),J=(0,c.default)(U,X,t);K.ref=J;var Z=(0,s.default)(z,K,{writingDirection:$});return V?Z:o.createElement(p.default.Provider,{value:!0},Z)}));_.displayName="Text";var b={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,position:"relative",textAlign:"start",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},w=f.default.create({text$raw:b,textHasAncestor$raw:(0,r.default)((0,r.default)({},b),{},{color:"inherit",font:"inherit",textAlign:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}});const S=_},2296:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(7462),i=n(3366),o=n(9),s=n(6067),a=n(4640),l=n(3331),u=n(264),c=n(6873),d=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];var h=l.default.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),f=o.memo(o.forwardRef((function(e,t){(0,c.warnOnce)("TouchableOpacity","TouchableOpacity is deprecated. Please use Pressable.");var n=e.activeOpacity,l=e.delayPressIn,f=e.delayPressOut,p=e.delayLongPress,g=e.disabled,m=e.focusable,v=e.onLongPress,y=e.onPress,_=e.onPressIn,b=e.onPressOut,w=e.rejectResponderTermination,S=e.style,k=(0,i.default)(e,d),E=(0,o.useRef)(null),C=(0,s.default)(t,E),I=(0,o.useState)("0s"),T=I[0],R=I[1],x=(0,o.useState)(null),O=x[0],P=x[1],A=(0,o.useCallback)((function(e,t){P(e),R(t?t/1e3+"s":"0s")}),[P,R]),N=(0,o.useCallback)((function(e){A(null!==n&&void 0!==n?n:.2,e)}),[n,A]),D=(0,o.useCallback)((function(e){A(null,e)}),[A]),L=(0,o.useMemo)((function(){return{cancelable:!w,disabled:g,delayLongPress:p,delayPressStart:l,delayPressEnd:f,onLongPress:v,onPress:y,onPressStart:function(e){var t=null!=e.dispatchConfig?"onResponderGrant"===e.dispatchConfig.registrationName:"keydown"===e.type;N(t?0:150),null!=_&&_(e)},onPressEnd:function(e){D(250),null!=b&&b(e)}}}),[p,l,f,g,v,y,_,b,w,N,D]),M=(0,a.default)(E,L);return o.createElement(u.default,(0,r.default)({},k,M,{accessibilityDisabled:g,focusable:!g&&!1!==m,pointerEvents:g?"box-none":void 0,ref:C,style:[h.root,!g&&h.actionable,S,null!=O&&{opacity:O},{transitionDuration:T}]}))})));f.displayName="TouchableOpacity";const p=f},5227:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},i=["ms","Moz","O","Webkit"];Object.keys(r).forEach((function(e){i.forEach((function(t){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=r[e]}))}));const o=r;const s=function(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||o.hasOwnProperty(e)&&o[e]?(""+t).trim():t+"px"};const a=function(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=0===r.indexOf("--"),o=s(r,t[r],i);"float"===r&&(r="cssFloat"),i?n.setProperty(r,o):n[r]=o}};var l=function(e){var t=e.offsetHeight,n=e.offsetWidth,r=e.offsetLeft,i=e.offsetTop;for(e=e.offsetParent;e&&1===e.nodeType;)r+=e.offsetLeft+e.clientLeft-e.scrollLeft,i+=e.offsetTop+e.clientTop-e.scrollTop,e=e.offsetParent;return{width:n,height:t,top:i-=window.scrollY,left:r-=window.scrollX}},u=function(e,t,n){var r=t||e&&e.parentNode;e&&r&&setTimeout((function(){if(e.isConnected&&r.isConnected){var t=l(r),i=l(e),o=i.height,s=i.left,a=i.top,u=i.width,c=s-t.left,d=a-t.top;n(c,d,u,o,s,a)}}),0)},c={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0};const d={blur:function(e){try{e.blur()}catch(t){}},focus:function(e){try{var t=e.nodeName;null==e.getAttribute("tabIndex")&&!0!==e.isContentEditable&&null==c[t]&&e.setAttribute("tabIndex","-1"),e.focus()}catch(n){}},measure:function(e,t){u(e,null,t)},measureInWindow:function(e,t){e&&setTimeout((function(){var n=l(e),r=n.height,i=n.left,o=n.top,s=n.width;t(i,o,s,r)}),0)},measureLayout:function(e,t,n,r){u(e,t,r)},updateView:function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];switch(n){case"style":a(e,r);break;case"class":case"className":e.setAttribute("class",r);break;case"text":case"value":e.value=r;break;default:e.setAttribute(n,r)}}},configureNextLayoutAnimation:function(e,t){t()},setLayoutAnimationEnabledExperimental:function(){}}},264:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var r=n(3366),i=n(9),o=n(675),s=n(4436),a=n(9043),l=n(4097),u=n(6067),c=n(1634),d=n(6526),h=n(3331),f=n(1604),p=n(7965),g=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],m=Object.assign({},s.defaultProps,s.accessibilityProps,s.clickProps,s.focusProps,s.keyboardProps,s.mouseProps,s.touchProps,s.styleProps,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),v=i.forwardRef((function(e,t){var n=e.hrefAttrs,s=e.onLayout,h=e.onMoveShouldSetResponder,v=e.onMoveShouldSetResponderCapture,_=e.onResponderEnd,b=e.onResponderGrant,w=e.onResponderMove,S=e.onResponderReject,k=e.onResponderRelease,E=e.onResponderStart,C=e.onResponderTerminate,I=e.onResponderTerminationRequest,T=e.onScrollShouldSetResponder,R=e.onScrollShouldSetResponderCapture,x=e.onSelectionChangeShouldSetResponder,O=e.onSelectionChangeShouldSetResponderCapture,P=e.onStartShouldSetResponder,A=e.onStartShouldSetResponderCapture,N=(0,r.default)(e,g);var D=i.useContext(f.default),L=i.useRef(null),M=(0,p.useLocaleContext)().direction;(0,l.default)(L,s),(0,d.default)(L,{onMoveShouldSetResponder:h,onMoveShouldSetResponderCapture:v,onResponderEnd:_,onResponderGrant:b,onResponderMove:w,onResponderReject:S,onResponderRelease:k,onResponderStart:E,onResponderTerminate:C,onResponderTerminationRequest:I,onScrollShouldSetResponder:T,onScrollShouldSetResponderCapture:R,onSelectionChangeShouldSetResponder:x,onSelectionChangeShouldSetResponderCapture:O,onStartShouldSetResponder:P,onStartShouldSetResponderCapture:A});var F="div",j=null!=e.lang?(0,p.getLocaleDirection)(e.lang):null,V=e.dir||j,U=V||M,B=function(e){return(0,a.default)(e,m)}(N);if(B.dir=V,B.style=[y.view$raw,D&&y.inline,e.style],null!=e.href&&(F="a",null!=n)){var q=n.download,z=n.rel,H=n.target;null!=q&&(B.download=q),null!=z&&(B.rel=z),"string"===typeof H&&(B.target="_"!==H.charAt(0)?"_"+H:H)}var W=(0,c.default)(B),$=(0,u.default)(L,W,t);return B.ref=$,(0,o.default)(F,B,{writingDirection:U})}));v.displayName="View";var y=h.default.create({view$raw:{alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}});const _=v},675:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null};const i=function(e){var t=e.accessibilityRole,n=e.role||t;if(n){var i=r[n];if(null!==i)return i||n}};var o={article:"article",banner:"header",blockquote:"blockquote",button:"button",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",paragraph:"p",region:"section",strong:"strong"},s={};const a={isDisabled:function(e){return e.disabled||Array.isArray(e.accessibilityStates)&&e.accessibilityStates.indexOf("disabled")>-1},propsToAccessibilityComponent:function(e){if(void 0===e&&(e=s),"label"===e.accessibilityRole)return"label";var t=i(e);if(t){if("heading"===t){var n=e.accessibilityLevel||e["aria-level"];return null!=n?"h"+n:"h1"}return o[t]}},propsToAriaRole:i};var l=n(1413),u=n(3366),c=n(3331),d=n(6873),h=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],f={},p=Object.prototype.hasOwnProperty,g=Array.isArray,m=/[A-Z]/g;function v(e){return"-"+e.toLowerCase()}function y(e){return g(e)?e.join(" "):e}var _=c.default.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}});const b=function(e,t,n){t||(t=f);var r=t,i=r["aria-activedescendant"],o=r.accessibilityActiveDescendant,s=r["aria-atomic"],g=r.accessibilityAtomic,b=r["aria-autocomplete"],w=r.accessibilityAutoComplete,S=r["aria-busy"],k=r.accessibilityBusy,E=r["aria-checked"],C=r.accessibilityChecked,I=r["aria-colcount"],T=r.accessibilityColumnCount,R=r["aria-colindex"],x=r.accessibilityColumnIndex,O=r["aria-colspan"],P=r.accessibilityColumnSpan,A=r["aria-controls"],N=r.accessibilityControls,D=r["aria-current"],L=r.accessibilityCurrent,M=r["aria-describedby"],F=r.accessibilityDescribedBy,j=r["aria-details"],V=r.accessibilityDetails,U=r["aria-disabled"],B=r.accessibilityDisabled,q=r["aria-errormessage"],z=r.accessibilityErrorMessage,H=r["aria-expanded"],W=r.accessibilityExpanded,$=r["aria-flowto"],K=r.accessibilityFlowTo,G=r["aria-haspopup"],Q=r.accessibilityHasPopup,Y=r["aria-hidden"],X=r.accessibilityHidden,J=r["aria-invalid"],Z=r.accessibilityInvalid,ee=r["aria-keyshortcuts"],te=r.accessibilityKeyShortcuts,ne=r["aria-label"],re=r.accessibilityLabel,ie=r["aria-labelledby"],oe=r.accessibilityLabelledBy,se=r["aria-level"],ae=r.accessibilityLevel,le=r["aria-live"],ue=r.accessibilityLiveRegion,ce=r["aria-modal"],de=r.accessibilityModal,he=r["aria-multiline"],fe=r.accessibilityMultiline,pe=r["aria-multiselectable"],ge=r.accessibilityMultiSelectable,me=r["aria-orientation"],ve=r.accessibilityOrientation,ye=r["aria-owns"],_e=r.accessibilityOwns,be=r["aria-placeholder"],we=r.accessibilityPlaceholder,Se=r["aria-posinset"],ke=r.accessibilityPosInSet,Ee=r["aria-pressed"],Ce=r.accessibilityPressed,Ie=r["aria-readonly"],Te=r.accessibilityReadOnly,Re=r["aria-required"],xe=r.accessibilityRequired,Oe=(r.role,r.accessibilityRole),Pe=r["aria-roledescription"],Ae=r.accessibilityRoleDescription,Ne=r["aria-rowcount"],De=r.accessibilityRowCount,Le=r["aria-rowindex"],Me=r.accessibilityRowIndex,Fe=r["aria-rowspan"],je=r.accessibilityRowSpan,Ve=r["aria-selected"],Ue=r.accessibilitySelected,Be=r["aria-setsize"],qe=r.accessibilitySetSize,ze=r["aria-sort"],He=r.accessibilitySort,We=r["aria-valuemax"],$e=r.accessibilityValueMax,Ke=r["aria-valuemin"],Ge=r.accessibilityValueMin,Qe=r["aria-valuenow"],Ye=r.accessibilityValueNow,Xe=r["aria-valuetext"],Je=r.accessibilityValueText,Ze=r.dataSet,et=r.focusable,tt=r.id,nt=r.nativeID,rt=r.pointerEvents,it=r.style,ot=r.tabIndex,st=r.testID,at=(0,u.default)(r,h);null!=B&&(0,d.warnOnce)("accessibilityDisabled","accessibilityDisabled is deprecated.");var lt=U||B,ut=a.propsToAriaRole(t);null!=o&&(0,d.warnOnce)("accessibilityActiveDescendant","accessibilityActiveDescendant is deprecated. Use aria-activedescendant.");var ct=null!=i?i:o;null!=ct&&(at["aria-activedescendant"]=ct),null!=g&&(0,d.warnOnce)("accessibilityAtomic","accessibilityAtomic is deprecated. Use aria-atomic.");var dt=null!=s?i:g;null!=dt&&(at["aria-atomic"]=dt),null!=w&&(0,d.warnOnce)("accessibilityAutoComplete","accessibilityAutoComplete is deprecated. Use aria-autocomplete.");var ht=null!=b?b:w;null!=ht&&(at["aria-autocomplete"]=ht),null!=k&&(0,d.warnOnce)("accessibilityBusy","accessibilityBusy is deprecated. Use aria-busy.");var ft=null!=S?S:k;null!=ft&&(at["aria-busy"]=ft),null!=C&&(0,d.warnOnce)("accessibilityChecked","accessibilityChecked is deprecated. Use aria-checked.");var pt=null!=E?E:C;null!=pt&&(at["aria-checked"]=pt),null!=T&&(0,d.warnOnce)("accessibilityColumnCount","accessibilityColumnCount is deprecated. Use aria-colcount.");var gt=null!=I?I:T;null!=gt&&(at["aria-colcount"]=gt),null!=x&&(0,d.warnOnce)("accessibilityColumnIndex","accessibilityColumnIndex is deprecated. Use aria-colindex.");var mt=null!=R?R:x;null!=mt&&(at["aria-colindex"]=mt),null!=P&&(0,d.warnOnce)("accessibilityColumnSpan","accessibilityColumnSpan is deprecated. Use aria-colspan.");var vt=null!=O?O:P;null!=vt&&(at["aria-colspan"]=vt),null!=N&&(0,d.warnOnce)("accessibilityControls","accessibilityControls is deprecated. Use aria-controls.");var yt=null!=A?A:N;null!=yt&&(at["aria-controls"]=y(yt)),null!=L&&(0,d.warnOnce)("accessibilityCurrent","accessibilityCurrent is deprecated. Use aria-current.");var _t=null!=D?D:L;null!=_t&&(at["aria-current"]=_t),null!=F&&(0,d.warnOnce)("accessibilityDescribedBy","accessibilityDescribedBy is deprecated. Use aria-describedby.");var bt=null!=M?M:F;null!=bt&&(at["aria-describedby"]=y(bt)),null!=V&&(0,d.warnOnce)("accessibilityDetails","accessibilityDetails is deprecated. Use aria-details.");var wt=null!=j?j:V;null!=wt&&(at["aria-details"]=wt),!0===lt&&(at["aria-disabled"]=!0,"button"!==e&&"form"!==e&&"input"!==e&&"select"!==e&&"textarea"!==e||(at.disabled=!0)),null!=z&&(0,d.warnOnce)("accessibilityErrorMessage","accessibilityErrorMessage is deprecated. Use aria-errormessage.");var St=null!=q?q:z;null!=St&&(at["aria-errormessage"]=St),null!=W&&(0,d.warnOnce)("accessibilityExpanded","accessibilityExpanded is deprecated. Use aria-expanded.");var kt=null!=H?H:W;null!=kt&&(at["aria-expanded"]=kt),null!=K&&(0,d.warnOnce)("accessibilityFlowTo","accessibilityFlowTo is deprecated. Use aria-flowto.");var Et=null!=$?$:K;null!=Et&&(at["aria-flowto"]=y(Et)),null!=Q&&(0,d.warnOnce)("accessibilityHasPopup","accessibilityHasPopup is deprecated. Use aria-haspopup.");var Ct=null!=G?G:Q;null!=Ct&&(at["aria-haspopup"]=Ct),null!=X&&(0,d.warnOnce)("accessibilityHidden","accessibilityHidden is deprecated. Use aria-hidden.");var It=null!=Y?Y:X;!0===It&&(at["aria-hidden"]=It),null!=Z&&(0,d.warnOnce)("accessibilityInvalid","accessibilityInvalid is deprecated. Use aria-invalid.");var Tt=null!=J?J:Z;null!=Tt&&(at["aria-invalid"]=Tt),null!=te&&(0,d.warnOnce)("accessibilityKeyShortcuts","accessibilityKeyShortcuts is deprecated. Use aria-keyshortcuts.");var Rt=null!=ee?ee:te;null!=Rt&&(at["aria-keyshortcuts"]=y(Rt)),null!=re&&(0,d.warnOnce)("accessibilityLabel","accessibilityLabel is deprecated. Use aria-label.");var xt=null!=ne?ne:re;null!=xt&&(at["aria-label"]=xt),null!=oe&&(0,d.warnOnce)("accessibilityLabelledBy","accessibilityLabelledBy is deprecated. Use aria-labelledby.");var Ot=null!=ie?ie:oe;null!=Ot&&(at["aria-labelledby"]=y(Ot)),null!=ae&&(0,d.warnOnce)("accessibilityLevel","accessibilityLevel is deprecated. Use aria-level.");var Pt=null!=se?se:ae;null!=Pt&&(at["aria-level"]=Pt),null!=ue&&(0,d.warnOnce)("accessibilityLiveRegion","accessibilityLiveRegion is deprecated. Use aria-live.");var At=null!=le?le:ue;null!=At&&(at["aria-live"]="none"===At?"off":At),null!=de&&(0,d.warnOnce)("accessibilityModal","accessibilityModal is deprecated. Use aria-modal.");var Nt=null!=ce?ce:de;null!=Nt&&(at["aria-modal"]=Nt),null!=fe&&(0,d.warnOnce)("accessibilityMultiline","accessibilityMultiline is deprecated. Use aria-multiline.");var Dt=null!=he?he:fe;null!=Dt&&(at["aria-multiline"]=Dt),null!=ge&&(0,d.warnOnce)("accessibilityMultiSelectable","accessibilityMultiSelectable is deprecated. Use aria-multiselectable.");var Lt=null!=pe?pe:ge;null!=Lt&&(at["aria-multiselectable"]=Lt),null!=ve&&(0,d.warnOnce)("accessibilityOrientation","accessibilityOrientation is deprecated. Use aria-orientation.");var Mt=null!=me?me:ve;null!=Mt&&(at["aria-orientation"]=Mt),null!=_e&&(0,d.warnOnce)("accessibilityOwns","accessibilityOwns is deprecated. Use aria-owns.");var Ft=null!=ye?ye:_e;null!=Ft&&(at["aria-owns"]=y(Ft)),null!=we&&(0,d.warnOnce)("accessibilityPlaceholder","accessibilityPlaceholder is deprecated. Use aria-placeholder.");var jt=null!=be?be:we;null!=jt&&(at["aria-placeholder"]=jt),null!=ke&&(0,d.warnOnce)("accessibilityPosInSet","accessibilityPosInSet is deprecated. Use aria-posinset.");var Vt=null!=Se?Se:ke;null!=Vt&&(at["aria-posinset"]=Vt),null!=Ce&&(0,d.warnOnce)("accessibilityPressed","accessibilityPressed is deprecated. Use aria-pressed.");var Ut=null!=Ee?Ee:Ce;null!=Ut&&(at["aria-pressed"]=Ut),null!=Te&&(0,d.warnOnce)("accessibilityReadOnly","accessibilityReadOnly is deprecated. Use aria-readonly.");var Bt=null!=Ie?Ie:Te;null!=Bt&&(at["aria-readonly"]=Bt,"input"!==e&&"select"!==e&&"textarea"!==e||(at.readOnly=!0)),null!=xe&&(0,d.warnOnce)("accessibilityRequired","accessibilityRequired is deprecated. Use aria-required.");var qt=null!=Re?Re:xe;null!=qt&&(at["aria-required"]=qt,"input"!==e&&"select"!==e&&"textarea"!==e||(at.required=xe)),null!=Oe&&(0,d.warnOnce)("accessibilityRole","accessibilityRole is deprecated. Use role."),null!=ut&&(at.role="none"===ut?"presentation":ut),null!=Ae&&(0,d.warnOnce)("accessibilityRoleDescription","accessibilityRoleDescription is deprecated. Use aria-roledescription.");var zt=null!=Pe?Pe:Ae;null!=zt&&(at["aria-roledescription"]=zt),null!=De&&(0,d.warnOnce)("accessibilityRowCount","accessibilityRowCount is deprecated. Use aria-rowcount.");var Ht=null!=Ne?Ne:De;null!=Ht&&(at["aria-rowcount"]=Ht),null!=Me&&(0,d.warnOnce)("accessibilityRowIndex","accessibilityRowIndex is deprecated. Use aria-rowindex.");var Wt=null!=Le?Le:Me;null!=Wt&&(at["aria-rowindex"]=Wt),null!=je&&(0,d.warnOnce)("accessibilityRowSpan","accessibilityRowSpan is deprecated. Use aria-rowspan.");var $t=null!=Fe?Fe:je;null!=$t&&(at["aria-rowspan"]=$t),null!=Ue&&(0,d.warnOnce)("accessibilitySelected","accessibilitySelected is deprecated. Use aria-selected.");var Kt=null!=Ve?Ve:Ue;null!=Kt&&(at["aria-selected"]=Kt),null!=qe&&(0,d.warnOnce)("accessibilitySetSize","accessibilitySetSize is deprecated. Use aria-setsize.");var Gt=null!=Be?Be:qe;null!=Gt&&(at["aria-setsize"]=Gt),null!=He&&(0,d.warnOnce)("accessibilitySort","accessibilitySort is deprecated. Use aria-sort.");var Qt=null!=ze?ze:He;null!=Qt&&(at["aria-sort"]=Qt),null!=$e&&(0,d.warnOnce)("accessibilityValueMax","accessibilityValueMax is deprecated. Use aria-valuemax.");var Yt=null!=We?We:$e;null!=Yt&&(at["aria-valuemax"]=Yt),null!=Ge&&(0,d.warnOnce)("accessibilityValueMin","accessibilityValueMin is deprecated. Use aria-valuemin.");var Xt=null!=Ke?Ke:Ge;null!=Xt&&(at["aria-valuemin"]=Xt),null!=Ye&&(0,d.warnOnce)("accessibilityValueNow","accessibilityValueNow is deprecated. Use aria-valuenow.");var Jt=null!=Qe?Qe:Ye;null!=Jt&&(at["aria-valuenow"]=Jt),null!=Je&&(0,d.warnOnce)("accessibilityValueText","accessibilityValueText is deprecated. Use aria-valuetext.");var Zt=null!=Xe?Xe:Je;if(null!=Zt&&(at["aria-valuetext"]=Zt),null!=Ze)for(var en in Ze)if(p.call(Ze,en)){var tn=en.replace(m,v),nn=Ze[en];null!=nn&&(at["data-"+tn]=nn)}0===ot||"0"===ot||-1===ot||"-1"===ot?at.tabIndex=ot:(null!=et&&(0,d.warnOnce)("focusable","focusable is deprecated."),!1===et&&(at.tabIndex="-1"),"a"===e||"button"===e||"input"===e||"select"===e||"textarea"===e?!1!==et&&!0!==B||(at.tabIndex="-1"):"button"===ut||"checkbox"===ut||"link"===ut||"radio"===ut||"textbox"===ut||"switch"===ut?!1!==et&&(at.tabIndex="0"):!0===et&&(at.tabIndex="0")),null!=rt&&(0,d.warnOnce)("pointerEvents","props.pointerEvents is deprecated. Use style.pointerEvents");var rn=(0,c.default)([it,rt&&_[rt]],(0,l.default)({writingDirection:"ltr"},n)),on=rn[0],sn=rn[1];on&&(at.className=on),sn&&(at.style=sn),null!=nt&&(0,d.warnOnce)("nativeID","nativeID is deprecated. Use id.");var an=null!=tt?tt:nt;return null!=an&&(at.id=an),null!=st&&(at["data-testid"]=st),null==at.type&&"button"===e&&(at.type="button"),at};var w=n(9),S=n(7965);const k=function(e,t,n){var r;e&&e.constructor===String&&(r=a.propsToAccessibilityComponent(t));var i=r||e,o=b(i,t,n),s=w.createElement(i,o);return o.dir?w.createElement(S.LocaleProvider,{children:s,direction:o.dir,locale:o.lang}):s}},5490:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(5158),i=n.n(r);const o=function(e){if(void 0===e||null===e)return e;var t=i()(e);return void 0!==t&&null!==t?t=(t<<24|t>>>8)>>>0:void 0}},4506:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(5227);const i={_currentlyFocusedNode:null,currentlyFocusedField:function(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput:function(e){null!==e&&(this._currentlyFocusedNode=e,document.activeElement!==e&&r.default.focus(e))},blurTextInput:function(e){null!==e&&(this._currentlyFocusedNode=null,document.activeElement===e&&r.default.blur(e))}}},3808:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=!("undefined"===typeof window||!window.document||!window.document.createElement)},3423:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(4506);const i=function(){r.default.blurTextInput(r.default.currentlyFocusedField())}},4436:(e,t,n)=>{"use strict";n.r(t),n.d(t,{accessibilityProps:()=>i,clickProps:()=>o,defaultProps:()=>r,focusProps:()=>s,keyboardProps:()=>a,mouseProps:()=>l,styleProps:()=>c,touchProps:()=>u});var r={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},i={"aria-activedescendant":!0,"aria-atomic":!0,"aria-autocomplete":!0,"aria-busy":!0,"aria-checked":!0,"aria-colcount":!0,"aria-colindex":!0,"aria-colspan":!0,"aria-controls":!0,"aria-current":!0,"aria-describedby":!0,"aria-details":!0,"aria-disabled":!0,"aria-errormessage":!0,"aria-expanded":!0,"aria-flowto":!0,"aria-haspopup":!0,"aria-hidden":!0,"aria-invalid":!0,"aria-keyshortcuts":!0,"aria-label":!0,"aria-labelledby":!0,"aria-level":!0,"aria-live":!0,"aria-modal":!0,"aria-multiline":!0,"aria-multiselectable":!0,"aria-orientation":!0,"aria-owns":!0,"aria-placeholder":!0,"aria-posinset":!0,"aria-pressed":!0,"aria-readonly":!0,"aria-required":!0,role:!0,"aria-roledescription":!0,"aria-rowcount":!0,"aria-rowindex":!0,"aria-rowspan":!0,"aria-selected":!0,"aria-setsize":!0,"aria-sort":!0,"aria-valuemax":!0,"aria-valuemin":!0,"aria-valuenow":!0,"aria-valuetext":!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},o={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},s={onBlur:!0,onFocus:!0},a={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},l={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},u={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},c={style:!0}},7576:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});n(9);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){null!=t&&("function"!==typeof t?"object"!==typeof t?console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(t)):t.current=e:t(e))}))}}},9043:(e,t,n)=>{"use strict";function r(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&!0===t[r]&&(n[r]=e[r]);return n}n.r(t),n.d(t,{default:()=>r})},4097:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(2653),i=n(5227),o=n(3808),s="__reactLayoutHandler",a=(o.default,null);function l(e,t){var n=(o.default&&"undefined"!==typeof window.ResizeObserver&&null==a&&(a=new window.ResizeObserver((function(e){e.forEach((function(e){var t=e.target,n=t[s];"function"===typeof n&&i.default.measure(t,(function(t,r,i,o,s,a){var l={nativeEvent:{layout:{x:t,y:r,width:i,height:o,left:s,top:a}},timeStamp:Date.now()};Object.defineProperty(l.nativeEvent,"target",{enumerable:!0,get:function(){return e.target}}),n(l)}))}))}))),a);(0,r.default)((function(){var n=e.current;null!=n&&(n[s]=t)}),[e,t]),(0,r.default)((function(){var t=e.current;return null!=t&&null!=n&&("function"===typeof t[s]?n.observe(t):n.unobserve(t)),function(){null!=t&&null!=n&&n.unobserve(t)}}),[e,n])}},2653:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(9);const i=n(3808).default?r.useLayoutEffect:r.useEffect},7965:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LocaleProvider:()=>u,getLocaleDirection:()=>l,useLocaleContext:()=>c});var r=n(9),i=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),o=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),s=new Map;var a=(0,r.createContext)({direction:"ltr",locale:"en-US"});function l(e){return function(e){var t=s.get(e);if(t)return t;var n=!1;if(Intl.Locale){var r=new Intl.Locale(e).maximize().script;n=i.has(r)}else{var a=e.split("-")[0];n=o.has(a)}return s.set(e,n),n}(e)?"rtl":"ltr"}function u(e){var t=e.direction,n=e.locale,i=e.children;return t||n?r.createElement(a.Provider,{children:i,value:{direction:n?l(n):t,locale:n}}):i}function c(){return(0,r.useContext)(a)}},6067:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(9),i=n(7576);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return i.default.apply(void 0,t)}),[].concat(t))}},1634:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(5227),i=n(2405);function o(e){e.pointerEvents,e.style;return(0,i.default)((function(){return function(e){null!=e&&(e.measure=function(t){return r.default.measure(e,t)},e.measureLayout=function(t,n,i){return r.default.measureLayout(e,t,i,n)},e.measureInWindow=function(t){return r.default.measureInWindow(e,t)})}}))}},4640:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var r=n(5671),i=n(3144),o="DELAY",s="ERROR",a="LONG_PRESS_DETECTED",l="NOT_RESPONDER",u="RESPONDER_ACTIVE_LONG_PRESS_START",c="RESPONDER_ACTIVE_PRESS_START",d="RESPONDER_INACTIVE_PRESS_START",h="RESPONDER_RELEASE",f="RESPONDER_TERMINATED",p=Object.freeze({NOT_RESPONDER:{DELAY:s,RESPONDER_GRANT:d,RESPONDER_RELEASE:s,RESPONDER_TERMINATED:s,LONG_PRESS_DETECTED:s},RESPONDER_INACTIVE_PRESS_START:{DELAY:c,RESPONDER_GRANT:s,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,LONG_PRESS_DETECTED:s},RESPONDER_ACTIVE_PRESS_START:{DELAY:s,RESPONDER_GRANT:s,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,LONG_PRESS_DETECTED:u},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:s,RESPONDER_GRANT:s,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,LONG_PRESS_DETECTED:u},ERROR:{DELAY:l,RESPONDER_GRANT:d,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,LONG_PRESS_DETECTED:l}}),g=function(e){return e.getAttribute("role")},m=function(e){return e.tagName.toLowerCase()},v=function(e){return e===c||e===u},y=function(e){return"button"===g(e)},_=function(e){return e===d||e===c||e===u},b=function(e){var t=e.key,n=e.target,r=" "===t||"Spacebar"===t,i="button"===m(n)||y(n);return"Enter"===t||r&&i},w=function(){function e(t){(0,r.default)(this,e),this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=l,this.configure(t)}return(0,i.default)(e,[{key:"configure",value:function(e){this._config=e}},{key:"reset",value:function(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}},{key:"getEventHandlers",value:function(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}},{key:"_createEventHandlers",value:function(){var e=this,t=function(t,n){t.persist(),e._cancelPressOutDelayTimeout(),e._longPressDispatched=!1,e._selectionTerminated=!1,e._touchState=l,e._isPointerTouch="touchstart"===t.nativeEvent.type,e._receiveSignal("RESPONDER_GRANT",t);var r=S(e._config.delayPressStart,0,50);!1!==n&&r>0?e._pressDelayTimeout=setTimeout((function(){e._receiveSignal(o,t)}),r):e._receiveSignal(o,t);var i=S(e._config.delayLongPress,10,450);e._longPressDelayTimeout=setTimeout((function(){e._handleLongPress(t)}),i+r)},n=function(t){e._receiveSignal(h,t)},r=function t(r){var i=e._config.onPress,o=r.target;if(e._touchState!==l&&b(r)){n(r),document.removeEventListener("keyup",t);var s=o.getAttribute("role"),a=m(o);null==i||("link"===s||"a"===a||"button"===a||"input"===a||"select"===a||"textarea"===a)||i(r)}};return{onStartShouldSetResponder:function(t){var n=e._config.disabled;return n&&y(t.currentTarget)&&t.stopPropagation(),null==n||!n},onKeyDown:function(n){var i=e._config.disabled,o=n.key,s=n.target;if(!i&&b(n)){e._touchState===l&&(t(n,!1),document.addEventListener("keyup",r));var a=" "===o||"Spacebar"===o,u=g(s);a&&("button"===u||"menuitem"===u)&&"button"!==m(s)&&n.preventDefault(),n.stopPropagation()}},onResponderGrant:function(e){return t(e)},onResponderMove:function(t){null!=e._config.onPressMove&&e._config.onPressMove(t);var n=k(t);if(null!=e._touchActivatePosition){var r=e._touchActivatePosition.pageX-n.pageX,i=e._touchActivatePosition.pageY-n.pageY;Math.hypot(r,i)>10&&e._cancelLongPressDelayTimeout()}},onResponderRelease:function(e){return n(e)},onResponderTerminate:function(t){"selectionchange"===t.nativeEvent.type&&(e._selectionTerminated=!0),e._receiveSignal(f,t)},onResponderTerminationRequest:function(t){var n=e._config,r=n.cancelable,i=n.disabled,o=n.onLongPress;return!(!i&&null!=o&&e._isPointerTouch&&"contextmenu"===t.nativeEvent.type)&&(null==r||r)},onClick:function(t){var n=e._config,r=n.disabled,i=n.onPress;r?y(t.currentTarget)&&t.stopPropagation():(t.stopPropagation(),e._longPressDispatched||e._selectionTerminated?t.preventDefault():null!=i&&!1===t.altKey&&i(t))},onContextMenu:function(t){var n=e._config,r=n.disabled,i=n.onLongPress;r?y(t.currentTarget)&&t.stopPropagation():null!=i&&e._isPointerTouch&&!t.defaultPrevented&&(t.preventDefault(),t.stopPropagation())}}}},{key:"_receiveSignal",value:function(e,t){var n=this._touchState,r=null;null!=p[n]&&(r=p[n][e]),this._touchState===l&&e===h||(null==r||r===s?console.error("PressResponder: Invalid signal "+e+" for state "+n+" on responder"):n!==r&&(this._performTransitionSideEffects(n,r,e,t),this._touchState=r))}},{key:"_performTransitionSideEffects",value:function(e,t,n,r){var i=this;if(function(e){return e===f||e===h}(n)&&(setTimeout((function(){i._isPointerTouch=!1}),0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),_(e)&&n===a){var o=this._config.onLongPress;null!=o&&null==r.nativeEvent.key&&(o(r),this._longPressDispatched=!0)}var s=v(e),l=v(t);if(!s&&l?this._activate(r):s&&!l&&this._deactivate(r),_(e)&&n===h){var c=this._config,d=c.onLongPress;if(null!=c.onPress)null!=d&&e===u||l||s||(this._activate(r),this._deactivate(r))}this._cancelPressDelayTimeout()}},{key:"_activate",value:function(e){var t=this._config,n=t.onPressChange,r=t.onPressStart,i=k(e);this._touchActivatePosition={pageX:i.pageX,pageY:i.pageY},null!=r&&r(e),null!=n&&n(!0)}},{key:"_deactivate",value:function(e){var t=this._config,n=t.onPressChange,r=t.onPressEnd;function i(){null!=r&&r(e),null!=n&&n(!1)}var o=S(this._config.delayPressEnd);o>0?this._pressOutDelayTimeout=setTimeout((function(){i()}),o):i()}},{key:"_handleLongPress",value:function(e){this._touchState!==c&&this._touchState!==u||this._receiveSignal(a,e)}},{key:"_cancelLongPressDelayTimeout",value:function(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}},{key:"_cancelPressDelayTimeout",value:function(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}},{key:"_cancelPressOutDelayTimeout",value:function(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}]),e}();function S(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),Math.max(t,null!==e&&void 0!==e?e:n)}function k(e){var t=e.nativeEvent,n=t.changedTouches,r=t.touches;return null!=r&&r.length>0?r[0]:null!=n&&n.length>0?n[0]:e.nativeEvent}var E=n(9);function C(e,t){var n=(0,E.useRef)(null);null==n.current&&(n.current=new w(t));var r=n.current;return(0,E.useEffect)((function(){r.configure(t)}),[t,r]),(0,E.useEffect)((function(){return function(){r.reset()}}),[r]),(0,E.useDebugValue)(t),r.getEventHandlers()}},6526:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>se});var r=n(9);const i=function(e){if(null!=e&&(1===e.nodeType&&"function"===typeof e.getBoundingClientRect))return e.getBoundingClientRect()};var o=function(){},s={},a=[];function l(e){return e>20?e%20:e}function u(e,t){var n,r,u,c=!1,d=e.changedTouches,h=e.type,f=!0===e.metaKey,p=!0===e.shiftKey,g=d&&d[0].force||0,m=l(d&&d[0].identifier||0),v=d&&d[0].clientX||e.clientX,y=d&&d[0].clientY||e.clientY,_=d&&d[0].pageX||e.pageX,b=d&&d[0].pageY||e.pageY,w="function"===typeof e.preventDefault?e.preventDefault.bind(e):o,S=e.timeStamp;function k(e){return Array.prototype.slice.call(e).map((function(e){return{force:e.force,identifier:l(e.identifier),get locationX(){return I(e.clientX)},get locationY(){return T(e.clientY)},pageX:e.pageX,pageY:e.pageY,target:e.target,timestamp:S}}))}if(null!=d)r=k(d),u=k(e.touches);else{var E=[{force:g,identifier:m,get locationX(){return I(v)},get locationY(){return T(y)},pageX:_,pageY:b,target:e.target,timestamp:S}];r=E,u="mouseup"===h||"dragstart"===h?a:E}var C={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:e.defaultPrevented,dispatchConfig:s,eventPhase:e.eventPhase,isDefaultPrevented:function(){return e.defaultPrevented},isPropagationStopped:function(){return c},isTrusted:e.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:f,shiftKey:p,changedTouches:r,force:g,identifier:m,get locationX(){return I(v)},get locationY(){return T(y)},pageX:_,pageY:b,target:e.target,timestamp:S,touches:u,type:h},persist:o,preventDefault:w,stopPropagation:function(){c=!0},target:e.target,timeStamp:S,touchHistory:t.touchHistory};function I(e){if(n=n||i(C.currentTarget))return e-n.left}function T(e){if(n=n||i(C.currentTarget))return e-n.top}return C}var c="mousedown",d="mousemove",h="mouseup",f="dragstart",p="touchstart",g="touchmove",m="touchend",v="touchcancel",y="scroll",_="select",b="selectionchange";function w(e){return e===p||e===c}function S(e){return e===g||e===d}function k(e){return e===m||e===h||E(e)}function E(e){return e===v||e===f}var C="__reactResponderId";function I(e){for(var t=[];null!=e&&e!==document.body;)t.push(e),e=e.parentNode;return t}function T(e){return null!=e?e[C]:null}function R(e){for(var t=[],n=[],r=function(e){return"selectionchange"===e.type?I(window.getSelection().anchorNode):null!=e.composedPath?e.composedPath():I(e.target)}(e),i=0;i<r.length;i++){var o=r[i],s=T(o);null!=s&&(t.push(s),n.push(o))}return{idPath:t,nodePath:n}}function x(e){return"selectionchange"===e.type?function(){var e=window.getSelection(),t=e.toString(),n=e.anchorNode,r=e.focusNode,i=n&&n.nodeType===window.Node.TEXT_NODE||r&&r.nodeType===window.Node.TEXT_NODE;return t.length>=1&&"\n"!==t&&i}():"select"===e.type}var O=n(5671),P=n(3144),A=!1,N=20;function D(e){return e.timeStamp||e.timestamp}function L(e){var t=e.identifier;return null==t&&console.error("Touch object is missing identifier."),A&&t>N&&console.error("Touch identifier %s is greater than maximum supported %s which causes performance issues backfilling array locations for all of the indices.",t,N),t}function M(e,t){var n=L(e),r=t.touchBank[n];r?function(e,t){e.touchActive=!0,e.startPageX=t.pageX,e.startPageY=t.pageY,e.startTimeStamp=D(t),e.currentPageX=t.pageX,e.currentPageY=t.pageY,e.currentTimeStamp=D(t),e.previousPageX=t.pageX,e.previousPageY=t.pageY,e.previousTimeStamp=D(t)}(r,e):t.touchBank[n]=function(e){return{touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:D(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:D(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:D(e)}}(e),t.mostRecentTimeStamp=D(e)}function F(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:D(e)})}function j(e){var t=e.touchBank,n=JSON.stringify(t.slice(0,N));return t.length>N&&(n+=" (original size: "+t.length+")"),n}var V=function(){function e(){(0,O.default)(this,e),this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}return(0,P.default)(e,[{key:"recordTouchTrack",value:function(e,t){var n=this._touchHistory;if(S(e))t.changedTouches.forEach((function(e){return function(e,t){var n=t.touchBank[L(e)];n?(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=D(e),t.mostRecentTimeStamp=D(e)):console.warn("Cannot record touch move without a touch start.\n","Touch Move: "+F(e)+"\n","Touch Bank: "+j(t))}(e,n)}));else if(w(e))t.changedTouches.forEach((function(e){return M(e,n)})),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches&&(n.indexOfSingleActiveTouch=t.touches[0].identifier);else if(k(e)&&(t.changedTouches.forEach((function(e){return function(e,t){var n=t.touchBank[L(e)];n?(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=D(e),t.mostRecentTimeStamp=D(e)):console.warn("Cannot record touch end without a touch start.\n","Touch End: "+F(e)+"\n","Touch Bank: "+j(t))}(e,n)})),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches)){for(var r=n.touchBank,i=0;i<r.length;i++){var o=r[i];if(null!=o&&o.touchActive){n.indexOfSingleActiveTouch=i;break}}if(A){var s=r[n.indexOfSingleActiveTouch];null!=s&&s.touchActive||console.error("Cannot find single active touch.")}}}},{key:"touchHistory",get:function(){return this._touchHistory}}]),e}(),U=n(3808),B={},q=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],z=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],H={touchstart:q,mousedown:q,touchmove:z,mousemove:z,scroll:["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}]},W={id:null,idPath:null,node:null},$=new Map,K=!1,G=0,Q={id:null,node:null,idPath:null},Y=new V;function X(e){Q=e}function J(e){var t=$.get(e);return null!=t?t:B}function Z(e){var t=e.type,n=e.target;if("touchstart"===t&&(K=!0),("touchmove"===t||G>1)&&(K=!1),!("mousedown"===t&&K||"mousemove"===t&&K||"mousemove"===t&&G<1))if(K&&"mouseup"===t)0===G&&(K=!1);else{var r=w(t)&&function(e){var t=e.altKey,n=e.button,r=e.buttons,i=e.ctrlKey,o=e.type,s=!1===t&&!1===i;return!!("touchstart"===o||"touchmove"===o||"mousedown"===o&&(0===n||1===r)&&s||"mousemove"===o&&1===r&&s)}(e),i=S(t),o=k(t),s=function(e){return e===y}(t),a=function(e){return e===_||e===b}(t),l=u(e,Y);(r||i||o)&&(e.touches?G=e.touches.length:r?G=1:o&&(G=0),Y.recordTouchTrack(t,l.nativeEvent));var c,d=R(e),h=!1;if(r||i||s&&G>0){var f=Q.idPath,p=d.idPath;if(null!=f&&null!=p){var g=function(e,t){var n=e.length,r=t.length;if(0===n||0===r||e[n-1]!==t[r-1])return null;var i=e[0],o=0,s=t[0],a=0;n-r>0&&(i=e[o=n-r],n=r),r-n>0&&(s=t[a=r-n],r=n);for(var l=n;l--;){if(i===s)return i;i=e[o++],s=t[a++]}return null}(f,p);if(null!=g){var m=p.indexOf(g)+(g===Q.id?1:0);d={idPath:p.slice(m),nodePath:d.nodePath.slice(m)}}else d=null}null!=d&&(c=function(e,t,n){var r=H[t.type];if(null!=r){for(var i=e.idPath,o=e.nodePath,s=r[0],a=r[1],l=r[2].bubbles,u=function(e,t,r){var o=J(e)[r];if(null!=o&&(n.currentTarget=t,!0===o(n)))return{id:e,node:t,idPath:i.slice(i.indexOf(e))}},c=i.length-1;c>=0;c--){var d=u(i[c],o[c],s);if(null!=d)return d;if(!0===n.isPropagationStopped())return}if(l)for(var h=0;h<i.length;h++){var f=u(i[h],o[h],a);if(null!=f)return f;if(!0===n.isPropagationStopped())return}else{var p=i[0],g=o[0];if(t.target===g)return u(p,g,a)}}}(d,e,l),null!=c&&(!function(e,t){var n=Q,r=n.id,i=n.node,o=t.id,s=t.node,a=J(o),l=a.onResponderGrant,u=a.onResponderReject;if(e.bubbles=!1,e.cancelable=!1,e.currentTarget=s,null==r)null!=l&&(e.currentTarget=s,e.dispatchConfig.registrationName="onResponderGrant",l(e)),X(t);else{var c=J(r),d=c.onResponderTerminate,h=c.onResponderTerminationRequest,f=!0;null!=h&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminationRequest",!1===h(e)&&(f=!1)),f?(null!=d&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminate",d(e)),null!=l&&(e.currentTarget=s,e.dispatchConfig.registrationName="onResponderGrant",l(e)),X(t)):null!=u&&(e.currentTarget=s,e.dispatchConfig.registrationName="onResponderReject",u(e))}}(l,c),h=!0))}if(null!=Q.id&&null!=Q.node){var v=Q,C=v.id,I=v.node,T=J(C),O=T.onResponderStart,P=T.onResponderMove,A=T.onResponderEnd,N=T.onResponderRelease,D=T.onResponderTerminate,L=T.onResponderTerminationRequest;if(l.bubbles=!1,l.cancelable=!1,l.currentTarget=I,r)null!=O&&(l.dispatchConfig.registrationName="onResponderStart",O(l));else if(i)null!=P&&(l.dispatchConfig.registrationName="onResponderMove",P(l));else{var M=E(t)||"contextmenu"===t||"blur"===t&&n===window||"blur"===t&&n.contains(I)&&e.relatedTarget!==I||s&&0===G||s&&n.contains(I)&&n!==I||a&&x(e),F=o&&!M&&!function(e,t){if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++){var r=t[n].target;if(null!=r&&e.contains(r))return!0}return!1}(I,e.touches);if(o&&null!=A&&(l.dispatchConfig.registrationName="onResponderEnd",A(l)),F&&(null!=N&&(l.dispatchConfig.registrationName="onResponderRelease",N(l)),X(W)),M){var j=!0;"contextmenu"!==t&&"scroll"!==t&&"selectionchange"!==t||(h?j=!1:null!=L&&(l.dispatchConfig.registrationName="onResponderTerminationRequest",!1===L(l)&&(j=!1))),j&&(null!=D&&(l.dispatchConfig.registrationName="onResponderTerminate",D(l)),X(W),K=!1,G=0)}}}}}var ee=["blur","scroll"],te=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function ne(e,t,n){!function(e,t){null!=e&&(e[C]=t)}(t,e),$.set(e,n)}function re(e){Q.id===e&&function(){var e=Q,t=e.id,n=e.node;if(null!=t&&null!=n){var r=J(t).onResponderTerminate;if(null!=r){var i=u({},Y);i.currentTarget=n,r(i)}X(W)}K=!1,G=0}(),$.has(e)&&$.delete(e)}var ie={},oe=0;function se(e,t){void 0===t&&(t=ie);var n=function(e){var t=r.useRef(null);return null==t.current&&(t.current=e()),t.current}((function(){return oe++})),i=r.useRef(!1);r.useEffect((function(){return U.default&&null==window.__reactResponderSystemActive&&(window.addEventListener("blur",Z),te.forEach((function(e){document.addEventListener(e,Z)})),ee.forEach((function(e){document.addEventListener(e,Z,!0)})),window.__reactResponderSystemActive=!0),function(){re(n)}}),[n]),r.useEffect((function(){var r=t,o=r.onMoveShouldSetResponder,s=r.onMoveShouldSetResponderCapture,a=r.onScrollShouldSetResponder,l=r.onScrollShouldSetResponderCapture,u=r.onSelectionChangeShouldSetResponder,c=r.onSelectionChangeShouldSetResponderCapture,d=r.onStartShouldSetResponder,h=r.onStartShouldSetResponderCapture,f=null!=o||null!=s||null!=a||null!=l||null!=u||null!=c||null!=d||null!=h,p=e.current;f?(ne(n,p,t),i.current=!0):i.current&&(re(n),i.current=!1)}),[t,e,n]),r.useDebugValue({isResponder:e.current===Q.node}),r.useDebugValue(t)}},2405:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(9),i="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol():Object.freeze({});function o(e){var t=r.useRef(i);return t.current===i&&(t.current=e()),t.current}},6873:(e,t,n)=>{"use strict";function r(e,t){0}n.r(t),n.d(t,{warnOnce:()=>r})},3113:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(5671),i=n(3144),o=n(726),s=n(4363),a=n(351),l=n.n(a),u=function(){function e(t){(0,r.default)(this,e),"ios"===o.default.OS&&(l()(null!=t,"`new NativeEventEmitter()` requires a non-null argument."),this._nativeModule=t)}return(0,i.default)(e,[{key:"addListener",value:function(e,t,n){var r,i=this;null==(r=this._nativeModule)||r.addListener(e);var o=s.default.addListener(e,t,n);return{remove:function(){var e;null!=o&&(null==(e=i._nativeModule)||e.removeListeners(1),o.remove(),o=null)}}}},{key:"removeListener",value:function(e,t){var n;null==(n=this._nativeModule)||n.removeListeners(1),s.default.removeListener(e,t)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];s.default.emit.apply(s.default,[e].concat(n))}},{key:"removeAllListeners",value:function(e){var t;l()(null!=e,"`NativeEventEmitter.removeAllListener()` requires a non-null argument."),null==(t=this._nativeModule)||t.removeListeners(this.listenerCount(e)),s.default.removeAllListeners(e)}},{key:"listenerCount",value:function(e){return s.default.listenerCount(e)}}]),e}()},4363:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=new(n(3235).default)},9508:e=>{"use strict";e.exports=function(e,t,n){return t<e?e:t>n?n:t}},2157:(e,t,n)=>{"use strict";function r(e,t,n,r){void 0===r&&(r=1);for(var i=t.getItemCount(t.data),o=[],s=0;s<e.length;s++)for(var a=e[s],l=0,u=i-1;l<=u;){var c=l+(u-l>>>1),d=n(c,t),h=d.offset*r,f=(d.offset+d.length)*r;if(0===c&&a<h||0!==c&&a<=h)u=c-1;else{if(!(a>f)){o[s]=c;break}l=c+1}}return o}function i(e,t){return t.last-t.first+1-Math.max(0,1+Math.min(t.last,e.last)-Math.max(t.first,e.first))}function o(e,t,n,o,s,a){var l=e.getItemCount(e.data);if(0===l)return{first:0,last:-1};var u=a.offset,c=a.velocity,d=a.visibleLength,h=a.zoomScale,f=void 0===h?1:h,p=Math.max(0,u),g=p+d,m=(n-1)*d,v=c>1?"after":c<-1?"before":"none",y=Math.max(0,p-.5*m),_=Math.max(0,g+.5*m);if(s(l-1,e).offset*f<y)return{first:Math.max(0,l-1-t),last:l-1};var b=r([y,p,g,_],e,s,f),w=b[0],S=b[1],k=b[2],E=b[3];w=null==w?0:w,E=null==E?l-1:E;for(var C={first:S=null==S?Math.max(0,w):S,last:k=null==k?Math.min(E,S+t-1):k},I=i(o,C);!(S<=w&&k>=E);){var T=I>=t,R=S<=o.first||S>o.last,x=S>w&&(!T||!R),O=k>=o.last||k<o.first,P=k<E&&(!T||!O);if(T&&!x&&!P)break;!x||"after"===v&&P&&O||(R&&I++,S--),!P||"before"===v&&x&&R||(O&&I++,k++)}if(!(k>=S&&S>=0&&k<l&&S>=w&&k<=E&&S<=C.first&&k>=C.last))throw new Error("Bad window calculation "+JSON.stringify({first:S,last:k,itemCount:l,overscanFirst:w,overscanLast:E,visible:C}));return{first:S,last:k}}function s(e,t){return"object"===typeof e&&null!=(null==e?void 0:e.key)?e.key:"object"===typeof e&&null!=(null==e?void 0:e.id)?e.id:String(t)}n.r(t),n.d(t,{computeWindowedRenderLimits:()=>o,elementsThatOverlapOffsets:()=>r,keyExtractor:()=>s,newRangeCount:()=>i})},4217:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>oe});var r=n(2982),i=n(4942),o=n(5671),s=n(3144),a=n(7326),l=n(136),u=n(2963),c=n(1120),d=n(8906),h=n(7462),f=n(1413),p=n(3366),g=n(264),m=n(9),v=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];const y=function(e){e.colors,e.enabled,e.onRefresh,e.progressBackgroundColor,e.progressViewOffset,e.refreshing,e.size,e.tintColor,e.title,e.titleColor;var t=(0,p.default)(e,v);return m.createElement(g.default,t)};var _=n(2300),b=n(3331),w=n(5103);const S=function(){function e(t,n){(0,o.default)(this,e),this._delay=n,this._callback=t}return(0,s.default)(e,[{key:"dispose",value:function(e){void 0===e&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}},{key:"schedule",value:function(){var e=this;if(!this._taskHandle){var t=setTimeout((function(){e._taskHandle=w.default.runAfterInteractions((function(){e._taskHandle=null,e._callback()}))}),this._delay);this._taskHandle={cancel:function(){return clearTimeout(t)}}}}}]),e}();var k=n(9508),E=n.n(k);const C=function(){var e;return(e=console).log.apply(e,arguments)};var I=n(351),T=n.n(I),R=function(){function e(t){(0,o.default)(this,e),T()(t>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=t,this._regions=0===t?[]:[{first:0,last:t-1,isSpacer:!0}]}return(0,s.default)(e,[{key:"enumerateRegions",value:function(){return this._regions}},{key:"addCells",value:function(e){var t;if(T()(e.first>=0&&e.first<this._numCells&&e.last>=-1&&e.last<this._numCells&&e.last>=e.first-1,"CellRenderMask.addCells called with invalid cell range"),!(e.last<e.first)){var n=this._findRegion(e.first),i=n[0],o=n[1],s=this._findRegion(e.last),a=s[0],l=s[1];if(o!==l||i.isSpacer){var u=[],c=[],d=(0,f.default)((0,f.default)({},e),{},{isSpacer:!1});i.first<d.first&&(i.isSpacer?u.push({first:i.first,last:d.first-1,isSpacer:!0}):d.first=i.first),a.last>d.last&&(a.isSpacer?c.push({first:d.last+1,last:a.last,isSpacer:!0}):d.last=a.last);var h=[].concat(u,[d],c),p=l-o+1;(t=this._regions).splice.apply(t,[o,p].concat((0,r.default)(h)))}}}},{key:"numCells",value:function(){return this._numCells}},{key:"equals",value:function(e){return this._numCells===e._numCells&&this._regions.length===e._regions.length&&this._regions.every((function(t,n){return t.first===e._regions[n].first&&t.last===e._regions[n].last&&t.isSpacer===e._regions[n].isSpacer}))}},{key:"_findRegion",value:function(e){for(var t=0,n=this._regions.length-1;t<=n;){var r=Math.floor((t+n)/2),i=this._regions[r];if(e>=i.first&&e<=i.last)return[i,r];e<i.first?n=r-1:e>i.last&&(t=r+1)}T()(!1,"A region was not found containing cellIdx "+e)}}]),e}(),x=function(){function e(){(0,o.default)(this,e),this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}return(0,s.default)(e,[{key:"add",value:function(e,t){var n;T()(!this._childrenToCellKey.has(e),"Trying to add already present child list");var r=null!==(n=this._cellKeyToChildren.get(t))&&void 0!==n?n:new Set;r.add(e),this._cellKeyToChildren.set(t,r),this._childrenToCellKey.set(e,t)}},{key:"remove",value:function(e){var t=this._childrenToCellKey.get(e);T()(null!=t,"Trying to remove non-present child list"),this._childrenToCellKey.delete(e);var n=this._cellKeyToChildren.get(t);T()(n,"_cellKeyToChildren should contain cellKey"),n.delete(e),0===n.size&&this._cellKeyToChildren.delete(t)}},{key:"forEach",value:function(e){for(var t,n=(0,d.default)(this._cellKeyToChildren.values());!(t=n()).done;)for(var r,i=t.value,o=(0,d.default)(i);!(r=o()).done;){e(r.value)}}},{key:"forEachInCell",value:function(e,t){for(var n,r,i=null!==(n=this._cellKeyToChildren.get(e))&&void 0!==n?n:[],o=(0,d.default)(i);!(r=o()).done;){t(r.value)}}},{key:"anyInCell",value:function(e,t){for(var n,r,i=null!==(n=this._cellKeyToChildren.get(e))&&void 0!==n?n:[],o=(0,d.default)(i);!(r=o()).done;){if(t(r.value))return!0}return!1}},{key:"size",value:function(){return this._childrenToCellKey.size}}]),e}(),O=(0,s.default)((function e(){(0,o.default)(this,e),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0})),P=[],A=10,N=null;const D=function(){function e(t){(0,o.default)(this,e),this._anyBlankStartTime=null,this._enabled=!1,this._info=new O,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=t,this._enabled=(N||0)>Math.random(),this._resetData()}return(0,s.default)(e,[{key:"activate",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=n.g.performance.now())}},{key:"deactivateAndFlush",value:function(){if(this._enabled){var e=this._samplesStartTime;if(null!=e)if(this._info.sample_count<A)this._resetData();else{var t=n.g.performance.now()-e,r=(0,f.default)((0,f.default)({},this._info),{},{total_time_spent:t});P.forEach((function(e){return e(r)})),this._resetData()}}}},{key:"computeBlankness",value:function(e,t,r){if(!this._enabled||0===e.getItemCount(e.data)||t.last<t.first||null==this._samplesStartTime)return 0;var i=r.dOffset,o=r.offset,s=r.velocity,a=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(a),this._info.pixels_scrolled+=Math.round(Math.abs(i));var l=Math.round(1e3*Math.abs(s)),u=n.g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=u-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=u-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,d=t.first,h=this._getFrameMetrics(d,e);d<=t.last&&(!h||!h.inLayout);)h=this._getFrameMetrics(d,e),d++;h&&d>0&&(c=Math.min(a,Math.max(0,h.offset-o)));for(var f=0,p=t.last,g=this._getFrameMetrics(p,e);p>=t.first&&(!g||!g.inLayout);)g=this._getFrameMetrics(p,e),p--;if(g&&p<e.getItemCount(e.data)-1){var m=g.offset+g.length;f=Math.min(a,Math.max(0,o+a-m))}var v=Math.round(c+f),y=v/a;return y>0?(this._anyBlankStartTime=u,this._info.any_blank_speed_sum+=l,this._info.any_blank_count++,this._info.pixels_blank+=v,y>.5&&(this._mostlyBlankStartTime=u,this._info.mostly_blank_count++)):(l<.01||Math.abs(i)<1)&&this.deactivateAndFlush(),y}},{key:"enabled",value:function(){return this._enabled}},{key:"_resetData",value:function(){this._anyBlankStartTime=null,this._info=new O,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}],[{key:"addListener",value:function(e){return null===N&&console.warn("Call `FillRateHelper.setSampleRate` before `addListener`."),P.push(e),{remove:function(){P=P.filter((function(t){return e!==t}))}}}},{key:"setSampleRate",value:function(e){N=e}},{key:"setMinSampleCount",value:function(e){A=e}}]),e}();var L=n(1752);function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var F=function(e){(0,l.default)(n,e);var t=M(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e))._inAsyncStateUpdate=!1,r._installSetStateHooks(),r}return(0,s.default)(n,[{key:"setState",value:function(e,t){var r=this;"function"===typeof e?(0,L.default)((0,c.default)(n.prototype),"setState",this).call(this,(function(t,n){var i;r._inAsyncStateUpdate=!0;try{i=e(t,n)}catch(o){throw o}finally{r._inAsyncStateUpdate=!1}return i}),t):(0,L.default)((0,c.default)(n.prototype),"setState",this).call(this,e,t)}},{key:"_installSetStateHooks",value:function(){var e=this,t=this.props,n=this.state;Object.defineProperty(this,"props",{get:function(){return T()(!e._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),t},set:function(e){t=e}}),Object.defineProperty(this,"state",{get:function(){return T()(!e._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),n},set:function(e){n=e}})}}]),n}(m.PureComponent);function j(e,t,n,r,i,o){if(function(e,t,n){return e>=0&&t<=n&&t>e}(n,r,i))return!0;var s=function(e,t,n){var r=Math.min(t,n)-Math.max(e,0);return Math.max(0,r)}(n,r,i);return 100*(e?s/i:s/o)>=t}const V=function(){function e(t){(0,o.default)(this,e),void 0===t&&(t={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=t}return(0,s.default)(e,[{key:"dispose",value:function(){this._timers.forEach(clearTimeout)}},{key:"computeViewableItems",value:function(e,t,n,r,i){var o=e.getItemCount(e.data),s=this._config,a=s.itemVisiblePercentThreshold,l=s.viewAreaCoveragePercentThreshold,u=null!=l,c=u?l:a;T()(null!=c&&null!=a!==(null!=l),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var d=[];if(0===o)return d;var h=-1,f=i||{first:0,last:o-1},p=f.first,g=f.last;if(g>=o)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:i,itemCount:o})),[];for(var m=p;m<=g;m++){var v=r(m,e);if(v){var y=v.offset-t,_=y+v.length;if(y<n&&_>0)h=m,j(u,c,y,_,n,v.length)&&d.push(m);else if(h>=0)break}}return d}},{key:"onUpdate",value:function(e,t,n,r,i,o,s){var a=this,l=e.getItemCount(e.data);if((!this._config.waitForInteraction||this._hasInteracted)&&0!==l&&r(0,e)){var u=[];if(l&&(u=this.computeViewableItems(e,t,n,r,s)),this._viewableIndices.length!==u.length||!this._viewableIndices.every((function(e,t){return e===u[t]})))if(this._viewableIndices=u,this._config.minimumViewTime){var c=setTimeout((function(){a._timers.delete(c),a._onUpdateSync(e,u,o,i)}),this._config.minimumViewTime);this._timers.add(c)}else this._onUpdateSync(e,u,o,i)}}},{key:"resetViewableIndices",value:function(){this._viewableIndices=[]}},{key:"recordInteraction",value:function(){this._hasInteracted=!0}},{key:"_onUpdateSync",value:function(e,t,n,r){var i=this;t=t.filter((function(e){return i._viewableIndices.includes(e)}));for(var o,s=this._viewableItems,a=new Map(t.map((function(t){var n=r(t,!0,e);return[n.key,n]}))),l=[],u=(0,d.default)(a);!(o=u()).done;){var c=o.value,h=c[0],p=c[1];s.has(h)||l.push(p)}for(var g,m=(0,d.default)(s);!(g=m()).done;){var v=g.value,y=v[0],_=v[1];a.has(y)||l.push((0,f.default)((0,f.default)({},_),{},{isViewable:!1}))}l.length>0&&(this._viewableItems=a,n({viewableItems:Array.from(a.values()),changed:l,viewabilityConfig:this._config}))}}]),e}();var U=m.createContext(null);function B(e){var t=e.children,n=e.value,r=(0,m.useMemo)((function(){return{cellKey:null,getScrollMetrics:n.getScrollMetrics,horizontal:n.horizontal,getOutermostParentListRef:n.getOutermostParentListRef,registerAsNestedChild:n.registerAsNestedChild,unregisterAsNestedChild:n.unregisterAsNestedChild}}),[n.getScrollMetrics,n.horizontal,n.getOutermostParentListRef,n.registerAsNestedChild,n.unregisterAsNestedChild]);return m.createElement(U.Provider,{value:r},t)}function q(e){var t=e.cellKey,n=e.children,r=(0,m.useContext)(U),i=(0,m.useMemo)((function(){return null==r?null:(0,f.default)((0,f.default)({},r),{},{cellKey:t})}),[r,t]);return m.createElement(U.Provider,{value:i},n)}function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var H=function(e){(0,l.default)(n,e);var t=z(n);function n(){var e;return(0,o.default)(this,n),(e=t.apply(this,arguments)).state={separatorProps:{highlighted:!1,leadingItem:e.props.item}},e._separators={highlight:function(){var t=e.props,n=t.cellKey,r=t.prevCellKey;e.props.onUpdateSeparators([n,r],{highlighted:!0})},unhighlight:function(){var t=e.props,n=t.cellKey,r=t.prevCellKey;e.props.onUpdateSeparators([n,r],{highlighted:!1})},updateProps:function(t,n){var r=e.props,i=r.cellKey,o=r.prevCellKey;e.props.onUpdateSeparators(["leading"===t?o:i],n)}},e._onLayout=function(t){e.props.onCellLayout&&e.props.onCellLayout(t,e.props.cellKey,e.props.index)},e}return(0,s.default)(n,[{key:"updateSeparatorProps",value:function(e){this.setState((function(t){return{separatorProps:(0,f.default)((0,f.default)({},t.separatorProps),e)}}))}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.props.cellKey)}},{key:"_renderElement",value:function(e,t,n,r){return e&&t&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),t?m.createElement(t,{item:n,index:r,separators:this._separators}):e?e({item:n,index:r,separators:this._separators}):void T()(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}},{key:"render",value:function(){var e=this.props,t=e.CellRendererComponent,n=e.ItemSeparatorComponent,r=e.ListItemComponent,i=e.cellKey,o=e.horizontal,s=e.item,a=e.index,l=e.inversionStyle,u=e.onCellFocusCapture,c=e.onCellLayout,d=e.renderItem,f=this._renderElement(d,r,s,a),p=m.isValidElement(n)?n:n&&m.createElement(n,this.state.separatorProps),v=l?o?[W.rowReverse,l]:[W.columnReverse,l]:o?[W.row,l]:l,y=t?m.createElement(t,(0,h.default)({cellKey:i,index:a,item:s,style:v,onFocusCapture:u},c&&{onLayout:this._onLayout}),f,p):m.createElement(g.default,(0,h.default)({style:v,onFocusCapture:u},c&&{onLayout:this._onLayout}),f,p);return m.createElement(q,{cellKey:this.props.cellKey},y)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{separatorProps:(0,f.default)((0,f.default)({},t.separatorProps),{},{leadingItem:e.item})}}}]),n}(m.Component),W=b.default.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}}),$=n(2157),K=n(6415),G=n.n(K);function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var Y=!1,X="";function J(e){return null!==e&&void 0!==e&&e}function Z(e){return null!==e&&void 0!==e?e:10}function ee(e){return null!==e&&void 0!==e?e:2}function te(e,t){return e*t/2}function ne(e){return null!==e&&void 0!==e?e:21}var re=function(e){(0,l.default)(n,e);var t=Q(n);function n(e){var r,i;if((0,o.default)(this,n),(r=t.call(this,e))._getScrollMetrics=function(){return r._scrollMetrics},r._getOutermostParentListRef=function(){return r._isNestedWithSameOrientation()?r.context.getOutermostParentListRef():(0,a.default)(r)},r._registerAsNestedChild=function(e){r._nestedChildLists.add(e.ref,e.cellKey),r._hasInteracted&&e.ref.recordInteraction()},r._unregisterAsNestedChild=function(e){r._nestedChildLists.remove(e.ref)},r._onUpdateSeparators=function(e,t){e.forEach((function(e){var n=null!=e&&r._cellRefs[e];n&&n.updateSeparatorProps(t)}))},r._getSpacerKey=function(e){return e?"height":"width"},r._averageCellLength=0,r._cellRefs={},r._frames={},r._footerLength=0,r._hasTriggeredInitialScrollToIndex=!1,r._hasInteracted=!1,r._hasMore=!1,r._hasWarned={},r._headerLength=0,r._hiPriInProgress=!1,r._highestMeasuredFrameIndex=0,r._indicesToKeys=new Map,r._lastFocusedCellKey=null,r._nestedChildLists=new x,r._offsetFromParentVirtualizedList=0,r._prevParentOffset=0,r._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},r._scrollRef=null,r._sentStartForContentLength=0,r._sentEndForContentLength=0,r._totalCellLength=0,r._totalCellsMeasured=0,r._viewabilityTuples=[],r._captureScrollRef=function(e){r._scrollRef=e},r._defaultRenderScrollComponent=function(e){var t,n=e.onRefresh;return r._isNestedWithSameOrientation()?m.createElement(g.default,e):n?(T()("boolean"===typeof e.refreshing,"`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify(null!==(t=e.refreshing)&&void 0!==t?t:"undefined")+"`"),m.createElement(_.default,(0,h.default)({},e,{refreshControl:null==e.refreshControl?m.createElement(y,{refreshing:e.refreshing,onRefresh:n,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):m.createElement(_.default,e)},r._onCellLayout=function(e,t,n){var i=e.nativeEvent.layout,o={offset:r._selectOffset(i),length:r._selectLength(i),index:n,inLayout:!0},s=r._frames[t];s&&o.offset===s.offset&&o.length===s.length&&n===s.index?r._frames[t].inLayout=!0:(r._totalCellLength+=o.length-(s?s.length:0),r._totalCellsMeasured+=s?0:1,r._averageCellLength=r._totalCellLength/r._totalCellsMeasured,r._frames[t]=o,r._highestMeasuredFrameIndex=Math.max(r._highestMeasuredFrameIndex,n),r._scheduleCellsToRenderUpdate()),r._triggerRemeasureForChildListsInCell(t),r._computeBlankness(),r._updateViewableItems(r.props,r.state.cellsAroundViewport)},r._onCellUnmount=function(e){delete r._cellRefs[e];var t=r._frames[e];t&&(r._frames[e]=(0,f.default)((0,f.default)({},t),{},{inLayout:!1}))},r._onLayout=function(e){r._isNestedWithSameOrientation()?r.measureLayoutRelativeToContainingList():r._scrollMetrics.visibleLength=r._selectLength(e.nativeEvent.layout),r.props.onLayout&&r.props.onLayout(e),r._scheduleCellsToRenderUpdate(),r._maybeCallOnEdgeReached()},r._onLayoutEmpty=function(e){r.props.onLayout&&r.props.onLayout(e)},r._onLayoutFooter=function(e){r._triggerRemeasureForChildListsInCell(r._getFooterCellKey()),r._footerLength=r._selectLength(e.nativeEvent.layout)},r._onLayoutHeader=function(e){r._headerLength=r._selectLength(e.nativeEvent.layout)},r._onContentSizeChange=function(e,t){e>0&&t>0&&null!=r.props.initialScrollIndex&&r.props.initialScrollIndex>0&&!r._hasTriggeredInitialScrollToIndex&&(null==r.props.contentOffset&&(r.props.initialScrollIndex<r.props.getItemCount(r.props.data)?r.scrollToIndex({animated:!1,index:G()(r.props.initialScrollIndex)}):r.scrollToEnd({animated:!1})),r._hasTriggeredInitialScrollToIndex=!0),r.props.onContentSizeChange&&r.props.onContentSizeChange(e,t),r._scrollMetrics.contentLength=r._selectLength({height:t,width:e}),r._scheduleCellsToRenderUpdate(),r._maybeCallOnEdgeReached()},r._convertParentScrollMetrics=function(e){var t=e.offset-r._offsetFromParentVirtualizedList,n=e.visibleLength,i=t-r._scrollMetrics.offset;return{visibleLength:n,contentLength:r._scrollMetrics.contentLength,offset:t,dOffset:i}},r._onScroll=function(e){r._nestedChildLists.forEach((function(t){t._onScroll(e)})),r.props.onScroll&&r.props.onScroll(e);var t=e.timeStamp,n=r._selectLength(e.nativeEvent.layoutMeasurement),i=r._selectLength(e.nativeEvent.contentSize),o=r._selectOffset(e.nativeEvent.contentOffset),s=o-r._scrollMetrics.offset;if(r._isNestedWithSameOrientation()){if(0===r._scrollMetrics.contentLength)return;var a=r._convertParentScrollMetrics({visibleLength:n,offset:o});n=a.visibleLength,i=a.contentLength,o=a.offset,s=a.dOffset}var l=r._scrollMetrics.timestamp?Math.max(1,t-r._scrollMetrics.timestamp):1,u=s/l;l>500&&r._scrollMetrics.dt>500&&i>5*n&&!r._hasWarned.perf&&(C("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:l,prevDt:r._scrollMetrics.dt,contentLength:i}),r._hasWarned.perf=!0);var c=e.nativeEvent.zoomScale<0?1:e.nativeEvent.zoomScale;r._scrollMetrics={contentLength:i,dt:l,dOffset:s,offset:o,timestamp:t,velocity:u,visibleLength:n,zoomScale:c},r._updateViewableItems(r.props,r.state.cellsAroundViewport),r.props&&(r._maybeCallOnEdgeReached(),0!==u&&r._fillRateHelper.activate(),r._computeBlankness(),r._scheduleCellsToRenderUpdate())},r._onScrollBeginDrag=function(e){r._nestedChildLists.forEach((function(t){t._onScrollBeginDrag(e)})),r._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),r._hasInteracted=!0,r.props.onScrollBeginDrag&&r.props.onScrollBeginDrag(e)},r._onScrollEndDrag=function(e){r._nestedChildLists.forEach((function(t){t._onScrollEndDrag(e)}));var t=e.nativeEvent.velocity;t&&(r._scrollMetrics.velocity=r._selectOffset(t)),r._computeBlankness(),r.props.onScrollEndDrag&&r.props.onScrollEndDrag(e)},r._onMomentumScrollBegin=function(e){r._nestedChildLists.forEach((function(t){t._onMomentumScrollBegin(e)})),r.props.onMomentumScrollBegin&&r.props.onMomentumScrollBegin(e)},r._onMomentumScrollEnd=function(e){r._nestedChildLists.forEach((function(t){t._onMomentumScrollEnd(e)})),r._scrollMetrics.velocity=0,r._computeBlankness(),r.props.onMomentumScrollEnd&&r.props.onMomentumScrollEnd(e)},r._updateCellsToRender=function(){r._updateViewableItems(r.props,r.state.cellsAroundViewport),r.setState((function(e,t){var i=r._adjustCellsAroundViewport(t,e.cellsAroundViewport),o=n._createRenderMask(t,i,r._getNonViewportRenderRegions(t));return i.first===e.cellsAroundViewport.first&&i.last===e.cellsAroundViewport.last&&o.equals(e.renderMask)?null:{cellsAroundViewport:i,renderMask:o}}))},r._createViewToken=function(e,t,n){var i=n.data,o=(0,n.getItem)(i,e);return{index:e,item:o,key:r._keyExtractor(o,e,n),isViewable:t}},r._getOffsetApprox=function(e,t){if(Number.isInteger(e))return r.__getFrameMetricsApprox(e,t).offset;var n=r.__getFrameMetricsApprox(Math.floor(e),t),i=e-Math.floor(e);return n.offset+i*n.length},r.__getFrameMetricsApprox=function(e,t){var n=r._getFrameMetrics(e,t);if(n&&n.index===e)return n;var i=t.data,o=t.getItemCount,s=t.getItemLayout;return T()(e>=0&&e<o(i),"Tried to get frame for out of range index "+e),T()(!s,"Should not have to estimate frames when a measurement metrics function is provided"),{length:r._averageCellLength,offset:r._averageCellLength*e}},r._getFrameMetrics=function(e,t){var n=t.data,i=t.getItem,o=t.getItemCount,s=t.getItemLayout;T()(e>=0&&e<o(n),"Tried to get frame for out of range index "+e);var a=i(n,e),l=r._frames[r._keyExtractor(a,e,t)];return l&&l.index===e||!s?l:s(n,e)},r._getNonViewportRenderRegions=function(e){if(!r._lastFocusedCellKey||!r._cellRefs[r._lastFocusedCellKey])return[];var t=r._cellRefs[r._lastFocusedCellKey].props.index,n=e.getItemCount(e.data);if(t>=n||r._keyExtractor(e.getItem(e.data,t),t,e)!==r._lastFocusedCellKey)return[];for(var i=t,o=0,s=i-1;s>=0&&o<r._scrollMetrics.visibleLength;s--)i--,o+=r.__getFrameMetricsApprox(s,e).length;for(var a=t,l=0,u=a+1;u<n&&l<r._scrollMetrics.visibleLength;u++)a++,l+=r.__getFrameMetricsApprox(u,e).length;return[{first:i,last:a}]},r._checkProps(e),r._fillRateHelper=new D(r._getFrameMetrics),r._updateCellsToRenderBatcher=new S(r._updateCellsToRender,null!==(i=r.props.updateCellsBatchingPeriod)&&void 0!==i?i:50),r.props.viewabilityConfigCallbackPairs)r._viewabilityTuples=r.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityHelper:new V(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}}));else{var s=r.props,l=s.onViewableItemsChanged,u=s.viewabilityConfig;l&&r._viewabilityTuples.push({viewabilityHelper:new V(u),onViewableItemsChanged:l})}var c=n._initialRenderRegion(e);return r.state={cellsAroundViewport:c,renderMask:n._createRenderMask(e,c)},r.invertedWheelEventHandler=function(e){var t=r.props.horizontal?e.target.scrollLeft:e.target.scrollTop,n=r.props.horizontal?e.target.scrollWidth:e.target.scrollHeight,i=r.props.horizontal?e.target.clientWidth:e.target.clientHeight,o=n>i,s=r.props.horizontal?e.deltaX||e.wheelDeltaX:e.deltaY||e.wheelDeltaY,a=s;o&&(a=s<0?Math.min(s+t,0):Math.max(s-(n-i-t),0));var l=s-a;if(r.props.inverted&&r._scrollRef&&r._scrollRef.getScrollableNode){var u=r._scrollRef.getScrollableNode();if(r.props.horizontal){e.target.scrollLeft+=l;var c=u.scrollLeft-a;u.scrollLeft=r.props.getItemLayout?c:Math.min(c,r._totalCellLength)}else{e.target.scrollTop+=l;var d=u.scrollTop-a;u.scrollTop=r.props.getItemLayout?d:Math.min(d,r._totalCellLength)}e.preventDefault()}},r}return(0,s.default)(n,[{key:"scrollToEnd",value:function(e){var t=!e||e.animated,n=this.props.getItemCount(this.props.data)-1;if(!(n<0)){var r=this.__getFrameMetricsApprox(n,this.props),i=Math.max(0,r.offset+r.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(J(this.props.horizontal)?{x:i,animated:t}:{y:i,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}}},{key:"scrollToIndex",value:function(e){var t=this.props,n=t.data,r=t.horizontal,i=t.getItemCount,o=t.getItemLayout,s=t.onScrollToIndexFailed,a=e.animated,l=e.index,u=e.viewOffset,c=e.viewPosition;if(T()(l>=0,"scrollToIndex out of range: requested index "+l+" but minimum is 0"),T()(i(n)>=1,"scrollToIndex out of range: item length "+i(n)+" but minimum is 1"),T()(l<i(n),"scrollToIndex out of range: requested index "+l+" is out of 0 to "+(i(n)-1)),!o&&l>this._highestMeasuredFrameIndex)return T()(!!s,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void s({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:l});var d=this.__getFrameMetricsApprox(Math.floor(l),this.props),h=Math.max(0,this._getOffsetApprox(l,this.props)-(c||0)*(this._scrollMetrics.visibleLength-d.length))-(u||0);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(r?{x:h,animated:a}:{y:h,animated:a}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"scrollToItem",value:function(e){for(var t=e.item,n=this.props,r=n.data,i=n.getItem,o=(0,n.getItemCount)(r),s=0;s<o;s++)if(i(r,s)===t){this.scrollToIndex((0,f.default)((0,f.default)({},e),{},{index:s}));break}}},{key:"scrollToOffset",value:function(e){var t=e.animated,n=e.offset;null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(J(this.props.horizontal)?{x:n,animated:t}:{y:n,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"recordInteraction",value:function(){this._nestedChildLists.forEach((function(e){e.recordInteraction()})),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}},{key:"flashScrollIndicators",value:function(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}},{key:"getScrollableNode",value:function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}},{key:"getScrollRef",value:function(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}},{key:"_getCellKey",value:function(){var e;return(null==(e=this.context)?void 0:e.cellKey)||"rootList"}},{key:"hasMore",value:function(){return this._hasMore}},{key:"_checkProps",value:function(e){var t=e.onScroll,n=e.windowSize,r=e.getItemCount,i=e.data,o=e.initialScrollIndex;T()(!t||!t.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),T()(ne(n)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),T()(r,'VirtualizedList: The "getItemCount" prop must be provided');var s=r(i);null==o||this._hasTriggeredInitialScrollToIndex||!(o<0||s>0&&o>=s)||this._hasWarned.initialScrollIndex||(console.warn('initialScrollIndex "'+o+'" is not valid (list has '+s+" items)"),this._hasWarned.initialScrollIndex=!0)}},{key:"_adjustCellsAroundViewport",value:function(e,t){var r,i=e.data,o=e.getItemCount,s=ee(e.onEndReachedThreshold),a=this._scrollMetrics,l=a.contentLength,u=a.offset,c=a.visibleLength,d=l-c-u;if(c<=0||l<=0)return t.last>=o(i)?n._constrainToItemCount(t,e):t;if(e.disableVirtualization){var h=d<s*c?Z(e.maxToRenderPerBatch):0;r={first:0,last:Math.min(t.last+h,o(i)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(d)>=Number.EPSILON)return t.last>=o(i)?n._constrainToItemCount(t,e):t;r=(0,$.computeWindowedRenderLimits)(e,Z(e.maxToRenderPerBatch),ne(e.windowSize),t,this.__getFrameMetricsApprox,this._scrollMetrics),T()(r.last<o(i),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var f=this._findFirstChildWithMore(r.first,r.last);r.last=null!==f&&void 0!==f?f:r.last}return r}},{key:"_findFirstChildWithMore",value:function(e,t){for(var n=e;n<=t;n++){var r=this._indicesToKeys.get(n);if(null!=r&&this._nestedChildLists.anyInCell(r,(function(e){return e.hasMore()})))return n}return null}},{key:"componentDidMount",value:function(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}},{key:"componentWillUnmount",value:function(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.dispose()})),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}},{key:"setupWebWheelHandler",value:function(){var e=this;this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler):setTimeout((function(){return e.setupWebWheelHandler()}),50)}},{key:"teardownWebWheelHandler",value:function(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}},{key:"_pushCells",value:function(e,t,n,r,i,o){var s,a=this,l=this.props,u=l.CellRendererComponent,c=l.ItemSeparatorComponent,d=l.ListHeaderComponent,f=l.ListItemComponent,p=l.data,g=l.debug,v=l.getItem,y=l.getItemCount,_=l.getItemLayout,b=l.horizontal,w=l.renderItem,S=d?1:0,k=y(p)-1;i=Math.min(k,i);for(var E=function(){var r=v(p,C),i=a._keyExtractor(r,C,a.props);a._indicesToKeys.set(C,i),n.has(C+S)&&t.push(e.length);var l=null==_||g||a._fillRateHelper.enabled();e.push(m.createElement(H,(0,h.default)({CellRendererComponent:u,ItemSeparatorComponent:C<k?c:void 0,ListItemComponent:f,cellKey:i,horizontal:b,index:C,inversionStyle:o,item:r,key:i,prevCellKey:s,onUpdateSeparators:a._onUpdateSeparators,onCellFocusCapture:function(e){return a._onCellFocusCapture(i)},onUnmount:a._onCellUnmount,ref:function(e){a._cellRefs[i]=e},renderItem:w},l&&{onCellLayout:a._onCellLayout}))),s=i},C=r;C<=i;C++)E()}},{key:"_isNestedWithSameOrientation",value:function(){var e=this.context;return!(!e||!!e.horizontal!==J(this.props.horizontal))}},{key:"_keyExtractor",value:function(e,t,n){if(null!=n.keyExtractor)return n.keyExtractor(e,t);var r=(0,$.keyExtractor)(e,t);return r===String(t)&&(Y=!0,e.type&&e.type.displayName&&(X=e.type.displayName)),r}},{key:"render",value:function(){var e=this;this._checkProps(this.props);var t=this.props,n=t.ListEmptyComponent,r=t.ListFooterComponent,o=t.ListHeaderComponent,s=this.props,a=s.data,l=s.horizontal,u=this.props.inverted?J(this.props.horizontal)?ie.horizontallyInverted:ie.verticallyInverted:null,c=[],h=new Set(this.props.stickyHeaderIndices),p=[];if(o){h.has(0)&&p.push(0);var v=m.isValidElement(o)?o:m.createElement(o,null);c.push(m.createElement(q,{cellKey:this._getCellKey()+"-header",key:"$header"},m.createElement(g.default,{onLayout:this._onLayoutHeader,style:[u,this.props.ListHeaderComponentStyle]},v)))}var y=this.props.getItemCount(a);if(0===y&&n){var _=m.isValidElement(n)?n:m.createElement(n,null);c.push(m.createElement(q,{cellKey:this._getCellKey()+"-empty",key:"$empty"},m.cloneElement(_,{onLayout:function(t){e._onLayoutEmpty(t),_.props.onLayout&&_.props.onLayout(t)},style:[u,_.props.style]})))}if(y>0){Y=!1,X="";for(var b,w=this._getSpacerKey(!l),S=this.state.renderMask.enumerateRegions(),k=function(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return e[n];return null}(S,(function(e){return e.isSpacer})),C=(0,d.default)(S);!(b=C()).done;){var I=b.value;if(I.isSpacer){if(this.props.disableVirtualization)continue;var T=I===k&&!this.props.getItemLayout?E()(I.first-1,I.last,this._highestMeasuredFrameIndex):I.last,R=this.__getFrameMetricsApprox(I.first,this.props),x=this.__getFrameMetricsApprox(T,this.props),O=x.offset+x.length-R.offset;c.push(m.createElement(g.default,{key:"$spacer-"+I.first,style:(0,i.default)({},w,O)}))}else this._pushCells(c,p,h,I.first,I.last,u)}!this._hasWarned.keys&&Y&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",X),this._hasWarned.keys=!0)}if(r){var P=m.isValidElement(r)?r:m.createElement(r,null);c.push(m.createElement(q,{cellKey:this._getFooterCellKey(),key:"$footer"},m.createElement(g.default,{onLayout:this._onLayoutFooter,style:[u,this.props.ListFooterComponentStyle]},P)))}var A,N=(0,f.default)((0,f.default)({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:(A=this.props.scrollEventThrottle,null!==A&&void 0!==A?A:50),invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:p,style:u?[u,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<y-1;var D=m.createElement(B,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:J(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},m.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(N),{ref:this._captureScrollRef},c));return this.props.debug?m.createElement(g.default,{style:ie.debug},D,this._renderDebugOverlay()):D}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.data,r=t.extraData;n===e.data&&r===e.extraData||this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.resetViewableIndices()}));var i=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),i&&(this._hiPriInProgress=!1)}},{key:"_computeBlankness",value:function(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}},{key:"_onCellFocusCapture",value:function(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}},{key:"_triggerRemeasureForChildListsInCell",value:function(e){this._nestedChildLists.forEachInCell(e,(function(e){e.measureLayoutRelativeToContainingList()}))}},{key:"measureLayoutRelativeToContainingList",value:function(){var e=this;try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(function(t,n,r,i){e._offsetFromParentVirtualizedList=e._selectOffset({x:t,y:n}),e._scrollMetrics.contentLength=e._selectLength({width:r,height:i});var o=e._convertParentScrollMetrics(e.context.getScrollMetrics());(e._scrollMetrics.visibleLength!==o.visibleLength||e._scrollMetrics.offset!==o.offset)&&(e._scrollMetrics.visibleLength=o.visibleLength,e._scrollMetrics.offset=o.offset,e._nestedChildLists.forEach((function(e){e.measureLayoutRelativeToContainingList()})))}),(function(e){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")}))}catch(t){console.warn("measureLayoutRelativeToContainingList threw an error",t.stack)}}},{key:"_getFooterCellKey",value:function(){return this._getCellKey()+"-footer"}},{key:"_renderDebugOverlay",value:function(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],n=this.props.getItemCount(this.props.data),r=0;r<n;r++){var i=this.__getFrameMetricsApprox(r,this.props);i.inLayout&&t.push(i)}var o=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,s=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),a=s.offset+s.length-o,l=this._scrollMetrics.offset,u=this._scrollMetrics.visibleLength;return m.createElement(g.default,{style:[ie.debugOverlayBase,ie.debugOverlay]},t.map((function(t,n){return m.createElement(g.default,{key:"f"+n,style:[ie.debugOverlayBase,ie.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]})})),m.createElement(g.default,{style:[ie.debugOverlayBase,ie.debugOverlayFrameLast,{top:o*e,height:a*e}]}),m.createElement(g.default,{style:[ie.debugOverlayBase,ie.debugOverlayFrameVis,{top:l*e,height:u*e}]}))}},{key:"_selectLength",value:function(e){return J(this.props.horizontal)?e.width:e.height}},{key:"_selectOffset",value:function(e){return J(this.props.horizontal)?e.x:e.y}},{key:"_maybeCallOnEdgeReached",value:function(){var e=this.props,t=e.data,n=e.getItemCount,r=e.onStartReached,i=e.onStartReachedThreshold,o=e.onEndReached,s=e.onEndReachedThreshold,a=e.initialScrollIndex,l=this._scrollMetrics,u=l.contentLength,c=l.visibleLength,d=l.offset,h=d,f=u-c-d;h<.001&&(h=0),f<.001&&(f=0);var p=h<=(null!=i?i*c:2),g=f<=(null!=s?s*c:2);o&&this.state.cellsAroundViewport.last===n(t)-1&&g&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,o({distanceFromEnd:f})):null!=r&&0===this.state.cellsAroundViewport.first&&p&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?a&&0===this._scrollMetrics.timestamp||(this._sentStartForContentLength=this._scrollMetrics.contentLength,r({distanceFromStart:h})):(this._sentStartForContentLength=p?this._sentStartForContentLength:0,this._sentEndForContentLength=g?this._sentEndForContentLength:0)}},{key:"_scheduleCellsToRenderUpdate",value:function(){var e=this.state.cellsAroundViewport,t=e.first,n=e.last,r=this._scrollMetrics,i=r.offset,o=r.visibleLength,s=r.velocity,a=this.props.getItemCount(this.props.data),l=!1,u=function(e){return null!==e&&void 0!==e?e:2}(this.props.onStartReachedThreshold),c=ee(this.props.onEndReachedThreshold);if(t>0){var d=i-this.__getFrameMetricsApprox(t,this.props).offset;l=d<0||s<-2&&d<te(u,o)}if(!l&&n>=0&&n<a-1){var h=this.__getFrameMetricsApprox(n,this.props).offset-(i+o);l=h<0||s>2&&h<te(c,o)}if(l&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}},{key:"_updateViewableItems",value:function(e,t){var n=this;this._viewabilityTuples.forEach((function(r){r.viewabilityHelper.onUpdate(e,n._scrollMetrics.offset,n._scrollMetrics.visibleLength,n._getFrameMetrics,n._createViewToken,r.onViewableItemsChanged,t)}))}}],[{key:"_createRenderMask",value:function(e,t,i){var o=e.getItemCount(e.data);T()(t.first>=0&&t.last>=t.first-1&&t.last<o,'Invalid cells around viewport "['+t.first+", "+t.last+']" was passed to VirtualizedList._createRenderMask');var s=new R(o);if(o>0){for(var a=0,l=[t].concat((0,r.default)(null!==i&&void 0!==i?i:[]));a<l.length;a++){var u=l[a];s.addCells(u)}if(null==e.initialScrollIndex||e.initialScrollIndex<=0){var c=n._initialRenderRegion(e);s.addCells(c)}var d=new Set(e.stickyHeaderIndices);n._ensureClosestStickyHeader(e,d,s,t.first)}return s}},{key:"_initialRenderRegion",value:function(e){var t,n,r=e.getItemCount(e.data),i=Math.max(0,Math.min(r-1,Math.floor(null!==(t=e.initialScrollIndex)&&void 0!==t?t:0)));return{first:i,last:Math.min(r,i+(null!==(n=e.initialNumToRender)&&void 0!==n?n:10))-1}}},{key:"_ensureClosestStickyHeader",value:function(e,t,n,r){for(var i=e.ListHeaderComponent?1:0,o=r-1;o>=0;o--)if(t.has(o+i)){n.addCells({first:o,last:o});break}}},{key:"getDerivedStateFromProps",value:function(e,t){if(e.getItemCount(e.data)===t.renderMask.numCells())return t;var r=n._constrainToItemCount(t.cellsAroundViewport,e);return{cellsAroundViewport:r,renderMask:n._createRenderMask(e,r)}}},{key:"_constrainToItemCount",value:function(e,t){var n=t.getItemCount(t.data),r=Math.min(n-1,e.last),i=Z(t.maxToRenderPerBatch);return{first:E()(0,n-1-i,e.first),last:r}}}]),n}(F);re.contextType=U;var ie=b.default.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}});const oe=re},3235:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(2982),i=n(5671),o=n(3144),s=function(){function e(){(0,i.default)(this,e),this._registry={}}return(0,o.default)(e,[{key:"addListener",value:function(e,t,n){var r=function(e,t){var n=e[t];null==n&&(n=new Set,e[t]=n);return n}(this._registry,e),i={context:n,listener:t,remove:function(){r.delete(i)}};return r.add(i),i}},{key:"emit",value:function(e){var t=this._registry[e];if(null!=t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];for(var s=0,a=(0,r.default)(t);s<a.length;s++){var l=a[s];l.listener.apply(l.context,i)}}}},{key:"removeAllListeners",value:function(e){null==e?this._registry={}:delete this._registry[e]}},{key:"listenerCount",value:function(e){var t=this._registry[e];return null==t?0:t.size}}]),e}()},1966:(e,t,n)=>{"use strict";e.exports=n(7807)},7496:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CONSTANTS:()=>r,DecodeBase64StringError:()=>l,Deferred:()=>b,ErrorFactory:()=>F,FirebaseError:()=>M,MAX_VALUE_MILLIS:()=>ve,RANDOM_FACTOR:()=>ye,Sha1:()=>ne,areCookiesEnabled:()=>L,assert:()=>i,assertionError:()=>o,async:()=>oe,base64:()=>a,base64Decode:()=>d,base64Encode:()=>u,base64urlEncodeWithoutPadding:()=>c,calculateBackoffMillis:()=>_e,contains:()=>$,createMockUserToken:()=>w,createSubscribe:()=>re,decode:()=>B,deepCopy:()=>h,deepEqual:()=>Y,deepExtend:()=>f,errorPrefix:()=>le,extractQuerystring:()=>te,getDefaultAppConfig:()=>y,getDefaultEmulatorHost:()=>m,getDefaultEmulatorHostnameAndPort:()=>v,getDefaults:()=>g,getExperimentalSetting:()=>_,getGlobal:()=>p,getModularInstance:()=>we,getUA:()=>S,isAdmin:()=>W,isBrowser:()=>C,isBrowserExtension:()=>I,isElectron:()=>R,isEmpty:()=>G,isIE:()=>x,isIndexedDBAvailable:()=>N,isMobileCordova:()=>k,isNode:()=>E,isNodeSdk:()=>P,isReactNative:()=>T,isSafari:()=>A,isUWP:()=>O,isValidFormat:()=>H,isValidTimestamp:()=>q,issuedAtTime:()=>z,jsonEval:()=>V,map:()=>Q,ordinal:()=>be,promiseWithTimeout:()=>J,querystring:()=>Z,querystringDecode:()=>ee,safeGet:()=>K,stringLength:()=>fe,stringToByteArray:()=>he,stringify:()=>U,uuidv4:()=>pe,validateArgCount:()=>ae,validateCallback:()=>ce,validateContextObject:()=>de,validateIndexedDBOpenable:()=>D,validateNamespace:()=>ue});const r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new l;const u=t<<2|o>>4;if(r.push(u),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u=function(e){const t=s(e);return a.encodeByteArray(t,!0)},c=function(e){return u(e).replace(/\./g,"")},d=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function h(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=f(e[n],t[n]));return e}function p(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const g=()=>{try{return p().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"START",slug:"START",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#ffffff"},web:{},extra:{eas:{projectId:"c9283f31-2788-4af1-9733-9f2ebc7b00e5"}},runtimeVersion:{policy:"appVersion"},updates:{url:"https://u.expo.dev/c9283f31-2788-4af1-9733-9f2ebc7b00e5"},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&d(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},m=e=>{var t,n;return null===(n=null===(t=g())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},v=e=>{const t=m(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},y=()=>{var e;return null===(e=g())||void 0===e?void 0:e.config},_=e=>{var t;return null===(t=g())||void 0===t?void 0:t[`_${e}`]};class b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function w(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[c(JSON.stringify({alg:"none",type:"JWT"})),c(JSON.stringify(o)),""].join(".")}function S(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function k(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function E(){var e;const t=null===(e=g())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function C(){return"object"===typeof self&&self.self===self}function I(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function T(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function R(){return S().indexOf("Electron/")>=0}function x(){const e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function O(){return S().indexOf("MSAppHost/")>=0}function P(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN}function A(){return!E()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N(){try{return"object"===typeof indexedDB}catch(e){return!1}}function D(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}function L(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class M extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,M.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,F.prototype.create)}}class F{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(j,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new M(r,s,n)}}const j=/\{\$([^}]+)}/g;function V(e){return JSON.parse(e)}function U(e){return JSON.stringify(e)}const B=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=V(d(o[0])||""),n=V(d(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}},q=function(e){const t=B(e).claims,n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},z=function(e){const t=B(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},H=function(e){const t=B(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},W=function(e){const t=B(e).claims;return"object"===typeof t&&!0===t.admin};function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function K(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function G(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Q(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Y(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(X(n)&&X(o)){if(!Y(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function X(e){return null!==e&&"object"===typeof e}function J(e,t=2e3){const n=new b;return setTimeout((()=>n.reject("timeout!")),t),e.then(n.resolve,n.reject),n.promise}function Z(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ee(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function te(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ne{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let c=0;c<16;c++)n[c]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let c=0;c<16;c++)n[c]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let c=16;c<80;c++){const e=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let c=0;c<80;c++){c<40?c<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):c<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+u+i+n[c]&4294967295;u=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function re(e,t){const n=new ie(e,t);return n.subscribe.bind(n)}class ie{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=se),void 0===r.error&&(r.error=se),void 0===r.complete&&(r.complete=se);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function oe(e,t){return(...n)=>{Promise.resolve(!0).then((()=>{e(...n)})).catch((e=>{t&&t(e)}))}}function se(){}const ae=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}};function le(e,t){return`${e} failed: ${t} argument `}function ue(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(le(e,"namespace")+"must be a valid firebase namespace.")}function ce(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(le(e,t)+"must be a valid function.")}function de(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(le(e,t)+"must be a valid context object.")}const he=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){const t=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate.");o=65536+(t<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},fe=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},pe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},ge=1e3,me=2,ve=144e5,ye=.5;function _e(e,t=ge,n=me){const r=t*Math.pow(n,e),i=Math.round(ye*r*(Math.random()-.5)*2);return Math.min(ve,r+i)}function be(e){return Number.isFinite(e)?e+function(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20)return"th";const n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):`${e}`}function we(e){return e&&e._delegate?e._delegate:e}},1027:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},5988:(e,t,n)=>{var r=n(1027),i=n(213),o=Object.hasOwnProperty,s=Object.create(null);for(var a in r)o.call(r,a)&&(s[r[a]]=a);var l=e.exports={to:{},get:{}};function u(e,t,n){return Math.min(Math.max(t,e),n)}function c(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}l.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=l.get.hsl(e),n="hsl";break;case"hwb":t=l.get.hwb(e),n="hwb";break;default:t=l.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},l.get.rgb=function(e){if(!e)return null;var t,n,i,s=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var a=2*n;s[n]=parseInt(t.slice(a,a+2),16)}i&&(s[3]=parseInt(i,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)s[n]=parseInt(t[n]+t[n],16);i&&(s[3]=parseInt(i+i,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)s[n]=parseInt(t[n+1],0);t[4]&&(t[5]?s[3]=.01*parseFloat(t[4]):s[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:o.call(r,t[1])?((s=r[t[1]])[3]=1,s):null:null;for(n=0;n<3;n++)s[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?s[3]=.01*parseFloat(t[4]):s[3]=parseFloat(t[4]))}for(n=0;n<3;n++)s[n]=u(s[n],0,255);return s[3]=u(s[3],0,1),s},l.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},l.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},l.to.hex=function(){var e=i(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},l.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},l.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},l.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},l.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},l.to.keyword=function(e){return s[e.slice(0,3)]}},6899:(e,t,n)=>{const r=n(5988),i=n(294),o=["keyword","gray","hex"],s={};for(const f of Object.keys(i))s[[...i[f].labels].sort().join("")]=f;const a={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in o&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);let n,u;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"===typeof e){const t=r.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,u=i[this.model].channels,this.color=t.value.slice(0,u),this.valpha="number"===typeof t.value[u]?t.value[u]:1}else if(e.length>0){this.model=t||"rgb",u=i[this.model].channels;const n=Array.prototype.slice.call(e,0,u);this.color=h(n,u),this.valpha="number"===typeof e[u]?e[u]:1}else if("number"===typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"===typeof e.alpha?e.alpha:0);const r=t.sort().join("");if(!(r in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[r];const{labels:o}=i[this.model],a=[];for(n=0;n<o.length;n++)a.push(e[o[n]]);this.color=h(a)}if(a[this.model])for(u=i[this.model].channels,n=0;n<u;n++){const e=a[this.model][n];e&&(this.color[n]=e(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in r.to?this:this.rgb();t=t.round("number"===typeof e?e:1);const n=1===t.valpha?t.color:[...t.color,this.valpha];return r.to[t.model](n)},percentString(e){const t=this.rgb().round("number"===typeof e?e:1),n=1===t.valpha?t.color:[...t.color,this.valpha];return r.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=i[this.model],{labels:n}=i[this.model];for(let r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new l([...this.color.map(u(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new l([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:c("rgb",0,d(255)),green:c("rgb",1,d(255)),blue:c("rgb",2,d(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(e=>(e%360+360)%360)),saturationl:c("hsl",1,d(100)),lightness:c("hsl",2,d(100)),saturationv:c("hsv",1,d(100)),value:c("hsv",2,d(100)),chroma:c("hcg",1,d(100)),gray:c("hcg",2,d(100)),white:c("hwb",1,d(100)),wblack:c("hwb",2,d(100)),cyan:c("cmyk",0,d(100)),magenta:c("cmyk",1,d(100)),yellow:c("cmyk",2,d(100)),black:c("cmyk",3,d(100)),x:c("xyz",0,d(95.047)),y:c("xyz",1,d(100)),z:c("xyz",2,d(108.833)),l:c("lab",0,d(100)),a:c("lab",1),b:c("lab",2),keyword(e){return void 0!==e?new l(e):i[this.model].keyword(this.color)},hex(e){return void 0!==e?new l(e):r.to.hex(this.rgb().round().color)},hexa(e){if(void 0!==e)return new l(e);const t=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),r.to.hex(t)+n},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[n,r]of e.entries()){const e=r/255;t[n]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,o=2*i-1,s=n.alpha()-r.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,u=1-a;return l.rgb(a*n.red()+u*r.red(),a*n.green()+u*r.green(),a*n.blue()+u*r.blue(),n.alpha()*i+r.alpha()*(1-i))}};for(const f of Object.keys(i)){if(o.includes(f))continue;const{channels:e}=i[f];l.prototype[f]=function(...e){return this.model===f?new l(this):e.length>0?new l(e,f):new l([...(t=i[this.model][f].raw(this.color),Array.isArray(t)?t:[t]),this.valpha],f);var t},l[f]=function(...t){let n=t[0];return"number"===typeof n&&(n=h(t,e)),new l(n,f)}}function u(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function c(e,t,n){e=Array.isArray(e)?e:[e];for(const r of e)(a[r]||(a[r]=[]))[t]=n;return e=e[0],function(r){let i;return void 0!==r?(n&&(r=n(r)),i=this[e](),i.color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function h(e,t){for(let n=0;n<t;n++)"number"!==typeof e[n]&&(e[n]=0);return e}e.exports=l},9729:(e,t,n)=>{const r=n(4127),i={};for(const s of Object.keys(r))i[r[s]]=s;const o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=o;for(const s of Object.keys(o)){if(!("channels"in o[s]))throw new Error("missing channels property: "+s);if(!("labels"in o[s]))throw new Error("missing channel labels property: "+s);if(o[s].labels.length!==o[s].channels)throw new Error("channel and label counts mismatch: "+s);const{channels:e,labels:t}=o[s];delete o[s].channels,delete o[s].labels,Object.defineProperty(o[s],"channels",{value:e}),Object.defineProperty(o[s],"labels",{value:t})}o.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=o-i;let a,l;o===i?a=0:t===o?a=(n-r)/s:n===o?a=2+(r-t)/s:r===o&&(a=4+(t-n)/s),a=Math.min(60*a,360),a<0&&(a+=360);const u=(i+o)/2;return l=o===i?0:u<=.5?s/(o+i):s/(2-o-i),[a,100*l,100*u]},o.rgb.hsv=function(e){let t,n,r,i,o;const s=e[0]/255,a=e[1]/255,l=e[2]/255,u=Math.max(s,a,l),c=u-Math.min(s,a,l),d=function(e){return(u-e)/6/c+.5};return 0===c?(i=0,o=0):(o=c/u,t=d(s),n=d(a),r=d(l),s===u?i=r-n:a===u?i=1/3+t-r:l===u&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*u]},o.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const i=o.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[i,100*s,100*r]},o.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(1-t,1-n,1-r);return[100*((1-t-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*i]},o.rgb.keyword=function(e){const t=i[e];if(t)return t;let n,o=1/0;for(const i of Object.keys(r)){const t=r[i],l=(a=t,((s=e)[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2);l<o&&(o=l,n=i)}var s,a;return n},o.keyword.rgb=function(e){return r[e]},o.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;return[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},o.rgb.lab=function(e){const t=o.rgb.xyz(e);let n=t[0],r=t[1],i=t[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*r-16,500*(n-r),200*(r-i)]},o.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let i,o,s;if(0===n)return s=255*r,[s,s,s];i=r<.5?r*(1+n):r+n-r*n;const a=2*r-i,l=[0,0,0];for(let u=0;u<3;u++)o=t+1/3*-(u-1),o<0&&o++,o>1&&o--,s=6*o<1?a+6*(i-a)*o:2*o<1?i:3*o<2?a+(i-a)*(2/3-o)*6:a,l[u]=255*s;return l},o.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,i=n;const o=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=o<=1?o:2-o;return[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},o.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const i=Math.floor(t)%6,o=t-Math.floor(t),s=255*r*(1-n),a=255*r*(1-n*o),l=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,l,s];case 1:return[a,r,s];case 2:return[s,r,l];case 3:return[s,a,r];case 4:return[l,s,r];case 5:return[r,s,a]}},o.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let o,s;s=(2-n)*r;const a=(2-n)*i;return o=n*i,o/=a<=1?a:2-a,o=o||0,s/=2,[t,100*o,100*s]},o.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const i=n+r;let o;i>1&&(n/=i,r/=i);const s=Math.floor(6*t),a=1-r;o=6*t-s,0!==(1&s)&&(o=1-o);const l=n+o*(a-n);let u,c,d;switch(s){default:case 6:case 0:u=a,c=l,d=n;break;case 1:u=l,c=a,d=n;break;case 2:u=n,c=a,d=l;break;case 3:u=n,c=l,d=a;break;case 4:u=l,c=n,d=a;break;case 5:u=a,c=n,d=l}return[255*u,255*c,255*d]},o.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},o.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let i,o,s;return i=3.2406*t+-1.5372*n+-.4986*r,o=-.9689*t+1.8758*n+.0415*r,s=.0557*t+-.204*n+1.057*r,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[255*i,255*o,255*s]},o.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*n-16,500*(t-n),200*(n-r)]},o.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const i=n**3,o=t**3,s=r**3;return n=i>.008856?i:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},o.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let i;i=360*Math.atan2(r,n)/2/Math.PI,i<0&&(i+=360);return[t,Math.sqrt(n*n+r*r),i]},o.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},o.rgb.ansi16=function(e,t=null){const[n,r,i]=e;let s=null===t?o.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===s&&(a+=60),a},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];if(t===n&&n===r)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},o.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},o.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},o.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map((e=>e+e)).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},o.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(Math.max(t,n),r),o=Math.min(Math.min(t,n),r),s=i-o;let a,l;return a=s<1?o/(1-s):0,l=s<=0?0:i===t?(n-r)/s%6:i===n?2+(r-t)/s:4+(t-n)/s,l/=6,l%=1,[360*l,100*s,100*a]},o.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},o.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},o.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];const i=[0,0,0],o=t%1*6,s=o%1,a=1-s;let l=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-n)*r,[255*(n*i[0]+l),255*(n*i[1]+l),255*(n*i[2]+l)]},o.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},o.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},o.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},o.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=function(e){return[0,0,e[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},294:(e,t,n)=>{const r=n(9729),i=n(4100),o={};Object.keys(r).forEach((e=>{o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});const t=i(e);Object.keys(t).forEach((n=>{const r=t[n];o[e][n]=function(e){const t=function(...t){const n=t[0];if(void 0===n||null===n)return n;n.length>1&&(t=n);const r=e(t);if("object"===typeof r)for(let e=r.length,i=0;i<e;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){const t=function(...t){const n=t[0];return void 0===n||null===n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=o},4100:(e,t,n)=>{const r=n(9729);function i(e){const t=function(){const e={},t=Object.keys(r);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),i=Object.keys(r[e]);for(let r=i.length,o=0;o<r;o++){const r=i[o],s=t[r];-1===s.distance&&(s.distance=t[e].distance+1,s.parent=e,n.unshift(r))}}return t}function o(e,t){return function(n){return t(e(n))}}function s(e,t){const n=[t[e].parent,e];let i=r[t[e].parent][e],s=t[e].parent;for(;t[s].parent;)n.unshift(t[s].parent),i=o(r[t[s].parent][s],i),s=t[s].parent;return i.conversion=n,i}e.exports=function(e){const t=i(e),n={},r=Object.keys(t);for(let i=r.length,o=0;o<i;o++){const e=r[o];null!==t[e].parent&&(n[e]=s(e,t))}return n}},4127:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},1144:function(e,t){var n,r,i;r=[],void 0===(i="function"===typeof(n=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e,t){return-1===e.indexOf(t)?e.length:e.indexOf(t)}function n(e){var n=e.replace(/^v/,"").replace(/\+.*$/,""),r=t(n,"-"),i=n.substring(0,r).split(".");return i.push(n.substring(r+1)),i}function r(e){return isNaN(Number(e))?e:Number(e)}function i(t){if("string"!==typeof t)throw new TypeError("Invalid argument expected string");if(!e.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function o(e,t){[e,t].forEach(i);for(var o=n(e),s=n(t),a=0;a<Math.max(o.length-1,s.length-1);a++){var l=parseInt(o[a]||0,10),u=parseInt(s[a]||0,10);if(l>u)return 1;if(u>l)return-1}var c=o[o.length-1],d=s[s.length-1];if(c&&d){var h=c.split(".").map(r),f=d.split(".").map(r);for(a=0;a<Math.max(h.length,f.length);a++){if(void 0===h[a]||"string"===typeof f[a]&&"number"===typeof h[a])return-1;if(void 0===f[a]||"string"===typeof h[a]&&"number"===typeof f[a])return 1;if(h[a]>f[a])return 1;if(f[a]>h[a])return-1}}else if(c||d)return c?-1:1;return 0}var s=[">",">=","=","<","<="],a={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};function l(e){if("string"!==typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===s.indexOf(e))throw new TypeError("Invalid operator, expected one of "+s.join("|"))}return o.validate=function(t){return"string"===typeof t&&e.test(t)},o.compare=function(e,t,n){l(n);var r=o(e,t);return a[n].indexOf(r)>-1},o})?n.apply(t,r):n)||(e.exports=i)},210:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return e.filter((function(t,n){return e.lastIndexOf(t)===n}))}function a(e){for(var t=0,n=arguments.length<=1?0:arguments.length-1;t<n;++t){var o=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];for(var l in o){var u=o[l],c=e[l];if(c&&u){if(Array.isArray(c)){e[l]=s(c.concat(u));continue}if(Array.isArray(u)){e[l]=s([c].concat(i(u)));continue}if("object"===r(u)){e[l]=a({},c,u);continue}}e[l]=u}}return e}n.r(t),n.d(t,{assignStyle:()=>a,camelCaseProperty:()=>h,cssifyDeclaration:()=>g,cssifyObject:()=>m,hyphenateProperty:()=>p,isPrefixedProperty:()=>y,isPrefixedValue:()=>b,isUnitlessProperty:()=>P,normalizeProperty:()=>D,resolveArrayValue:()=>L,unprefixProperty:()=>N,unprefixValue:()=>F});var l=/-([a-z])/g,u=/^Ms/g,c={};function d(e){return e[1].toUpperCase()}function h(e){if(c.hasOwnProperty(e))return c[e];var t=e.replace(l,d).replace(u,"ms");return c[e]=t,t}var f=n(4290);function p(e){return(0,f.default)(e)}function g(e,t){return p(e)+":"+t}function m(e){var t="";for(var n in e){var r=e[n];"string"!==typeof r&&"number"!==typeof r||(t&&(t+=";"),t+=g(n,r))}return t}var v=/^(Webkit|Moz|O|ms)/;function y(e){return v.test(e)}var _=/-webkit-|-moz-|-ms-/;function b(e){return"string"===typeof e&&_.test(e)}var w={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineClamp","order"],k=["Webkit","ms","Moz","O"];function E(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)}for(var C=0,I=S.length;C<I;++C){var T=S[C];w[T]=!0;for(var R=0,x=k.length;R<x;++R)w[E(k[R],T)]=!0}for(var O in w)w[p(O)]=!0;function P(e){return w.hasOwnProperty(e)}var A=/^(ms|Webkit|Moz|O)/;function N(e){var t=e.replace(A,"");return t.charAt(0).toLowerCase()+t.slice(1)}function D(e){return N(h(e))}function L(e,t){return t.join(";"+p(e)+":")}var M=/(-ms-|-webkit-|-moz-|-o-)/g;function F(e){return"string"===typeof e?e.replace(M,""):e}},6943:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e)};var r,i=n(4290),o=(r=i)&&r.__esModule?r:{default:r}},8921:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/},5073:e=>{"use strict";var t="%[a-f0-9]{2}",n=new RegExp("("+t+")|([^%]+?)","gi"),r=new RegExp("("+t+")+","gi");function i(e,t){try{return[decodeURIComponent(e.join(""))]}catch(o){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n)||[],r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},i=r.exec(e);i;){try{n[i[0]]=decodeURIComponent(i[0])}catch(t){var s=o(i[0]);s!==i[0]&&(n[i[0]]=s)}i=r.exec(e)}n["%C2"]="\ufffd";for(var a=Object.keys(n),l=0;l<a.length;l++){var u=a[l];e=e.replace(new RegExp(u,"g"),n[u])}return e}(e)}}},7901:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}},646:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},351:e=>{"use strict";var t=function(e){};e.exports=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(t(n),!e){var s;if(void 0===n)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(s=new Error(n.replace(/%s/g,(function(){return String(i[a++])})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},2142:(e,t,n)=>{"use strict";var r=n(646);e.exports=r},3163:e=>{"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),o=0;o<r.length;o++){var s=r[o],a=e[s];(i?-1!==t.indexOf(s):t(s,a,e))&&(n[s]=a)}return n}},2003:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(e)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function r(e,t){e.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.g.offsetWidth,n=t+100;return e.j.style.width=n+"px",e.i.scrollLeft=n,e.h.scrollLeft=e.h.scrollWidth+100,e.l!==t&&(e.l=t,!0)}function o(e,n){function r(){var e=o;i(e)&&null!==e.g.parentNode&&n(e.l)}var o=e;t(e.h,r),t(e.i,r),i(e)}function s(e,t,n){t=t||{},n=n||window,this.family=e,this.style=t.style||"normal",this.weight=t.weight||"normal",this.stretch=t.stretch||"normal",this.context=n}var a=null,l=null,u=null,c=null;function d(e){return null===c&&(c=!!e.document.fonts),c}function h(e,t){var n=e.style,r=e.weight;if(null===u){var i=document.createElement("div");try{i.style.font="condensed 100px sans-serif"}catch(o){}u=""!==i.style.font}return[n,r,u?e.stretch:"","100px",t].join(" ")}s.prototype.load=function(e,t){var i=this,s=e||"BESbswy",u=0,c=t||3e3,f=(new Date).getTime();return new Promise((function(e,t){if(d(i.context)&&!function(e){return null===l&&(d(e)&&/Apple/.test(window.navigator.vendor)?(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!e&&603>parseInt(e[1],10)):l=!1),l}(i.context)){var p=new Promise((function(e,t){!function n(){(new Date).getTime()-f>=c?t(Error(c+"ms timeout exceeded")):i.context.document.fonts.load(h(i,'"'+i.family+'"'),s).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),g=new Promise((function(e,t){u=setTimeout((function(){t(Error(c+"ms timeout exceeded"))}),c)}));Promise.race([g,p]).then((function(){clearTimeout(u),e(i)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function l(){var t;(t=-1!=m&&-1!=v||-1!=m&&-1!=y||-1!=v&&-1!=y)&&((t=m!=v&&m!=y&&v!=y)||(null===a&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=a&&(m==_&&v==_&&y==_||m==b&&v==b&&y==b||m==w&&v==w&&y==w)),t=!t),t&&(null!==S.parentNode&&S.parentNode.removeChild(S),clearTimeout(u),e(i))}var d=new n(s),p=new n(s),g=new n(s),m=-1,v=-1,y=-1,_=-1,b=-1,w=-1,S=document.createElement("div");S.dir="ltr",r(d,h(i,"sans-serif")),r(p,h(i,"serif")),r(g,h(i,"monospace")),S.appendChild(d.g),S.appendChild(p.g),S.appendChild(g.g),i.context.document.body.appendChild(S),_=d.g.offsetWidth,b=p.g.offsetWidth,w=g.g.offsetWidth,function e(){if((new Date).getTime()-f>=c)null!==S.parentNode&&S.parentNode.removeChild(S),t(Error(c+"ms timeout exceeded"));else{var n=i.context.document.hidden;!0!==n&&void 0!==n||(m=d.g.offsetWidth,v=p.g.offsetWidth,y=g.g.offsetWidth,l()),u=setTimeout(e,50)}}(),o(d,(function(e){m=e,l()})),r(d,h(i,'"'+i.family+'",sans-serif')),o(p,(function(e){v=e,l()})),r(p,h(i,'"'+i.family+'",serif')),o(g,(function(e){y=e,l()})),r(g,h(i,'"'+i.family+'",monospace'))}))}))},e.exports=s}()},4290:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=/[A-Z]/g,i=/^ms-/,o={};function s(e){return"-"+e.toLowerCase()}const a=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(r,s);return o[e]=i.test(t)?"-"+t:t}},302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,n=e.plugins;return function e(a){for(var l in a){var u=a[l];if((0,s.default)(u))a[l]=e(u);else if(Array.isArray(u)){for(var c=[],d=0,h=u.length;d<h;++d){var f=(0,i.default)(n,l,u[d],a,t);(0,o.default)(c,f||u[d])}c.length>0&&(a[l]=c)}else{var p=(0,i.default)(n,l,u,a,t);p&&(a[l]=p),a=(0,r.default)(t,l,a)}}return a}};var r=a(n(6576)),i=a(n(8572)),o=a(n(4741)),s=a(n(9933));function a(e){return e&&e.__esModule?e:{default:e}}},9907:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return null}},1156:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,r.isPrefixedValue)(t)&&-1!==t.indexOf("cross-fade("))return o.map((function(e){return t.replace(i,e+"cross-fade(")}))};var r=n(210),i=/cross-fade\(/g,o=["-webkit-",""]},6845:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&r.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}},9462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,r.isPrefixedValue)(t)&&-1!==t.indexOf("filter("))return o.map((function(e){return t.replace(i,e+"filter(")}))};var r=n(210),i=/filter\(/g,o=["-webkit-",""]},1848:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,o.default)(t)&&t.indexOf("image-set(")>-1)return s.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,i=n(8921),o=(r=i)&&r.__esModule?r:{default:r};var s=["-webkit-",""]},3161:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(Object.prototype.hasOwnProperty.call(n,e))for(var i=n[e],o=0,s=i.length;o<s;++o)r[i[o]]=t};var n={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},7435:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},4325:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(r.hasOwnProperty(e)&&i.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},4338:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,s){if("string"===typeof t&&a.hasOwnProperty(e)){var u=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),o=0,s=n.length;o<s;++o){var a=n[o],u=[a];for(var c in t){var d=(0,r.default)(c);if(a.indexOf(d)>-1&&"order"!==d)for(var h=t[c],f=0,p=h.length;f<p;++f)u.unshift(a.replace(d,l[h[f]]+d))}n[o]=u.join(",")}return n.join(",")}(t,s),c=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return c;var d=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?d:(n["Webkit"+(0,o.default)(e)]=c,n["Moz"+(0,o.default)(e)]=d,u)}};var r=s(n(6943)),i=s(n(8921)),o=s(n(7886));function s(e){return e&&e.__esModule?e:{default:e}}var a={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},l={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},4741:(e,t)=>{"use strict";function n(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)}},7886:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},9933:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}},6576:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=e[t];if(r&&n.hasOwnProperty(t))for(var i=(0,o.default)(t),s=0;s<r.length;++s){var a=r[s]+i;n[a]||(n[a]=n[t])}return n};var r,i=n(7886),o=(r=i)&&r.__esModule?r:{default:r}},8572:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var o=0,s=e.length;o<s;++o){var a=e[o](t,n,r,i);if(a)return a}}},3387:e=>{"use strict";e.exports=function(e,t,n,r,i,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,s,a],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},6415:e=>{"use strict";function t(e,t){if(null!=e)return e;var n=new Error(void 0!==t?t:"Got unexpected "+e);throw n.framesToPop=1,n}e.exports=t,e.exports.default=t,Object.defineProperty(e.exports,"__esModule",{value:!0})},9042:e=>{"use strict";function t(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",i=0):i=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,a):r=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(r=s+"/"+r,i=47===s.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,s=o-i,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var l=n.length-a,u=s<l?s:l,c=-1,d=0;d<=u;++d){if(d===u){if(l>u){if(47===n.charCodeAt(a+d))return n.slice(a+d+1);if(0===d)return n.slice(a+d)}else s>u&&(47===e.charCodeAt(i+d)?c=d:0===d&&(c=0));break}var h=e.charCodeAt(i+d);if(h!==n.charCodeAt(a+d))break;47===h&&(c=d)}var f="";for(d=i+c+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===f.length?f+="..":f+="/..");return f.length>0?f+n.slice(a+c):(a+=c,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(n=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!==typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,o=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,l=-1;for(r=e.length-1;r>=0;--r){var u=e.charCodeAt(r);if(47===u){if(!s){i=r+1;break}}else-1===l&&(s=!1,l=r+1),a>=0&&(u===n.charCodeAt(a)?-1===--a&&(o=r):(a=-1,o=l))}return i===o?o=l:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!s){i=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47!==l)-1===i&&(o=!1,i=a+1),46===l?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!o){r=a+1;break}}return-1===n||-1===i||0===s||1===s&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var s=-1,a=0,l=-1,u=!0,c=e.length-1,d=0;c>=r;--c)if(47!==(i=e.charCodeAt(c)))-1===l&&(u=!1,l=c+1),46===i?-1===s?s=c:1!==d&&(d=1):-1!==s&&(d=-1);else if(!u){a=c+1;break}return-1===s||-1===l||0===d||1===d&&s===l-1&&s===a+1?-1!==l&&(n.base=n.name=0===a&&o?e.slice(1,l):e.slice(a,l)):(0===a&&o?(n.name=e.slice(1,s),n.base=e.slice(1,l)):(n.name=e.slice(a,s),n.base=e.slice(a,l)),n.ext=e.slice(s,l)),a>0?n.dir=e.slice(0,a-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},6857:(e,t,n)=>{"use strict";const r=n(2757),i=n(5073),o=n(2514),s=n(3163),a=Symbol("encodeFragmentIdentifier");function l(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function c(e,t){return t.decode?i(e):e}function d(e){return Array.isArray(e)?e.sort():"object"===typeof e?d(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function h(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){const t=(e=h(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function g(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return(e,n,r)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"===typeof n&&n.includes(e.arrayFormatSeparator),o="string"===typeof n&&!i&&c(n,e).includes(e.arrayFormatSeparator);n=o?c(n,e):n;const s=i||o?n.split(e.arrayFormatSeparator).map((t=>c(t,e))):null===n?n:c(n,e);r[t]=s};case"bracket-separator":return(t,n,r)=>{const i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i)return void(r[t]=n?c(n,e):n);const o=null===n?[]:n.split(e.arrayFormatSeparator).map((t=>c(t,e)));void 0!==r[t]?r[t]=[].concat(r[t],o):r[t]=o};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!==typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){if(""===i)continue;let[e,s]=o(t.decode?i.replace(/\+/g," "):i,"=");s=void 0===s?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?s:c(s,t),n(c(e,t),s,r)}for(const i of Object.keys(r)){const e=r[i];if("object"===typeof e&&null!==e)for(const n of Object.keys(e))e[n]=p(e[n],t);else r[i]=p(e,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=d(n):e[t]=n,e}),Object.create(null))}t.extract=f,t.parse=g,t.stringify=(e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>{return t.skipNull&&(null===(r=e[n])||void 0===r)||t.skipEmptyString&&""===e[n];var r},r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[",i,"]"].join("")]:[...n,[u(t,e),"[",u(i,e),"]=",u(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[]"].join("")]:[...n,[u(t,e),"[]=",u(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),":list="].join("")]:[...n,[u(t,e),":list=",u(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:(i=null===i?"":i,0===r.length?[[u(n,e),t,u(i,e)].join("")]:[[r,u(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,u(t,e)]:[...n,[u(t,e),"=",u(r,e)].join("")]}}(t),i={};for(const s of Object.keys(e))n(s)||(i[s]=e[s]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map((n=>{const i=e[n];return void 0===i?"":null===i?u(n,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?u(n,t)+"[]":i.reduce(r(n),[]).join("&"):u(n,t)+"="+u(i,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:g(f(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:c(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0,[a]:!0},n);const r=h(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),s=Object.assign(o,e.query);let l=t.stringify(s,n);l&&(l=`?${l}`);let c=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c=`#${n[a]?u(e.fragmentIdentifier,n):e.fragmentIdentifier}`),`${r}${l}${c}`},t.pick=(e,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[a]:!1},r);const{url:i,query:o,fragmentIdentifier:l}=t.parseUrl(e,r);return t.stringifyUrl({url:i,query:s(o,n),fragmentIdentifier:l},r)},t.exclude=(e,n,r)=>{const i=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,i,r)}},1907:(e,t)=>{"use strict";var n=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function i(e){try{return encodeURIComponent(e)}catch(t){return null}}t.stringify=function(e,t){t=t||"";var r,o,s=[];for(o in"string"!==typeof t&&(t="?"),e)if(n.call(e,o)){if((r=e[o])||null!==r&&undefined!==r&&!isNaN(r)||(r=""),o=i(o),r=i(r),null===o||null===r)continue;s.push(o+"="+r)}return s.length?t+s.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,i={};t=n.exec(e);){var o=r(t[1]),s=r(t[2]);null===o||null===s||o in i||(i[o]=s)}return i}},7609:(e,t,n)=>{"use strict";var r=n(9),i=n(82);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case C:return"Profiler";case E:return"StrictMode";case x:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function Ce(e){if(e=_i(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function Ie(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Te(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Re(e,t){return e(t)}function xe(){}var Oe=!1;function Pe(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Re(e,t,n)}finally{Oe=!1,(null!==ke||null!==Ee)&&(xe(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Ne=!1}function Le(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,o,s,a,l){Me=!1,Fe=null,Le.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,Et,Ct,It=!1,Tt=[],Rt=null,xt=null,Ot=null,Pt=new Map,At=new Map,Nt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Ct(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){It=!1,null!==Rt&&jt(Rt)&&(Rt=null),null!==xt&&jt(xt)&&(xt=null),null!==Ot&&jt(Ot)&&(Ot=null),Pt.forEach(Vt),At.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Rt&&Bt(Rt,e),null!==xt&&Bt(xt,e),null!==Ot&&Bt(Ot,e),Pt.forEach(t),At.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Nt.shift()}var zt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=_t,o=zt.transition;zt.transition=null;try{_t=1,Kt(e,t,n,r)}finally{_t=i,zt.transition=o}}function $t(e,t,n,r){var i=_t,o=zt.transition;zt.transition=null;try{_t=4,Kt(e,t,n,r)}finally{_t=i,zt.transition=o}}function Kt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Rt=Mt(Rt,e,t,n,r,i),!0;case"dragenter":return xt=Mt(xt,e,t,n,r,i),!0;case"mouseover":return Ot=Mt(Ot,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,At.set(o,Mt(At.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=_i(i);if(null!==o&&wt(o),null===(o=Qt(e,t,n,r))&&Hr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=F({},un,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),gn=on(F({},fn,{dataTransfer:0})),mn=on(F({},dn,{relatedTarget:0})),vn=on(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(yn),bn=on(F({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return En}var In=F({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(In),Rn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=on(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Pn),Nn=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=$r(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Kn=null;function Gn(e){jr(e,0)}function Qn(e){if(K(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Kn=$n=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function or(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var s=cr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=$r(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Er={};function Cr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ir=Cr("animationend"),Tr=Cr("animationiteration"),Rr=Cr("animationstart"),xr=Cr("transitionend"),Or=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Or.set(e,t),l(t,[e])}for(var Nr=0;Nr<Pr.length;Nr++){var Dr=Pr[Nr];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(Ir,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Rr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(xr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,u){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var c=Fe;Me=!1,Fe=null,je||(je=!0,Ve=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,u),o=l}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=$t;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=o,i=we(n),s=[];e:{var a=Or.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=xn;break;case Ir:case Tr:case Rr:l=vn;break;case xr:l=On;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Ae(p,h))&&c.push(Wr(p,g,f)))),d)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Rn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:bi(l),f=null==u?a:bi(u),(a=new c(g,p+"leave",l,n,i)).target=d,a.relatedTarget=f,g=null,yi(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Kr(f))p++;for(f=0,g=h;g;g=Kr(g))f++;for(;0<p-f;)c=Kr(c),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==l&&Gr(s,a,l,c,!1),null!==u&&null!==d&&Gr(s,d,u,c,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Yn;else if(Hn(a))if(Xn)m=sr;else{m=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=or);switch(m&&(m=m(e,r))?Wn(s,m,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else qn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==_?"onCompositionEnd"===_&&qn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(v=$r(r,_)).length&&(_=new bn(_,e,null,n,i),s.push({event:_,listeners:v}),y?_.data=y:null!==(y=Bn(n))&&(_.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}jr(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Ae(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ae(n,o))&&s.unshift(Wr(n,l,a)):i||null!=(l=Ae(n,o))&&s.push(Wr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var Si=[],ki=-1;function Ei(e){return{current:e}}function Ci(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function Ii(e,t){ki++,Si[ki]=e.current,e.current=t}var Ti={},Ri=Ei(Ti),xi=Ei(!1),Oi=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){Ci(xi),Ci(Ri)}function Di(e,t,n){if(Ri.current!==Ti)throw Error(o(168));Ii(Ri,t),Ii(xi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Oi=Ri.current,Ii(Ri,e),Ii(xi,xi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ci(xi),Ci(Ri),Ii(Ri,e)):Ci(xi),Ii(xi,n)}var ji=null,Vi=!1,Ui=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function qi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=_t;try{var n=ji;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Ze,qi),i}finally{_t=t,Ui=!1}}return null}var zi=[],Hi=0,Wi=null,$i=0,Ki=[],Gi=0,Qi=null,Yi=1,Xi="";function Ji(e,t){zi[Hi++]=$i,zi[Hi++]=Wi,Wi=e,$i=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Wi;)Wi=zi[--Hi],zi[Hi]=null,$i=zi[--Hi],zi[Hi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Au(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Au(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=b.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ei(null),_o=null,bo=null,wo=null;function So(){wo=bo=_o=null}function ko(e){var t=yo.current;Ci(yo),e._currentValue=t}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){_o=e,wo=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===_o)throw Error(o(308));bo=e,_o.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var To=null;function Ro(e){null===To?To=[e]:To.push(e)}function xo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ro(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&xl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return null===(i=r.interleaved)?(t.next=t,Ro(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,c=u=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Po=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=d}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(ru(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(ru(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(ru(t,e,r,n),Mo(t,e,r))}};function zo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Ho(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Ai(t)?Oi:Ri.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function $o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Ao(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Ai(t)?Oi:Ri.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case S:return(t=Vu(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mu(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function g(i,o,a,l){for(var u=null,c=null,d=o,g=o=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,a[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,g),null===c?u=v:c.sibling=v,c=v,d=m}if(g===a.length)return n(i,d),io&&Ji(i,g),u;if(null===d){for(;g<a.length;g++)null!==(d=h(i,a[g],l))&&(o=s(d,o,g),null===c?u=d:c.sibling=d,c=d);return io&&Ji(i,g),u}for(d=r(i,d);g<a.length;g++)null!==(m=p(d,i,g,a[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=s(m,o,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}function m(i,a,l,u){var c=L(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var _=f(i,g,y.value,u);if(null===_){null===g&&(g=v);break}e&&g&&null===_.alternate&&t(i,g),a=s(_,a,m),null===d?c=_:d.sibling=_,d=_,g=v}if(y.done)return n(i,g),io&&Ji(i,m),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,u))&&(a=s(y,a,m),null===d?c=y:d.sibling=y,d=y);return io&&Ji(i,m),c}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=s(y,a,m),null===d?c=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var u=s.key,c=o;null!==c;){if(c.key===u){if((u=s.type)===k){if(7===c.tag){n(r,c.sibling),(o=i(c,s.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===A&&Qo(u)===c.type){n(r,c.sibling),(o=i(c,s.props)).ref=Ko(r,c,s),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===k?((o=Mu(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Lu(s.type,s.key,s.props,null,r.mode,l)).ref=Ko(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Vu(s,r.mode,l)).return=r,r=o}return a(r);case A:return e(r,o,(c=s._init)(s._payload),l)}if(te(s))return g(r,o,s,l);if(L(s))return m(r,o,s,l);Go(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=ju(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Xo=Yo(!0),Jo=Yo(!1),Zo={},es=Ei(Zo),ts=Ei(Zo),ns=Ei(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function is(e,t){switch(Ii(ns,t),Ii(ts,e),Ii(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(es),Ii(es,t)}function os(){Ci(es),Ci(ts),Ci(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ii(ts,e),Ii(es,n))}function as(e){ts.current===e&&(Ci(es),Ci(ts))}var ls=Ei(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cs=[];function ds(){for(var e=0;e<cs.length;e++)cs[e]._workInProgressVersionPrimary=null;cs.length=0}var hs=b.ReactCurrentDispatcher,fs=b.ReactCurrentBatchConfig,ps=0,gs=null,ms=null,vs=null,ys=!1,_s=!1,bs=0,ws=0;function Ss(){throw Error(o(321))}function ks(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Es(e,t,n,r,i,s){if(ps=s,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),_s){s=0;do{if(_s=!1,bs=0,25<=s)throw Error(o(301));s+=1,vs=ms=null,t.updateQueue=null,hs.current=ua,e=n(r,i)}while(_s)}if(hs.current=sa,t=null!==ms&&null!==ms.next,ps=0,vs=ms=gs=null,ys=!1,t)throw Error(o(300));return e}function Cs(){var e=0!==bs;return bs=0,e}function Is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?gs.memoizedState=vs=e:vs=vs.next=e,vs}function Ts(){if(null===ms){var e=gs.alternate;e=null!==e?e.memoizedState:null}else e=ms.next;var t=null===vs?gs.memoizedState:vs.next;if(null!==t)vs=t,ms=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ms=e).memoizedState,baseState:ms.baseState,baseQueue:ms.baseQueue,queue:ms.queue,next:null},null===vs?gs.memoizedState=vs=e:vs=vs.next=e}return vs}function Rs(e,t){return"function"===typeof t?t(e):t}function xs(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ms,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,u=null,c=s;do{var d=c.lane;if((ps&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,a=r):u=u.next=h,gs.lanes|=d,Fl|=d}c=c.next}while(null!==c&&c!==s);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,gs.lanes|=s,Fl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Os(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ps(){}function As(e,t){var n=gs,r=Ts(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Hs(Ls.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Vs(9,Ds.bind(null,n,r,i,t),void 0,null),null===Ol)throw Error(o(349));0!==(30&ps)||Ns(n,t,i)}return i}function Ns(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ds(e,t,n,r){t.value=n,t.getSnapshot=r,Ms(t)&&Fs(e)}function Ls(e,t,n){return n((function(){Ms(t)&&Fs(e)}))}function Ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fs(e){var t=Oo(e,1);null!==t&&ru(t,e,1,-1)}function js(e){var t=Is();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,gs,e),[t.memoizedState,e]}function Vs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Us(){return Ts().memoizedState}function Bs(e,t,n,r){var i=Is();gs.flags|=e,i.memoizedState=Vs(1|t,n,void 0,void 0===r?null:r)}function qs(e,t,n,r){var i=Ts();r=void 0===r?null:r;var o=void 0;if(null!==ms){var s=ms.memoizedState;if(o=s.destroy,null!==r&&ks(r,s.deps))return void(i.memoizedState=Vs(t,n,o,r))}gs.flags|=e,i.memoizedState=Vs(1|t,n,o,r)}function zs(e,t){return Bs(8390656,8,e,t)}function Hs(e,t){return qs(2048,8,e,t)}function Ws(e,t){return qs(4,2,e,t)}function $s(e,t){return qs(4,4,e,t)}function Ks(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qs(4,4,Ks.bind(null,t,e),n)}function Qs(){}function Ys(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),gs.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zs(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{_t=n,fs.transition=r}}function ea(){return Ts().memoizedState}function ta(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=xo(e,t,n,r))){ru(n,e,r,tu()),oa(n,t,r)}}function na(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Ro(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=xo(e,t,i,r))&&(ru(n,e,r,i=tu()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===gs||null!==t&&t===gs}function ia(e,t){_s=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:Io,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},aa={readContext:Io,useCallback:function(e,t){return Is().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:zs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var n=Is();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Is();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,gs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Is().memoizedState=e},useState:js,useDebugValue:Qs,useDeferredValue:function(e){return Is().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=Zs.bind(null,e[1]),Is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gs,i=Is();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ol)throw Error(o(349));0!==(30&ps)||Ns(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,zs(Ls.bind(null,r,s,e),[e]),r.flags|=2048,Vs(9,Ds.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Is(),t=Ol.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=bs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ws++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Io,useCallback:Ys,useContext:Io,useEffect:Hs,useImperativeHandle:Gs,useInsertionEffect:Ws,useLayoutEffect:$s,useMemo:Xs,useReducer:xs,useRef:Us,useState:function(){return xs(Rs)},useDebugValue:Qs,useDeferredValue:function(e){return Js(Ts(),ms.memoizedState,e)},useTransition:function(){return[xs(Rs)[0],Ts().memoizedState]},useMutableSource:Ps,useSyncExternalStore:As,useId:ea,unstable_isNewReconciler:!1},ua={readContext:Io,useCallback:Ys,useContext:Io,useEffect:Hs,useImperativeHandle:Gs,useInsertionEffect:Ws,useLayoutEffect:$s,useMemo:Xs,useReducer:Os,useRef:Us,useState:function(){return Os(Rs)},useDebugValue:Qs,useDeferredValue:function(e){var t=Ts();return null===ms?t.memoizedState=e:Js(t,ms.memoizedState,e)},useTransition:function(){return[Os(Rs)[0],Ts().memoizedState]},useMutableSource:Ps,useSyncExternalStore:As,useId:ea,unstable_isNewReconciler:!1};function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,$l=r),ha(0,t)},n}function ga(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Iu.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _a=b.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=Es(e,t,n,r,o,i),n=Cs(),null===e||ba?(io&&n&&eo(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function ka(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Nu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ea(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Du(o,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ta(e,t,n,r,i)}function Ca(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Dl,Nl),Nl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Dl,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Dl,Nl),Nl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Dl,Nl),Nl|=r;return wa(e,t,i,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var o=Ai(n)?Oi:Ri.current;return o=Pi(t,o),Co(t,i),n=Es(e,t,n,r,o,i),r=Cs(),null===e||ba?(io&&r&&eo(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ra(e,t,n,r,i){if(Ai(n)){var o=!0;Mi(t)}else o=!1;if(Co(t,i),null===t.stateNode)Ha(e,t),Ho(t,n,r),$o(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Io(u):u=Pi(t,u=Ai(n)?Oi:Ri.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==u)&&Wo(t,s,r,u),Po=!1;var h=t.memoizedState;s.state=h,jo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||xi.current||Po?("function"===typeof c&&(Bo(t,n,c,r),l=t.memoizedState),(a=Po||zo(t,n,a,r,h,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,No(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:vo(t.type,a),s.props=u,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Io(l):l=Pi(t,l=Ai(n)?Oi:Ri.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Wo(t,s,r,l),Po=!1,h=t.memoizedState,s.state=h,jo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||xi.current||Po?("function"===typeof f&&(Bo(t,n,f,r),p=t.memoizedState),(u=Po||zo(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return xa(e,t,n,r,o,i)}function xa(e,t,n,r,i,o){Ia(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Wa(e,t,o);r=t.stateNode,_a.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Oa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),is(e,t.containerInfo)}function Pa(e,t,n,r,i){return po(),go(i),t.flags|=256,wa(e,t,n,r),t.child}var Aa,Na,Da,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ii(ls,1&s),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fu(l,i,0,null),e=Mu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):Va(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fu({mode:"visible",children:r.children},i,0,null),(s=Mu(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Ol)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Oo(e,i),ru(r,e,i,-1))}return mu(),Ua(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ru.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=Va(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Du(r,a):(a=Mu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Du(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Va(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&go(r),Xo(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function qa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qa(t,!0,n,null,o);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $a(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ai(t.type)&&Ni(),Ka(t),null;case 3:return r=t.stateNode,os(),Ci(xi),Ci(Ri),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Na(e,t),Ka(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,s),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vr("invalid",r);break;case"textarea":ie(r,s),Vr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":$(r),Z(r,s,!0);break;case"textarea":$(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Aa(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(s in ye(n,i),u=i)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?me(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Vr("scroll",e):null!=c&&_(e,s,c,l))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ci(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(au(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Ll&&(Ll=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return os(),Na(e,t),null===e&&qr(t.stateNode.containerInfo),Ka(t),null;case 10:return ko(t.type._context),Ka(t),null;case 19:if(Ci(ls),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)$a(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=us(e))){for(t.flags|=128,$a(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>zl&&(t.flags|=128,r=!0,$a(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=us(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$a(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ka(t),null}else 2*Xe()-s.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,$a(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=ls.current,Ii(ls,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Ai(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),Ci(xi),Ci(Ri),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(Ci(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ls),null;case 4:return os(),null;case 10:return ko(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Vr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Cu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),qt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xa&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cu(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=r):fl(e,t,n);break;default:fl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=xu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(s,a,i),dl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Cu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){Cu(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Cu(e,e.return,m)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Cu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(i,s),_e(l,a);var c=_e(l,s);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):_(i,d,h,c)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(m){Cu(e,e.return,m)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Cu(e,e.return,m)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Cu(e,e.return,m)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=Xe())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(c=Xa)||d,ml(t,e),Xa=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Za=e,d=e.child;null!==d;){for(h=Za=d;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Cu(r,n,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==p?(p.return=f,Za=p):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",a))}catch(m){Cu(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Cu(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&gl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ul(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){Cu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var u=Xa;if(Ya=s,(Xa=l)&&!u)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?kl(i):null!==l?(l.return=s,Za=l):kl(i);for(;null!==o;)Za=o,bl(o,t,n),o=o.sibling;Za=i,Ya=a,Xa=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):wl(e)}}function wl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Vo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&ol(t)}catch(f){Cu(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function kl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Cu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cu(t,i,l)}}var o=t.return;try{ol(t)}catch(l){Cu(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Cu(t,s,l)}}}catch(l){Cu(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var El,Cl=Math.ceil,Il=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Rl=b.ReactCurrentBatchConfig,xl=0,Ol=null,Pl=null,Al=0,Nl=0,Dl=Ei(0),Ll=0,Ml=null,Fl=0,jl=0,Vl=0,Ul=null,Bl=null,ql=0,zl=1/0,Hl=null,Wl=!1,$l=null,Kl=null,Gl=!1,Ql=null,Yl=0,Xl=0,Jl=null,Zl=-1,eu=0;function tu(){return 0!==(6&xl)?Xe():-1!==Zl?Zl:Zl=Xe()}function nu(e){return 0===(1&e.mode)?1:0!==(2&xl)&&0!==Al?Al&-Al:null!==mo.transition?(0===eu&&(eu=gt()),eu):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function ru(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));vt(e,n,r),0!==(2&xl)&&e===Ol||(e===Ol&&(0===(2&xl)&&(jl|=n),4===Ll&&lu(e,Al)),iu(e,r),1===n&&0===xl&&0===(1&t.mode)&&(zl=Xe()+500,Vi&&qi()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Ol?Al:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(uu.bind(null,e)):Bi(uu.bind(null,e)),si((function(){0===(6&xl)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ou(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Zl=-1,eu=0,0!==(6&xl))throw Error(o(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=ht(e,e===Ol?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var i=xl;xl|=2;var s=gu();for(Ol===e&&Al===t||(Hl=null,zl=Xe()+500,fu(e,t));;)try{_u();break}catch(l){pu(e,l)}So(),Il.current=s,xl=i,null!==Pl?t=0:(Ol=null,Al=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t)throw n=Ml,fu(e,0),lu(e,r),iu(e,Xe()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vu(e,r))&&(0!==(s=pt(e))&&(r=s,t=su(e,s))),1===t))throw n=Ml,fu(e,0),lu(e,r),iu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Su(e,Bl,Hl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=ql+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Su.bind(null,e,Bl,Hl),t);break}Su(e,Bl,Hl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(Su.bind(null,e,Bl,Hl),r);break}Su(e,Bl,Hl);break;default:throw Error(o(329))}}}return iu(e,Xe()),e.callbackNode===n?ou.bind(null,e):null}function su(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Bl,Bl=n,null!==t&&au(t)),e}function au(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lu(e,t){for(t&=~Vl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&xl))throw Error(o(327));ku();var t=ht(e,0);if(0===(1&t))return iu(e,Xe()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Ml,fu(e,0),lu(e,t),iu(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,Bl,Hl),iu(e,Xe()),null}function cu(e,t){var n=xl;xl|=1;try{return e(t)}finally{0===(xl=n)&&(zl=Xe()+500,Vi&&qi())}}function du(e){null!==Ql&&0===Ql.tag&&0===(6&xl)&&ku();var t=xl;xl|=1;var n=Rl.transition,r=_t;try{if(Rl.transition=null,_t=1,e)return e()}finally{_t=r,Rl.transition=n,0===(6&(xl=t))&&qi()}}function hu(){Nl=Dl.current,Ci(Dl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:os(),Ci(xi),Ci(Ri),ds();break;case 5:as(r);break;case 4:os();break;case 13:case 19:Ci(ls);break;case 10:ko(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Ol=e,Pl=e=Du(e.current,null),Al=Nl=t,Ll=0,Ml=null,Vl=jl=Fl=0,Bl=Ul=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}To=null}return e}function pu(e,t){for(;;){var n=Pl;try{if(So(),hs.current=sa,ys){for(var r=gs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(ps=0,vs=ms=gs=null,_s=!1,bs=0,Tl.current=null,null===n||null===n.return){Ll=1,Ml=t,Pl=null;break}e:{var s=e,a=n.return,l=n,u=t;if(t=Al,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(s,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){ma(s,c,t),mu();break e}u=Error(o(426))}else if(io&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),go(ca(u,l));break e}}s=u=ca(u,l),4!==Ll&&(Ll=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,pa(0,u,t));break e;case 1:l=u;var y=s.type,_=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Kl||!Kl.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ga(s,l,t));break e}}s=s.return}while(null!==s)}wu(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function gu(){var e=Il.current;return Il.current=sa,null===e?sa:e}function mu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Ol||0===(268435455&Fl)&&0===(268435455&jl)||lu(Ol,Al)}function vu(e,t){var n=xl;xl|=2;var r=gu();for(Ol===e&&Al===t||(Hl=null,fu(e,t));;)try{yu();break}catch(i){pu(e,i)}if(So(),xl=n,Il.current=r,null!==Pl)throw Error(o(261));return Ol=null,Al=0,Ll}function yu(){for(;null!==Pl;)bu(Pl)}function _u(){for(;null!==Pl&&!Qe();)bu(Pl)}function bu(e){var t=El(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?wu(e):Pl=t,Tl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Nl)))return void(Pl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Su(e,t,n){var r=_t,i=Rl.transition;try{Rl.transition=null,_t=1,function(e,t,n,r){do{ku()}while(null!==Ql);if(0!==(6&xl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Ol&&(Pl=Ol=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ou(tt,(function(){return ku(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Rl.transition,Rl.transition=null;var a=_t;_t=1;var l=xl;xl|=4,Tl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(u=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===i&&(l=a),f===s&&++d===r&&(u=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:vo(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){Cu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=nl,nl=!1}(e,n),vl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,_l(n,e,i),Ye(),xl=l,_t=a,Rl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=i),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=$l,$l=null,e;0!==(1&Yl)&&0!==e.tag&&ku(),s=e.pendingLanes,0!==(1&s)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,qi()}(e,t,n,r)}finally{Rl.transition=i,_t=r}return null}function ku(){if(null!==Ql){var e=bt(Yl),t=Rl.transition,n=_t;try{if(Rl.transition=null,_t=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&xl))throw Error(o(331));var i=xl;for(xl|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Za=c;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Za=h;else for(;null!==Za;){var f=(d=Za).sibling,p=d.return;if(sl(d),d===c){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var _=e.current;for(Za=_;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=_;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Cu(l,l.return,S)}if(l===a){Za=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Za=w;break e}Za=l.return}}if(xl=i,qi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{_t=n,Rl.transition=t}}return!1}function Eu(e,t,n){e=Lo(e,t=pa(0,t=ca(n,t),1),1),t=tu(),null!==e&&(vt(e,1,t),iu(e,t))}function Cu(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Lo(t,e=ga(t,e=ca(n,e),1),1),e=tu(),null!==t&&(vt(t,1,e),iu(t,e));break}}t=t.return}}function Iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Al&n)===n&&(4===Ll||3===Ll&&(130023424&Al)===Al&&500>Xe()-ql?fu(e,0):Vl|=n),iu(e,t)}function Tu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Oo(e,t))&&(vt(e,t,n),iu(e,n))}function Ru(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function xu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tu(e,n)}function Ou(e,t){return Ke(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Au(e,t,n,r){return new Pu(e,t,n,r)}function Nu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Au(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Nu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Mu(n.children,i,s,t);case E:a=8,i|=8;break;case C:return(e=Au(12,n,t,2|i)).elementType=C,e.lanes=s,e;case x:return(e=Au(13,n,t,i)).elementType=x,e.lanes=s,e;case O:return(e=Au(19,n,t,i)).elementType=O,e.lanes=s,e;case N:return Fu(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case T:a=9;break e;case R:a=11;break e;case P:a=14;break e;case A:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Au(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Mu(e,t,n,r){return(e=Au(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=Au(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function ju(e,t,n){return(e=Au(6,e,null,t)).lanes=n,e}function Vu(e,t,n){return(t=Au(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,i,o,s,a,l){return e=new Uu(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Au(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),e}function qu(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Li(e,n,t)}return t}function zu(e,t,n,r,i,o,s,a,l){return(e=Bu(n,r,!0,e,0,o,0,a,l)).context=qu(null),n=e.current,(o=Do(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,vt(e,i,r),iu(e,r),e}function Hu(e,t,n,r){var i=t.current,o=tu(),s=nu(i);return n=qu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,s))&&(ru(e,i,s,o),Mo(e,i,s)),s}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ku(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||xi.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Oa(t),po();break;case 5:ss(t);break;case 1:Ai(t.type)&&Mi(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Ii(ls,1&ls.current),null!==(e=Wa(e,t,n))?e.sibling:null);Ii(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&Zi(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Pi(t,Ri.current);Co(t,n),i=Es(null,t,r,e,i,n);var s=Cs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ao(t),i.updater=qo,t.stateNode=i,i._reactInternals=t,$o(t,r,e,n),t=xa(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===R)return 11;if(e===P)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ra(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Oa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,No(e,t),jo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Pa(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Wa(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&uo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ia(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&uo(t),null;case 13:return ja(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ii(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!xi.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Do(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Eo(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Eo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=Io(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),ka(e,t,r,i=vo(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Ha(e,t),t.tag=1,Ai(r)?(e=!0,Mi(t)):e=!1,Co(t,n),Ho(t,r,i),$o(t,r,i,n),xa(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return Ca(e,t,n)}throw Error(o(156,t.tag))};var Gu="function"===typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Wu(s);a.call(e)}}Hu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wu(s);o.call(e)}}var s=zu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),du(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wu(l);a.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[pi]=l.current,qr(8===e.nodeType?e.parentNode:e),du((function(){Hu(t,l,n,r)})),l}(n,t,e,i,r);return Wu(s)}Yu.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hu(e,t,null,null)},Yu.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Hu(null,e,null,null)})),t[pi]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),iu(t,Xe()),0===(6&xl)&&(zl=Xe()+500,qi()))}break;case 13:du((function(){var t=Oo(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Ku(e,1)}},St=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)ru(t,e,134217728,tu());Ku(e,134217728)}},kt=function(e){if(13===e.tag){var t=nu(e),n=Oo(e,t);if(null!==n)ru(n,e,t,tu());Ku(e,t)}},Et=function(){return _t},Ct=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Re=cu,xe=du;var tc={usingClientEntryPoint:!1,Events:[_i,bi,wi,Ie,Te,cu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xu(e))throw Error(o(299));var n=!1,r="",i=Gu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(o(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},3244:(e,t,n)=>{"use strict";var r=n(3940);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},3940:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7609)},627:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(m=!1,b(e),!g)if(null!==r(u))g=!0,N(S);else{var t=r(c);null!==t&&D(w,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,y(I),I=-1),p=!0;var o=f;try{for(b(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!x());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(u)&&i(u),b(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,C=null,I=-1,T=5,R=-1;function x(){return!(t.unstable_now()-R<T)}function O(){if(null!==C){var e=t.unstable_now();R=e;var n=!0;try{n=C(!0,e)}finally{n?k():(E=!1,C=null)}}else E=!1}if("function"===typeof _)k=function(){_(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=O,k=function(){A.postMessage(null)}}else k=function(){v(O,0)};function N(e){C=e,E||(E=!0,k())}function D(e,n){I=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(m?(y(I),I=-1):m=!0,D(w,o-s))):(e.sortIndex=a,n(u,e),g||p||(g=!0,N(S))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},82:(e,t,n)=>{"use strict";e.exports=n(627)},1760:(e,t,n)=>{"use strict";var r=n(9),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:a.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},1698:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,g(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:k.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+R(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),x(s,t,i,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var c=o+R(a=e[u],u);l+=x(a,t,i,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=x(a=a.value,t,i,c=o+R(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},N={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:N,ReactCurrentOwner:k};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=_,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},9:(e,t,n)=>{"use strict";e.exports=n(1698)},784:(e,t,n)=>{"use strict";e.exports=n(1760)},6504:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},213:(e,t,n)=>{"use strict";var r=n(4798),i=Array.prototype.concat,o=Array.prototype.slice,s=e.exports=function(e){for(var t=[],n=0,s=e.length;n<s;n++){var a=e[n];r(a)?t=i.call(t,o.call(a)):t.push(a)}return t};s.wrap=function(e){return function(){return e(s(arguments))}}},4798:e=>{e.exports=function(e){return!(!e||"string"===typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},2514:e=>{"use strict";e.exports=(e,t)=>{if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},2757:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},7013:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styleq=void 0;var n=new WeakMap;function r(e){var t,r,i;return null!=e&&(t=!0===e.disableCache,r=!0===e.disableMix,i=e.transform),function(){for(var e=[],o="",s=null,a=t?null:n,l=new Array(arguments.length),u=0;u<arguments.length;u++)l[u]=arguments[u];for(;l.length>0;){var c=l.pop();if(null!=c&&!1!==c)if(Array.isArray(c))for(var d=0;d<c.length;d++)l.push(c[d]);else{var h=null!=i?i(c):c;if(h.$$css){var f="";if(null!=a&&a.has(h)){var p=a.get(h);null!=p&&(f=p[0],e.push.apply(e,p[1]),a=p[2])}else{var g=[];for(var m in h){var v=h[m];"$$css"!==m&&("string"===typeof v||null===v?e.includes(m)||(e.push(m),null!=a&&g.push(m),"string"===typeof v&&(f+=f?" "+v:v)):console.error("styleq: ".concat(m," typeof ").concat(String(v),' is not "string" or "null".')))}if(null!=a){var y=new WeakMap;a.set(h,[f,g,y]),a=y}}f&&(o=o?f+" "+o:f)}else if(r)null==s&&(s={}),s=Object.assign({},h,s);else{var _=null;for(var b in h){var w=h[b];void 0!==w&&(e.includes(b)||(null!=w&&(null==s&&(s={}),null==_&&(_={}),_[b]=w),e.push(b),a=null))}null!=_&&(s=Object.assign(_,s))}}}return[o,s]}}var i=r();t.styleq=i,i.factory=r},7456:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localizeStyle=function(e,t){if(null!=e[r]){var o=t?1:0;if(n.has(e)){var s=n.get(e),a=s[o];return null==a&&(a=i(e,t),s[o]=a,n.set(e,s)),a}var l=i(e,t),u=new Array(2);return u[o]=l,n.set(e,u),l}return e};var n=new WeakMap,r="$$css$localize";function i(e,t){var n={};for(var i in e)if(i!==r){var o=e[i];Array.isArray(o)?n[i]=t?o[1]:o[0]:n[i]=o}return n}},9885:(e,t,n)=>{"use strict";var r=n(6504),i=n(1907),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,l=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function d(e){return(e||"").toString().replace(o,"")}var h=[["#","hash"],["?","query"],function(e,t){return g(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function p(e){var t,r=("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{}).location||{},i={},o=typeof(e=e||r);if("blob:"===e.protocol)i=new v(unescape(e.pathname),{});else if("string"===o)for(t in i=new v(e,{}),f)delete i[t];else if("object"===o){for(t in e)t in f||(i[t]=e[t]);void 0===i.slashes&&(i.slashes=a.test(e.href))}return i}function g(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function m(e,t){e=(e=d(e)).replace(s,""),t=t||{};var n,r=u.exec(e),i=r[1]?r[1].toLowerCase():"",o=!!r[2],a=!!r[3],l=0;return o?a?(n=r[2]+r[3]+r[4],l=r[2].length+r[3].length):(n=r[2]+r[4],l=r[2].length):a?(n=r[3]+r[4],l=r[3].length):n=r[4],"file:"===i?l>=2&&(n=n.slice(2)):g(i)?n=r[4]:i?o&&(n=n.slice(2)):l>=2&&g(t.protocol)&&(n=r[4]),{protocol:i,slashes:o||g(i),slashesCount:l,rest:n}}function v(e,t,n){if(e=(e=d(e)).replace(s,""),!(this instanceof v))return new v(e,t,n);var o,a,l,u,f,y,_=h.slice(),b=typeof t,w=this,S=0;for("object"!==b&&"string"!==b&&(n=t,t=null),n&&"function"!==typeof n&&(n=i.parse),o=!(a=m(e||"",t=p(t))).protocol&&!a.slashes,w.slashes=a.slashes||o&&t.slashes,w.protocol=a.protocol||t.protocol||"",e=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||c.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!g(w.protocol)))&&(_[3]=[/(.*)/,"pathname"]);S<_.length;S++)"function"!==typeof(u=_[S])?(l=u[0],y=u[1],l!==l?w[y]=e:"string"===typeof l?~(f="@"===l?e.lastIndexOf(l):e.indexOf(l))&&("number"===typeof u[2]?(w[y]=e.slice(0,f),e=e.slice(f+u[2])):(w[y]=e.slice(f),e=e.slice(0,f))):(f=l.exec(e))&&(w[y]=f[1],e=e.slice(0,f.index)),w[y]=w[y]||o&&u[3]&&t[y]||"",u[4]&&(w[y]=w[y].toLowerCase())):e=u(e,w);n&&(w.query=n(w.query)),o&&t.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==t.pathname)&&(w.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(o=!0),n.splice(r,1),s--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(w.pathname,t.pathname)),"/"!==w.pathname.charAt(0)&&g(w.protocol)&&(w.pathname="/"+w.pathname),r(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(~(f=w.auth.indexOf(":"))?(w.username=w.auth.slice(0,f),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(f+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin="file:"!==w.protocol&&g(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}v.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"===typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,l.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var s="pathname"===e?"/":"#";o[e]=t.charAt(0)!==s?s+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(o.username=t.slice(0,a),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(a+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t))}for(var u=0;u<h.length;u++){var c=h[u];c[4]&&(o[c[1]]=o[c[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&g(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"===typeof e||(e=i.stringify);var t,n=this,r=n.host,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var s=o+(n.protocol&&n.slashes||g(n.protocol)?"//":"");return n.username?(s+=n.username,n.password&&(s+=":"+n.password),s+="@"):n.password?(s+=":"+n.password,s+="@"):"file:"!==n.protocol&&g(n.protocol)&&!r&&"/"!==n.pathname&&(s+="@"),(":"===r[r.length-1]||l.test(n.hostname)&&!n.port)&&(r+=":"),s+=r+n.pathname,(t="object"===typeof n.query?e(n.query):n.query)&&(s+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(s+=n.hash),s}},v.extractProtocol=m,v.location=p,v.trimLeft=d,v.qs=i,e.exports=v},9456:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9)),a="undefined"!==typeof document?s.useLayoutEffect:s.useEffect;t.default=function(e){var t=s.useRef(e),n=s.useRef((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.current.apply(this,e)})).current;return a((function(){t.current=e})),n}},3160:e=>{new Set;e.exports=function(e,...t){false}},5425:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABVCAQAAAChx3/YAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfkAQMKHDc9iQjuAAACmUlEQVRo3r3ZS2sUQRAH8M5zklwWg0K8mKBB/AIqXhTEi1cTPQe9iH4AUXBNjh79EooKgggSHyCICIIQL7NV1T2bze6EFS/xoms0ie0hs+sa9zE901U79/3R8+iu+pdSnn/VfbCAz/Um2r+XV8AO0jH9pP3vvSN2COdhGX8xInbIzNMKbv1PeEPsiLmEn2i7E+EJsSN4Az+UtjoTXpBwlG7CGnQlPCA2oFtQxZ3uRG7EBnAvjHsTOREbwB2s9bpRuZHKGCzCer9V5ELi8ehuOiIzYkejBUTYTkNkREyAV5DgdzoiE2ICuoYaUxMZEBPQdYpdCGfkzbA+rUsugDNiAnOGwJVwQipj0XlCd8IBscN0wv1GOSEmCE9qyEakREyAZ4myEqkQE+hzupydSIHE4+aUjvIQfZH6hL6QbxV9kfqEnqP1vEQPxA6YA3hReyB6IOUC3vZDdEXKBVPUG36ILkhlihbxqy+iI1KZogf4xW0zd0TWDuJD+AYWLRuyOo2P0DOxB6nM4Fv87pv4B1mdxhfY8E+0IeaIfok/OIgWEs3q97DJQyTI5xn9FBpcBFqlVDgLz6CBlu9S8SS9JlYCraKlTv2qb+QdN4FWYV0AEVkJLQH/M4kn9Sv2t0vkOxH64pt7F9f22LYLVw8D9y4sdJ40T0bgPRmVUqp+iP2MF6pWkrrrPnPdJVRB7tbCVMQNZkSkqlfKDtD+kLs/Eem0xHpGoe631cdHzIhIIiGUrSQp0XHmlEgo7xJK7loZZMiMJGlqjTVNbebCRKy5cPJsLjMn3EJZvdDUQWh+krwCReZJUHOmVaqxzrSEpnNCc0ahiWlz9ksrrLNfoSn27sgf5mCZfrIiStnB8lF8rHdYEaWU+ljQV/dW0X8Ac6zWpmDZsO8AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDEtMDNUMTA6Mjg6NTIrMDA6MDD7fVVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAxLTAzVDEwOjI4OjUyKzAwOjAwiiDt6gAAAABJRU5ErkJggg=="},3748:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAAlklEQVR4Ae3a1REDMRDG4A3VmHbcUFLigf0exn/mkxuQjmELAAAAAD5Eq5atP6+rZeuPhGz9kZCtPxKy9fs6Zuuf60CfPn369OnTp0+fPn369OnTfx36X1vh+nO6/pytL+D1BCexy+iNhFPt6/dIOEiQIEGCBAkSJEiQ8B0k+PwoQYKhP2OXAYOvRo+vD38bvwcAAACABXF8ILs1PQqpAAAAAElFTkSuQmCC"},7512:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(7496),i=n(4230),o=n(6147),s=n(2068);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,o._addComponent)(e,new i.Component("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),(0,o.deleteApp)(this._delegate))))}_getService(e,t=o._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=o._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,o._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,o._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},u=new r.ErrorFactory("app-compat","Firebase",l);const c=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,s={}){const a=o.initializeApp(i,s);if((0,r.contains)(t,a.name))return t[a.name];const l=new e(a,n);return t[a.name]=l,l},app:i,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function(t){const s=t.name,a=s.replace("-compat","");if(o._registerComponent(t)&&"PUBLIC"===t.type){const o=(e=i())=>{if("function"!==typeof e[a])throw u.create("invalid-app-argument",{appName:s});return e[a]()};void 0!==t.serviceProps&&(0,r.deepExtend)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(...e){return this._getService.bind(this,s).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){if("serverAuth"===t)return null;return t},modularAPIs:o}};function i(e){if(e=e||o._DEFAULT_ENTRY_NAME,!(0,r.contains)(t,e))throw u.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.deepExtend)(t,e)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,deepExtend:r.deepExtend}),t}(),d=new s.Logger("@firebase/app-compat");if((0,r.isBrowser)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;var f;(0,o.registerVersion)("@firebase/app-compat","0.2.17",f)},6147:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>o.FirebaseError,SDK_VERSION:()=>U,_DEFAULT_ENTRY_NAME:()=>T,_addComponent:()=>P,_addOrOverwriteComponent:()=>A,_apps:()=>x,_clearComponents:()=>M,_components:()=>O,_getProvider:()=>D,_registerComponent:()=>N,_removeServiceInstance:()=>L,deleteApp:()=>H,getApp:()=>q,getApps:()=>z,initializeApp:()=>B,onLog:()=>$,registerVersion:()=>W,setLogLevel:()=>K});var r=n(4230),i=n(2068),o=n(7496);const s=(e,t)=>t.some((t=>e instanceof t));let a,l;const u=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return v(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(y(this),t),v(u.get(this))}:function(...t){return v(e.apply(y(this),t))}:function(t,...n){const r=e.call(y(this),t,...n);return d.set(r,t.sort?t.sort():[t]),v(r)}}function m(e){return"function"===typeof e?g(e):(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));c.set(e,t)}(e),s(e,a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,p):e)}function v(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(v(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&u.set(t,e)})).catch((()=>{})),f.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=m(e);return t!==e&&(h.set(e,t),f.set(t,e)),t}const y=e=>f.get(e);const _=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],w=new Map;function S(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return w.set(t,o),o}p=(e=>({...e,get:(t,n,r)=>S(t,n)||e.get(t,n,r),has:(t,n)=>!!S(t,n)||e.has(t,n)}))(p);class k{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const E="@firebase/app",C="0.9.17",I=new i.Logger("@firebase/app"),T="[DEFAULT]",R={[E]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},x=new Map,O=new Map;function P(e,t){try{e.container.addComponent(t)}catch(n){I.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function A(e,t){e.container.addOrOverwriteComponent(t)}function N(e){const t=e.name;if(O.has(t))return I.debug(`There were multiple attempts to register component ${t}.`),!1;O.set(t,e);for(const n of x.values())P(n,e);return!0}function D(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function L(e,t,n=T){D(e,t).clearInstance(n)}function M(){O.clear()}const F={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},j=new o.ErrorFactory("app","Firebase",F);class V{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.Component("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw j.create("app-deleted",{appName:this._name})}}const U="10.3.0";function B(e,t={}){let n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:T,automaticDataCollectionEnabled:!1},t),s=i.name;if("string"!==typeof s||!s)throw j.create("bad-app-name",{appName:String(s)});if(n||(n=(0,o.getDefaultAppConfig)()),!n)throw j.create("no-options");const a=x.get(s);if(a){if((0,o.deepEqual)(n,a.options)&&(0,o.deepEqual)(i,a.config))return a;throw j.create("duplicate-app",{appName:s})}const l=new r.ComponentContainer(s);for(const r of O.values())l.addComponent(r);const u=new V(n,i,l);return x.set(s,u),u}function q(e=T){const t=x.get(e);if(!t&&e===T&&(0,o.getDefaultAppConfig)())return B();if(!t)throw j.create("no-app",{appName:e});return t}function z(){return Array.from(x.values())}async function H(e){const t=e.name;x.has(t)&&(x.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function W(e,t,n){var i;let o=null!==(i=R[e])&&void 0!==i?i:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void I.warn(e.join(" "))}N(new r.Component(`${o}-version`,(()=>({library:o,version:t})),"VERSION"))}function $(e,t){if(null!==e&&"function"!==typeof e)throw j.create("invalid-log-argument");(0,i.setUserLogHandler)(e,t)}function K(e){(0,i.setLogLevel)(e)}const G="firebase-heartbeat-database",Q=1,Y="firebase-heartbeat-store";let X=null;function J(){return X||(X=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=v(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(v(s.result),e.oldVersion,e.newVersion,v(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(G,Q,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Y)}}).catch((e=>{throw j.create("idb-open",{originalErrorMessage:e.message})}))),X}async function Z(e,t){try{const n=(await J()).transaction(Y,"readwrite"),r=n.objectStore(Y);await r.put(t,ee(e)),await n.done}catch(n){if(n instanceof o.FirebaseError)I.warn(n.message);else{const e=j.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});I.warn(e.message)}}}function ee(e){return`${e.name}!${e.options.appId}`}class te{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new re(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=ne();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=ne(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ie(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ie(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,o.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function ne(){return(new Date).toISOString().substring(0,10)}class re{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.isIndexedDBAvailable)()&&(0,o.validateIndexedDBOpenable)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const t=await J();return await t.transaction(Y).objectStore(Y).get(ee(e))}catch(t){if(t instanceof o.FirebaseError)I.warn(t.message);else{const e=j.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});I.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Z(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Z(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ie(e){return(0,o.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:e})).length}var oe;oe="",N(new r.Component("platform-logger",(e=>new k(e)),"PRIVATE")),N(new r.Component("heartbeat",(e=>new te(e)),"PRIVATE")),W(E,C,oe),W(E,C,"esm2017"),W("fire-js","")},4230:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Component:()=>i,ComponentContainer:()=>a,Provider:()=>s});var r=n(7496);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.Deferred;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===o?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},2068:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LogLevel:()=>i,Logger:()=>u,setLogLevel:()=>c,setUserLogHandler:()=>d});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function c(e){r.forEach((t=>{t.setLogLevel(e)}))}function d(e,t){for(const n of r){let r=null;t&&t.level&&(r=o[t.level]),n.userLogHandler=null===e?null:(t,n,...o)=>{const s=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}}}},9191:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.default});var r=n(7512);r.default.registerVersion("firebase","10.3.0","app-compat")},3427:(e,t,n)=>{"use strict";n.r(t);var r=n(7512),i=n(7496),o=n(6147),s=n(2068);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var l=n(4230);const u={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},c="EMAIL_SIGNIN",d="PASSWORD_RESET",h="RECOVER_EMAIL",f="REVERT_SECOND_FACTOR_ADDITION",p="VERIFY_AND_CHANGE_EMAIL",g="VERIFY_EMAIL";function m(e){return void 0!==e&&void 0!==e.getResponse}function v(e){return void 0!==e&&void 0!==e.enterprise}class y{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function _(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},w=_,S=new i.ErrorFactory("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),k=new s.Logger("@firebase/auth");function E(e,...t){k.logLevel<=s.LogLevel.ERROR&&k.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function C(e,...t){throw x(e,...t)}function I(e,...t){return x(e,...t)}function T(e,t,n){const r=Object.assign(Object.assign({},w()),{[t]:n});return new i.ErrorFactory("auth","Firebase",r).create(t,{appName:e.name})}function R(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&C(e,"argument-error"),T(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function x(e,...t){if("string"!==typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return S.create(e,...t)}function O(e,t,...n){if(!e)throw x(t,...n)}function P(e){const t="INTERNAL ASSERTION FAILED: "+e;throw E(t),new Error(t)}function A(e,t){e||P(t)}function N(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function D(){return"http:"===L()||"https:"===L()}function L(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class M{constructor(e,t){this.shortDelay=e,this.longDelay=t,A(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.isMobileCordova)()||(0,i.isReactNative)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(D()||(0,i.isBrowserExtension)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function F(e,t){A(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class j{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void P("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void P("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void P("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const V={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},U=new M(3e4,6e4);function B(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function q(e,t,n,r,o={}){return z(e,o,(async()=>{let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=(0,i.querystring)(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),j.fetch()(W(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))}))}async function z(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},V),t);try{const t=new $(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw K(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw K(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw K(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw K(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw T(e,a,s);C(e,a)}}catch(o){if(o instanceof i.FirebaseError)throw o;C(e,"network-request-failed",{message:String(o)})}}async function H(e,t,n,r,i={}){const o=await q(e,t,n,r,i);return"mfaPendingCredential"in o&&C(e,"multi-factor-auth-required",{_serverResponse:o}),o}function W(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?F(e.config,i):`${e.config.apiScheme}://${i}`}class ${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(I(this.auth,"network-request-failed"))),U.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function K(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=I(e,t,r);return i.customData._tokenResponse=n,i}async function G(e,t){return q(e,"GET","/v2/recaptchaConfig",B(e,t))}function Q(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Y(e){return 1e3*Number(e)}function X(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return E("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.base64Decode)(n);return e?JSON.parse(e):(E("Failed to decode base64 JWT payload"),null)}catch(o){return E("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}async function J(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof i.FirebaseError&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}class Z{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class ee{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Q(this.lastLoginAt),this.creationTime=Q(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function te(e){var t;const n=e.auth,r=await e.getIdToken(),i=await J(e,async function(e,t){return q(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));O(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const l=(u=e.providerData,c=s,[...u.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var u,c;const d=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===l||void 0===l?void 0:l.length),f=!!d&&h,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new ee(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,p)}class ne{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O("undefined"!==typeof e.idToken,"internal-error"),O("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=X(e);return O(t,"internal-error"),O("undefined"!==typeof t.exp,"internal-error"),O("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return O(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await z(e,{},(async()=>{const n=(0,i.querystring)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=W(e,r,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",j.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new ne;return n&&(O("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(O("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(O("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ne,this.toJSON())}_performRefresh(){return P("not implemented")}}function re(e,t){O("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ie{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ee(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await J(this,this.stsTokenManager.getToken(this.auth,e));return O(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=(0,i.getModularInstance)(e),r=await n.getIdToken(t),o=X(r);O(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:o,token:r,authTime:Q(Y(o.auth_time)),issuedAtTime:Q(Y(o.iat)),expirationTime:Q(Y(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.getModularInstance)(e);await te(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ie(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await te(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await J(this,async function(e,t){return q(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:S}=t;O(y&&S,e,"internal-error");const k=ne.fromJSON(this.name,S);O("string"===typeof y,e,"internal-error"),re(c,e.name),re(d,e.name),O("boolean"===typeof _,e,"internal-error"),O("boolean"===typeof b,e,"internal-error"),re(h,e.name),re(f,e.name),re(p,e.name),re(g,e.name),re(m,e.name),re(v,e.name);const E=new ie({uid:y,auth:e,email:d,emailVerified:_,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(E.providerData=w.map((e=>Object.assign({},e)))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t,n=!1){const r=new ne;r.updateFromServerResponse(t);const i=new ie({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await te(i),i}}const oe=new Map;function se(e){A(e instanceof Function,"Expected a class definition");let t=oe.get(e);return t?(A(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,oe.set(e,t),t)}class ae{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ae.type="NONE";const le=ae;function ue(e,t,n){return`firebase:${e}:${t}:${n}`}class ce{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ue(this.userKey,r.apiKey,i),this.fullPersistenceKey=ue("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ie._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ce(se(le),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||se(le);const o=ue(n,e.config.apiKey,e.name);let s=null;for(const u of t)try{const t=await u._get(o);if(t){const n=ie._fromJSON(e,t);u!==i&&(s=n),i=u;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new ce(i,e,n)):new ce(i,e,n)}}function de(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ge(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(he(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ve(t))return"Blackberry";if(ye(t))return"Webos";if(fe(t))return"Safari";if((t.includes("chrome/")||pe(t))&&!t.includes("edge/"))return"Chrome";if(me(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function he(e=(0,i.getUA)()){return/firefox\//i.test(e)}function fe(e=(0,i.getUA)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pe(e=(0,i.getUA)()){return/crios\//i.test(e)}function ge(e=(0,i.getUA)()){return/iemobile/i.test(e)}function me(e=(0,i.getUA)()){return/android/i.test(e)}function ve(e=(0,i.getUA)()){return/blackberry/i.test(e)}function ye(e=(0,i.getUA)()){return/webos/i.test(e)}function _e(e=(0,i.getUA)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function be(e=(0,i.getUA)()){return _e(e)||me(e)||ye(e)||ve(e)||/windows phone/i.test(e)||ge(e)}function we(e,t=[]){let n;switch(e){case"Browser":n=de((0,i.getUA)());break;case"Worker":n=`${de((0,i.getUA)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Se{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ke{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ee{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ie(this),this.idTokenSubscription=new Ie(this),this.beforeStateQueue=new Se(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=se(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ce.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return O(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await te(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,i.getModularInstance)(e):null;return t&&O(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&O(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(se(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return q(e,"GET","/v2/passwordPolicy",B(e,t))}(this),t=new ke(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&se(e)||this._popupRedirectResolver;O(t,this,"argument-error"),this.redirectPersistenceManager=await ce.create(this,[se(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(O(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=we(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e,...t){k.logLevel<=s.LogLevel.WARN&&k.warn(`Auth (${o.SDK_VERSION}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Ce(e){return(0,i.getModularInstance)(e)}class Ie{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.createSubscribe)((e=>this.observer=e))}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Te(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=I("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Re(e){return`__${e}${Math.floor(1e6*Math.random())}`}class xe{constructor(e){this.type="recaptcha-enterprise",this.auth=Ce(e)}async verify(e="verify",t=!1){function n(t,n,r){const i=window.grecaptcha;v(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{G(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new y(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&v(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Te("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Oe(e,t,n,r=!1){const i=new xe(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}function Pe(e,t,n){const r=Ce(e);O(r._canInitEmulator,r,"emulator-config-failed"),O(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Ae(t),{host:s,port:a}=function(e){const t=Ae(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ne(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ne(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ae(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ne(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class De{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return P("not implemented")}_getIdTokenResponse(e){return P("not implemented")}_linkToIdToken(e,t){return P("not implemented")}_getReauthenticationResolver(e){return P("not implemented")}}async function Le(e,t){return q(e,"POST","/v1/accounts:resetPassword",B(e,t))}async function Me(e,t){return q(e,"POST","/v1/accounts:update",t)}async function Fe(e,t){return H(e,"POST","/v1/accounts:signInWithPassword",B(e,t))}async function je(e,t){return q(e,"POST","/v1/accounts:sendOobCode",B(e,t))}async function Ve(e,t){return je(e,t)}async function Ue(e,t){return je(e,t)}class Be extends De{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Be(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Be(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Oe(e,n,"signInWithPassword");return Fe(e,t)}return Fe(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Oe(e,n,"signInWithPassword");return Fe(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return H(e,"POST","/v1/accounts:signInWithEmailLink",B(e,t))}(e,{email:this._email,oobCode:this._password});default:C(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Me(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return H(e,"POST","/v1/accounts:signInWithEmailLink",B(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:C(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function qe(e,t){return H(e,"POST","/v1/accounts:signInWithIdp",B(e,t))}class ze extends De{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ze(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):C("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new ze(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return qe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,qe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qe(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.querystring)(t)}return e}}const He={USER_NOT_FOUND:"user-not-found"};class We extends De{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new We({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new We({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return H(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await H(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,t));if(n.temporaryProof)throw K(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return H(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),He)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new We({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class $e{constructor(e){var t,n,r,o,s,a;const l=(0,i.querystringDecode)((0,i.extractQuerystring)(e)),u=null!==(t=l.apiKey)&&void 0!==t?t:null,c=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);O(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,i.querystringDecode)((0,i.extractQuerystring)(e)).link,n=t?(0,i.querystringDecode)((0,i.extractQuerystring)(t)).deep_link_id:null,r=(0,i.querystringDecode)((0,i.extractQuerystring)(e)).deep_link_id;return(r?(0,i.querystringDecode)((0,i.extractQuerystring)(r)).link:null)||r||n||t||e}(e);try{return new $e(t)}catch(n){return null}}}class Ke{constructor(){this.providerId=Ke.PROVIDER_ID}static credential(e,t){return Be._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=$e.parseLink(t);return O(n,"argument-error"),Be._fromEmailAndCode(e,n.code,n.tenantId)}}Ke.PROVIDER_ID="password",Ke.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ke.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ge{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qe extends Ge{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ye extends Qe{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return O("providerId"in t&&"signInMethod"in t,"argument-error"),ze._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return O(e.idToken||e.accessToken,"argument-error"),ze._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ye.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ye.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:s}=e;if(!n&&!r&&!t&&!i)return null;if(!s)return null;try{return new Ye(s)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:i})}catch(a){return null}}}class Xe extends Qe{constructor(){super("facebook.com")}static credential(e){return ze._fromParams({providerId:Xe.PROVIDER_ID,signInMethod:Xe.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xe.credentialFromTaggedObject(e)}static credentialFromError(e){return Xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Xe.credential(e.oauthAccessToken)}catch(t){return null}}}Xe.FACEBOOK_SIGN_IN_METHOD="facebook.com",Xe.PROVIDER_ID="facebook.com";class Je extends Qe{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ze._fromParams({providerId:Je.PROVIDER_ID,signInMethod:Je.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Je.credentialFromTaggedObject(e)}static credentialFromError(e){return Je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Je.credential(t,n)}catch(r){return null}}}Je.GOOGLE_SIGN_IN_METHOD="google.com",Je.PROVIDER_ID="google.com";class Ze extends Qe{constructor(){super("github.com")}static credential(e){return ze._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ze.credential(e.oauthAccessToken)}catch(t){return null}}}Ze.GITHUB_SIGN_IN_METHOD="github.com",Ze.PROVIDER_ID="github.com";class et extends De{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return qe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,qe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qe(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new et(n,i):null}static _create(e,t){return new et(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class tt extends Ge{constructor(e){O(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return tt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return tt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=et.fromJSON(e);return O(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return et._create(n,t)}catch(r){return null}}}class nt extends Qe{constructor(){super("twitter.com")}static credential(e,t){return ze._fromParams({providerId:nt.PROVIDER_ID,signInMethod:nt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return nt.credentialFromTaggedObject(e)}static credentialFromError(e){return nt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return nt.credential(t,n)}catch(r){return null}}}async function rt(e,t){return H(e,"POST","/v1/accounts:signUp",B(e,t))}nt.TWITTER_SIGN_IN_METHOD="twitter.com",nt.PROVIDER_ID="twitter.com";class it{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await ie._fromIdTokenResponse(e,n,r),o=ot(n);return new it({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ot(n);return new it({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ot(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class st extends i.FirebaseError{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,st.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new st(e,t,n,r)}}function at(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw st._fromErrorAndOperation(e,n,t,r);throw n}))}function lt(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function ut(e,t){const n=(0,i.getModularInstance)(e);await dt(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return q(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),o=lt(r||[]);return n.providerData=n.providerData.filter((e=>o.has(e.providerId))),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function ct(e,t,n=!1){const r=await J(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return it._forOperation(e,"link",r)}async function dt(e,t,n){await te(t);const r=!1===e?"provider-already-linked":"no-such-provider";O(lt(t.providerData).has(n)===e,t.auth,r)}async function ht(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await J(e,at(r,i,t,e),n);O(o.idToken,r,"internal-error");const s=X(o.idToken);O(s,r,"internal-error");const{sub:a}=s;return O(e.uid===a,r,"user-mismatch"),it._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&C(r,"user-mismatch"),o}}async function ft(e,t,n=!1){const r="signIn",i=await at(e,r,t),o=await it._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function pt(e,t){return ft(Ce(e),t)}async function gt(e,t){const n=(0,i.getModularInstance)(e);return await dt(!1,n,t.providerId),ct(n,t)}async function mt(e,t){return ht((0,i.getModularInstance)(e),t)}async function vt(e,t){const n=Ce(e),r=await async function(e,t){return H(e,"POST","/v1/accounts:signInWithCustomToken",B(e,t))}(n,{token:t,returnSecureToken:!0}),i=await it._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class yt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?_t._fromServerResponse(e,t):"totpInfo"in t?bt._fromServerResponse(e,t):C(e,"internal-error")}}class _t extends yt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new _t(t)}}class bt extends yt{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new bt(t)}}function wt(e,t,n){var r;O((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),O("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(O(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(O(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function St(e){const t=Ce(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function kt(e,t){await async function(e,t){return q(e,"POST","/v1/accounts:update",B(e,t))}((0,i.getModularInstance)(e),{oobCode:t})}async function Et(e,t){const n=(0,i.getModularInstance)(e),r=await Le(n,{oobCode:t}),o=r.requestType;switch(O(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":O(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":O(r.mfaInfo,n,"internal-error");default:O(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=yt._fromServerResponse(Ce(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:o}}async function Ct(e,t){const n={identifier:t,continueUri:D()?N():"http://localhost"},{signinMethods:r}=await async function(e,t){return q(e,"POST","/v1/accounts:createAuthUri",B(e,t))}((0,i.getModularInstance)(e),n);return r||[]}async function It(e,t){const n=(0,i.getModularInstance)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&wt(n.auth,r,t);const{email:o}=await async function(e,t){return je(e,t)}(n.auth,r);o!==e.email&&await e.reload()}async function Tt(e,t,n){const r=(0,i.getModularInstance)(e),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&wt(r.auth,o,n);const{email:s}=await async function(e,t){return je(e,t)}(r.auth,o);s!==e.email&&await e.reload()}async function Rt(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,i.getModularInstance)(e),o={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await J(r,async function(e,t){return q(e,"POST","/v1/accounts:update",t)}(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find((({providerId:e})=>"password"===e));a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}async function xt(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await J(e,Me(r,i));await e._updateTokensIfNecessary(o,!0)}class Ot{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Pt extends Ot{constructor(e,t,n,r){super(e,t,n),this.username=r}}class At extends Ot{constructor(e,t){super(e,"facebook.com",t)}}class Nt extends Pt{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Dt extends Ot{constructor(e,t){super(e,"google.com",t)}}class Lt extends Pt{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Mt(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=X(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Ot(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new At(o,i);case"github.com":return new Nt(o,i);case"google.com":return new Dt(o,i);case"twitter.com":return new Lt(o,i,e.screenName||null);case"custom":case"anonymous":return new Ot(o,null);default:return new Ot(o,r,i)}}(n)}class Ft{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Ft("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ft("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Ft._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Ft._fromIdtoken(e.multiFactorSession.idToken)}return null}}class jt{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ce(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>yt._fromServerResponse(n,e)));O(r.mfaPendingCredential,n,"internal-error");const o=Ft._fromMfaPendingCredential(r.mfaPendingCredential);return new jt(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await it._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return O(t.user,n,"internal-error"),it._forOperation(t.user,t.operationType,s);default:C(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Vt{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>yt._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Vt(e)}async getSession(){return Ft._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await J(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await J(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},q(r,"POST","/v2/accounts/mfaEnrollment:withdraw",B(r,i))));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(o){throw o}var r,i}}const Ut=new WeakMap;const Bt="__sak";class qt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bt,"1"),this.storage.removeItem(Bt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class zt extends qt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,i.getUA)();return fe(e)||_e(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=be(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,i.isIE)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}zt.type="LOCAL";const Ht=zt;class Wt extends qt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Wt.type="SESSION";const $t=Wt;class Kt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Kt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Gt(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Kt.receivers=[];class Qt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Gt("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Yt(){return window}function Xt(){return"undefined"!==typeof Yt().WorkerGlobalScope&&"function"===typeof Yt().importScripts}const Jt="firebaseLocalStorageDb",Zt="firebaseLocalStorage",en="fbase_key";class tn{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function nn(e,t){return e.transaction([Zt],t?"readwrite":"readonly").objectStore(Zt)}function rn(){const e=indexedDB.open(Jt,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Zt,{keyPath:en})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Zt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Jt);return new tn(e).toPromise()}(),t(await rn()))}))}))}async function on(e,t,n){const r=nn(e,!0).put({[en]:t,value:n});return new tn(r).toPromise()}function sn(e,t){const n=nn(e,!0).delete(t);return new tn(n).toPromise()}class an{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await rn()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kt._getInstance(Xt()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Qt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rn();return await on(e,Bt,"1"),await sn(e,Bt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>on(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=nn(e,!1).get(t),r=await new tn(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>sn(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=nn(e,!1).getAll();return new tn(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}an.type="LOCAL";const ln=an;const un=1e12;class cn{constructor(e){this.auth=e,this.counter=un,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new dn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||un;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||un;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||un;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class dn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;O(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hn=Re("rcb"),fn=new M(3e4,6e4);class pn{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Yt().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return O(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&m(Yt().grecaptcha)?Promise.resolve(Yt().grecaptcha):new Promise(((n,r)=>{const o=Yt().setTimeout((()=>{r(I(e,"network-request-failed"))}),fn.get());Yt()[hn]=()=>{Yt().clearTimeout(o),delete Yt()[hn];const i=Yt().grecaptcha;if(!i||!m(i))return void r(I(e,"internal-error"));const s=i.render;i.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(i)};Te(`https://www.google.com/recaptcha/api.js??${(0,i.querystring)({onload:hn,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(o),r(I(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Yt().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gn{async load(e){return new cn(e)}clearedOneInstance(){}}const mn="recaptcha",vn={theme:"light",type:"image"};class yn{constructor(e,t,n=Object.assign({},vn)){this.parameters=n,this.type=mn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ce(e),this.isInvisible="invisible"===this.parameters.size,O("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;O(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gn:new pn,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){O(!this.parameters.sitekey,this.auth,"argument-error"),O(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),O("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Yt()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){O(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){O(D()&&!Xt(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await q(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);O(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return O(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _n{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=We._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function bn(e,t,n){var r;const i=await n.verify();try{let o;if(O("string"===typeof i,e,"argument-error"),O(n.type===mn,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){O("enroll"===t.type,e,"internal-error");const n=await function(e,t){return q(e,"POST","/v2/accounts/mfaEnrollment:start",B(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{O("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;O(n,e,"missing-multi-factor-info");const s=await function(e,t){return q(e,"POST","/v2/accounts/mfaSignIn:start",B(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return q(e,"POST","/v1/accounts:sendVerificationCode",B(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class wn{constructor(e){this.providerId=wn.PROVIDER_ID,this.auth=Ce(e)}verifyPhoneNumber(e,t){return bn(this.auth,e,(0,i.getModularInstance)(t))}static credential(e,t){return We._fromVerification(e,t)}static credentialFromResult(e){const t=e;return wn.credentialFromTaggedObject(t)}static credentialFromError(e){return wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?We._fromTokenResponse(t,n):null}}function Sn(e,t){return t?se(t):(O(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}wn.PROVIDER_ID="phone",wn.PHONE_SIGN_IN_METHOD="phone";class kn extends De{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qe(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function En(e){return ft(e.auth,new kn(e),e.bypassAuthState)}function Cn(e){const{auth:t,user:n}=e;return O(n,t,"internal-error"),ht(n,new kn(e),e.bypassAuthState)}async function In(e){const{auth:t,user:n}=e;return O(n,t,"internal-error"),ct(n,new kn(e),e.bypassAuthState)}class Tn{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return En;case"linkViaPopup":case"linkViaRedirect":return In;case"reauthViaPopup":case"reauthViaRedirect":return Cn;default:C(this.auth,"internal-error")}}resolve(e){A(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){A(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rn=new M(2e3,1e4);class xn extends Tn{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,xn.currentPopupAction&&xn.currentPopupAction.cancel(),xn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return O(e,this.auth,"internal-error"),e}async onExecution(){A(1===this.filter.length,"Popup operations only handle one event");const e=Gt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(I(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(I(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(I(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Rn.get())};e()}}xn.currentPopupAction=null;const On="pendingRedirect",Pn=new Map;class An extends Tn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Pn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Mn(t),r=Ln(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Pn.set(this.auth._key(),e)}return this.bypassAuthState||Pn.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Nn(e,t){return Ln(e)._set(Mn(t),"true")}function Dn(e,t){Pn.set(e._key(),t)}function Ln(e){return se(e._redirectPersistence)}function Mn(e){return ue(On,e.config.apiKey,e.name)}function Fn(e,t,n){return async function(e,t,n){const r=Ce(e);R(e,t,Ge),await r._initializationPromise;const i=Sn(r,n);return await Nn(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function jn(e,t,n){return async function(e,t,n){const r=(0,i.getModularInstance)(e);R(r.auth,t,Ge),await r.auth._initializationPromise;const o=Sn(r.auth,n);await Nn(o,r.auth);const s=await Bn(r);return o._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Vn(e,t,n){return async function(e,t,n){const r=(0,i.getModularInstance)(e);R(r.auth,t,Ge),await r.auth._initializationPromise;const o=Sn(r.auth,n);await dt(!1,r,t.providerId),await Nn(o,r.auth);const s=await Bn(r);return o._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Un(e,t,n=!1){const r=Ce(e),i=Sn(r,t),o=new An(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Bn(e){const t=Gt(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class qn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Hn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(I(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zn(e))}saveEventToCache(e){this.cachedEventUids.add(zn(e)),this.lastProcessedEventTime=Date.now()}}function zn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Hn({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}async function Wn(e,t={}){return q(e,"GET","/v1/projects",t)}const $n=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kn=/^https?/;function Gn(e){const t=N(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Kn.test(n))return!1;if($n.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Qn=new M(3e4,6e4);function Yn(){const e=Yt().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Xn=null;function Jn(e){return Xn=Xn||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){Yn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yn(),n(I(e,"network-request-failed"))},timeout:Qn.get()})}if(null===(i=null===(r=Yt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Yt().gapi)||void 0===o?void 0:o.load)){const t=Re("iframefcb");return Yt()[t]=()=>{gapi.load?s():n(I(e,"network-request-failed"))},Te(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Xn=null,e}))}(e),Xn}const Zn=new M(5e3,15e3),er="__/auth/iframe",tr="emulator/auth/iframe",nr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ir(e){const t=e.config;O(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?F(t,tr):`https://${e.config.authDomain}/${er}`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},s=rr.get(e.config.apiHost);s&&(r.eid=s);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,i.querystring)(r).slice(1)}`}const or={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ar(e,t,n,r=500,o=600){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},or),{width:r.toString(),height:o.toString(),top:s,left:a}),c=(0,i.getUA)().toLowerCase();n&&(l=pe(c)?"_blank":n),he(c)&&(t=t||"http://localhost",u.scrollbars="yes");const d=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=(0,i.getUA)()){var t;return _e(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new sr(null);const h=window.open(t||"",l,d);O(h,e,"popup-blocked");try{h.focus()}catch(f){}return new sr(h)}const lr="__/auth/handler",ur="emulator/auth/handler",cr=encodeURIComponent("fac");async function dr(e,t,n,r,s,a){O(e.config.authDomain,e,"auth-domain-config-required"),O(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:s};if(t instanceof Ge){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.isEmpty)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof Qe){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const u=l;for(const i of Object.keys(u))void 0===u[i]&&delete u[i];const c=await e._getAppCheckToken(),d=c?`#${cr}=${encodeURIComponent(c)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${lr}`;return F(e,ur)}(e)}?${(0,i.querystring)(u).slice(1)}${d}`}const hr="webStorageSupport";const fr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$t,this._completeRedirectFn=Un,this._overrideRedirectResult=Dn}async _openPopup(e,t,n,r){var i;A(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ar(e,await dr(e,t,n,N(),r),Gt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Yt().location.href=e}(await dr(e,t,n,N(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(A(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Jn(e),n=Yt().gapi;return O(n,e,"internal-error"),t.open({where:document.body,url:ir(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nr,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=I(e,"network-request-failed"),o=Yt().setTimeout((()=>{r(i)}),Zn.get());function s(){Yt().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new qn(e);return t.register("authEvent",(t=>{O(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hr,{type:hr},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[hr];void 0!==i&&t(!!i),C(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Wn(e);for(const r of t)try{if(Gn(r))return}catch(n){}C(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return be()||fe()||_e()}};class pr{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return P("unexpected MultiFactorSessionType")}}}class gr extends pr{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new gr(e)}_finalizeEnroll(e,t,n){return function(e,t){return q(e,"POST","/v2/accounts/mfaEnrollment:finalize",B(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return q(e,"POST","/v2/accounts/mfaSignIn:finalize",B(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class mr{constructor(){}static assertion(e){return gr._fromCredential(e)}}mr.FACTOR_ID="phone";var vr="@firebase/auth",yr="1.3.0";class _r{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,i.getExperimentalSetting)("authIdTokenMaxAge");var br;function wr(){return window}br="Browser",(0,o._registerComponent)(new l.Component("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;O(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:o,authDomain:s,clientPlatform:br,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:we(br)},l=new Ee(n,r,i,a);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(se);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,o._registerComponent)(new l.Component("auth-internal",(e=>(e=>new _r(e))(Ce(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(vr,yr,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(br)),(0,o.registerVersion)(vr,yr,"esm2017");async function Sr(e,t,n){var r;const{BuildInfo:i}=wr();A(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(A(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return _e()?s.ibi=i.packageName:me()?s.apn=i.packageName:C(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,dr(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function kr(e){const{cordova:t}=wr();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let o=null;r?t.plugins.browsertab.openUrl(e):o=t.InAppBrowser.open(e,function(e=(0,i.getUA)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(o)}))}))}const Er=20;class Cr extends qn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Ir(e){const t=await xr()._get(Or(e));return t&&await xr()._remove(Or(e)),t}function Tr(e,t){var n,r;const i=function(e){const t=Pr(e),n=t.link?decodeURIComponent(t.link):void 0,r=Pr(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Pr(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Pr(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?I(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Rr(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Er;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function xr(){return se(Ht)}function Or(e){return ue("authEvent",e.config.apiKey,e.name)}function Pr(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,i.querystringDecode)(n.join("?"))}const Ar=class{constructor(){this._redirectPersistence=$t,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Un,this._overrideRedirectResult=Dn}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Cr(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){C(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,l,u,c;const d=wr();O("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),O("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),O("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),O("function"===typeof(null===(l=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),O("function"===typeof(null===(c=null===(u=null===d||void 0===d?void 0:d.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Pn.clear(),await this._originValidation(e);const o=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Rr(),postBody:null,tenantId:e.tenantId,error:I(e,"no-auth-event")}}(e,n,r);await function(e,t){return xr()._set(Or(e),t)}(e,o);const s=await Sr(e,o,t);return async function(e,t,n){const{cordova:r}=wr();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout((()=>{s(I(e,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(l),document.addEventListener("resume",u,!1),me()&&document.addEventListener("visibilitychange",c,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await kr(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=wr(),n={};_e()?n.iosBundleId=t.packageName:me()?n.androidPackageName=t.packageName:C(e,"operation-not-supported-in-this-environment"),await Wn(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=wr(),o=setTimeout((async()=>{await Ir(e),t.onEvent(Nr())}),500),s=async n=>{clearTimeout(o);const r=await Ir(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Tr(r,n.url)),t.onEvent(i||Nr())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l=`${i.packageName.toLowerCase()}://`;wr().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function Nr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:I("no-auth-event")}}function Dr(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Lr(e=(0,i.getUA)()){return!("file:"!==Dr()&&"ionic:"!==Dr()&&"capacitor:"!==Dr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mr(e=(0,i.getUA)()){return(0,i.isIE)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,i.getUA)()){return/Edge\/\d+/.test(e)}(e)}function Fr(){try{const e=self.localStorage,t=Gt();if(e)return e.setItem(t,"1"),e.removeItem(t),!Mr()||(0,i.isIndexedDBAvailable)()}catch(e){return jr()&&(0,i.isIndexedDBAvailable)()}return!1}function jr(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Vr(){return("http:"===Dr()||"https:"===Dr()||(0,i.isBrowserExtension)()||Lr())&&!((0,i.isReactNative)()||(0,i.isNode)())&&Fr()&&!jr()}function Ur(){return Lr()&&"undefined"!==typeof document}const Br={LOCAL:"local",NONE:"none",SESSION:"session"},qr=O,zr="persistence";async function Hr(e){await e._initializationPromise;const t=Wr(),n=ue(zr,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Wr(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const $r=O;class Kr{constructor(){this.browserResolver=se(fr),this.cordovaResolver=se(Ar),this.underlyingResolver=null,this._redirectPersistence=$t,this._completeRedirectFn=Un,this._overrideRedirectResult=Dn}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Ur()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $r(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Ur()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Gr(e){return e.unwrap()}function Qr(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Zr(e,function(e,t){var n;const r=(0,i.getModularInstance)(e),o=t;return O(t.customData.operationType,r,"argument-error"),O(null===(n=o.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),jt._fromError(r,o)}(e,t))}else if(r){const e=Yr(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Yr(e){const{_tokenResponse:t}=e instanceof i.FirebaseError?e.customData:e;if(!t)return null;if(!(e instanceof i.FirebaseError)&&"temporaryProof"in t&&"phoneNumber"in t)return wn.credentialFromResult(e);const n=t.providerId;if(!n||n===u.PASSWORD)return null;let r;switch(n){case u.GOOGLE:r=Je;break;case u.FACEBOOK:r=Xe;break;case u.GITHUB:r=Ze;break;case u.TWITTER:r=nt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?et._create(n,s):ze._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new Ye(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof i.FirebaseError?r.credentialFromError(e):r.credentialFromResult(e)}function Xr(e,t){return t.catch((t=>{throw t instanceof i.FirebaseError&&Qr(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Yr(r)),additionalUserInfo:Mt(e),user:ei.getOrCreate(n)};var r}))}async function Jr(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Xr(e,n.confirm(t))}}class Zr{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Xr(Gr(this.auth),this.resolver.resolveSignIn(e))}}class ei{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,i.getModularInstance)(e);return Ut.has(t)||Ut.set(t,Vt._fromUser(t)),Ut.get(t)}(e)}static getOrCreate(e){return ei.USER_MAP.has(e)||ei.USER_MAP.set(e,new ei(e)),ei.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Xr(this.auth,gt(this._delegate,e))}async linkWithPhoneNumber(e,t){return Jr(this.auth,async function(e,t,n){const r=(0,i.getModularInstance)(e);await dt(!1,r,"phone");const o=await bn(r.auth,t,(0,i.getModularInstance)(n));return new _n(o,(e=>gt(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Xr(this.auth,async function(e,t,n){const r=(0,i.getModularInstance)(e);R(r.auth,t,Ge);const o=Sn(r.auth,n);return new xn(r.auth,"linkViaPopup",t,o,r).executeNotNull()}(this._delegate,e,Kr))}async linkWithRedirect(e){return await Hr(Ce(this.auth)),Vn(this._delegate,e,Kr)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Xr(this.auth,mt(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Jr(this.auth,async function(e,t,n){const r=(0,i.getModularInstance)(e),o=await bn(r.auth,t,(0,i.getModularInstance)(n));return new _n(o,(e=>mt(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Xr(this.auth,async function(e,t,n){const r=(0,i.getModularInstance)(e);R(r.auth,t,Ge);const o=Sn(r.auth,n);return new xn(r.auth,"reauthViaPopup",t,o,r).executeNotNull()}(this._delegate,e,Kr))}async reauthenticateWithRedirect(e){return await Hr(Ce(this.auth)),jn(this._delegate,e,Kr)}sendEmailVerification(e){return It(this._delegate,e)}async unlink(e){return await ut(this._delegate,e),this}updateEmail(e){return function(e,t){return xt((0,i.getModularInstance)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return xt((0,i.getModularInstance)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await ct((0,i.getModularInstance)(e),t)}(this._delegate,e)}updateProfile(e){return Rt(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Tt(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ei.USER_MAP=new WeakMap;const ti=O;class ni{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;ti(n,"invalid-api-key",{appName:e.name}),ti(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Kr:void 0;this._delegate=t.initialize({options:{persistence:ii(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(b),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ei.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Pe(this._delegate,e,t)}applyActionCode(e){return kt(this._delegate,e)}checkActionCode(e){return Et(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Le((0,i.getModularInstance)(e),{oobCode:t,newPassword:n}).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&St(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Xr(this._delegate,async function(e,t,n){var r;const i=Ce(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Oe(i,o,"signUpPassword");s=rt(i,e)}else s=rt(i,o).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Oe(i,o,"signUpPassword");return rt(i,e)}throw e}));const a=await s.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&St(e),t})),l=await it._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Ct(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=$e.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){ti(Vr(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Ce(e)._initializationPromise,Un(e,t,!1)}(this._delegate,Kr);return e?Xr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Ce(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=ri(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=ri(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){var r;const i=Ce(e),o={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(e,t){O(t.handleCodeInApp,i,"argument-error"),t&&wt(i,e,t)}if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Oe(i,o,"getOobCode",!0);s(e,n),await Ue(i,e)}else s(o,n),await Ue(i,o).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await Oe(i,o,"getOobCode",!0);s(e,n),await Ue(i,e)}}))}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){var r;const i=Ce(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Oe(i,o,"getOobCode",!0);n&&wt(i,e,n),await Ve(i,e)}else n&&wt(i,o,n),await Ve(i,o).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Oe(i,o,"getOobCode",!0);n&&wt(i,e,n),await Ve(i,e)}}))}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){qr(Object.values(Br).includes(t),e,"invalid-persistence-type"),(0,i.isReactNative)()?qr(t!==Br.SESSION,e,"unsupported-persistence-type"):(0,i.isNode)()?qr(t===Br.NONE,e,"unsupported-persistence-type"):jr()?qr(t===Br.NONE||t===Br.LOCAL&&(0,i.isIndexedDBAvailable)(),e,"unsupported-persistence-type"):qr(t===Br.NONE||Fr(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Br.SESSION:t=$t;break;case Br.LOCAL:t=await se(ln)._isAvailable()?ln:Ht;break;case Br.NONE:t=le;break;default:return C("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Xr(this._delegate,async function(e){var t;const n=Ce(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new it({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await rt(n,{returnSecureToken:!0}),i=await it._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Xr(this._delegate,pt(this._delegate,e))}signInWithCustomToken(e){return Xr(this._delegate,vt(this._delegate,e))}signInWithEmailAndPassword(e,t){return Xr(this._delegate,function(e,t,n){return pt((0,i.getModularInstance)(e),Ke.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&St(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Xr(this._delegate,async function(e,t,n){const r=(0,i.getModularInstance)(e),o=Ke.credentialWithLink(t,n||N());return O(o._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),pt(r,o)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Jr(this._delegate,async function(e,t,n){const r=Ce(e),o=await bn(r,t,(0,i.getModularInstance)(n));return new _n(o,(e=>pt(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return ti(Vr(),this._delegate,"operation-not-supported-in-this-environment"),Xr(this._delegate,async function(e,t,n){const r=Ce(e);R(e,t,Ge);const i=Sn(r,n);return new xn(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Kr))}async signInWithRedirect(e){return ti(Vr(),this._delegate,"operation-not-supported-in-this-environment"),await Hr(this._delegate),Fn(this._delegate,e,Kr)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Et((0,i.getModularInstance)(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function ri(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&ei.getOrCreate(e)),error:t,complete:n}}function ii(e,t){const n=function(e,t){const n=Wr();if(!n)return[];const r=ue(zr,e,t);switch(n.getItem(r)){case Br.NONE:return[le];case Br.LOCAL:return[ln,$t];case Br.SESSION:return[$t];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ln)||n.push(ln),"undefined"!==typeof window)for(const r of[Ht,$t])n.includes(r)||n.push(r);return n.includes(le)||n.push(le),n}ni.Persistence=Br;class oi{constructor(){this.providerId="phone",this._delegate=new wn(Gr(r.default.auth()))}static credential(e,t){return wn.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}oi.PHONE_SIGN_IN_METHOD=wn.PHONE_SIGN_IN_METHOD,oi.PROVIDER_ID=wn.PROVIDER_ID;const si=O;class ai{constructor(e,t,n=r.default.app()){var i;si(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new yn(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var li;(li=r.default).INTERNAL.registerComponent(new l.Component("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ni(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:c,PASSWORD_RESET:d,RECOVER_EMAIL:h,REVERT_SECOND_FACTOR_ADDITION:f,VERIFY_AND_CHANGE_EMAIL:p,VERIFY_EMAIL:g}},EmailAuthProvider:Ke,FacebookAuthProvider:Xe,GithubAuthProvider:Ze,GoogleAuthProvider:Je,OAuthProvider:Ye,SAMLAuthProvider:tt,PhoneAuthProvider:oi,PhoneMultiFactorGenerator:mr,RecaptchaVerifier:ai,TwitterAuthProvider:nt,Auth:ni,AuthCredential:De,Error:i.FirebaseError}).setInstantiationMode("LAZY").setMultipleInstances(!1)),li.registerVersion("@firebase/auth-compat","0.4.6")},2809:(e,t,n)=>{"use strict";n.r(t);var r=n(7512),i=n(4230),o=n(6147),s=n(7496),a=n(2068);const l="@firebase/database",u="1.0.1";let c="";function d(e){c=e}class h{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,s.stringify)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,s.jsonEval)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class f{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,s.contains)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const p=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new h(t)}}catch(t){}return new f},g=p("localStorage"),m=p("sessionStorage"),v=new a.Logger("@firebase/database"),y=function(){let e=1;return function(){return e++}}(),_=function(e){const t=(0,s.stringToByteArray)(e),n=new s.Sha1;n.update(t);const r=n.digest();return s.base64.encodeByteArray(r)},b=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=b.apply(null,r):t+="object"===typeof r?(0,s.stringify)(r):r,t+=" "}return t};let w=null,S=!0;const k=function(e,t){(0,s.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=a.LogLevel.VERBOSE,w=v.log.bind(v),t&&m.set("logging_enabled",!0)):"function"===typeof e?w=e:(w=null,m.remove("logging_enabled"))},E=function(...e){if(!0===S&&(S=!1,null===w&&!0===m.get("logging_enabled")&&k(!0)),w){const t=b.apply(null,e);w(t)}},C=function(e){return function(...t){E(e,...t)}},I=function(...e){const t="FIREBASE INTERNAL ERROR: "+b(...e);v.error(t)},T=function(...e){const t=`FIREBASE FATAL ERROR: ${b(...e)}`;throw v.error(t),new Error(t)},R=function(...e){const t="FIREBASE WARNING: "+b(...e);v.warn(t)},x=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},O="[MIN_NAME]",P="[MAX_NAME]",A=function(e,t){if(e===t)return 0;if(e===O||t===P)return-1;if(t===O||e===P)return 1;{const n=U(e),r=U(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},N=function(e,t){return e===t?0:e<t?-1:1},D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,s.stringify)(t))},L=function(e){if("object"!==typeof e||null===e)return(0,s.stringify)(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,s.stringify)(t[r]),n+=":",n+=L(e[t[r]]);return n+="}",n},M=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function F(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const j=function(e){(0,s.assert)(!x(e),"Invalid JSON number");const t=1023;let n,r,i,o,a;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const l=[];for(a=52;a;a-=1)l.push(i%2?1:0),i=Math.floor(i/2);for(a=11;a;a-=1)l.push(r%2?1:0),r=Math.floor(r/2);l.push(n?1:0),l.reverse();const u=l.join("");let c="";for(a=0;a<64;a+=8){let e=parseInt(u.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const V=new RegExp("^-?(0*)\\d{1,10}$"),U=function(e){if(V.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},B=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw R("Exception was thrown by user callback.",e),t}),Math.floor(0))}},q=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class z{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){R(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class H{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',R(e)}}class W{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}W.OWNER="owner";const $="5",K=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G="ac",Q="websocket",Y="long_polling";class X{constructor(e,t,n,r,i=!1,o="",s=!1,a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=g.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&g.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function J(e,t,n){let r;if((0,s.assert)("string"===typeof t,"typeof type must == string"),(0,s.assert)("object"===typeof n,"typeof params must == object"),t===Q)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Y)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return F(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class Z{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,s.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,s.deepCopy)(this.counters_)}}const ee={},te={};function ne(e){const t=e.toString();return ee[t]||(ee[t]=new Z),ee[t]}class re{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&B((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ie="start";class oe{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(e),this.stats_=ne(t),this.urlFn=e=>(this.appCheckToken&&(e[G]=this.appCheckToken),J(t,Y,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new re(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,s.isNodeSdk)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new se(((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===ie)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[ie]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=$,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[G]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&K.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){oe.forceAllow_=!0}static forceDisallow(){oe.forceDisallow_=!0}static isAvailable(){return!(0,s.isNodeSdk)()&&(!!oe.forceAllow_||!oe.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,s.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,s.base64Encode)(t),r=M(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,s.isNodeSdk)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,s.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class se{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,s.isNodeSdk)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=y(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=se.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){E("frame writing exception"),i.stack&&E(i.stack),E(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||E("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){(0,s.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{E("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let ae=null;"undefined"!==typeof MozWebSocket?ae=MozWebSocket:"undefined"!==typeof WebSocket&&(ae=WebSocket);class le{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=ne(t),this.connURL=le.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=$,!(0,s.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&K.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[G]=r),i&&(o.p=i),J(e,Q,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,g.set("previous_websocket_failure",!0);try{let e;if((0,s.isNodeSdk)()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${$}/${c}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"START",slug:"START",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#ffffff"},web:{},extra:{eas:{projectId:"c9283f31-2788-4af1-9733-9f2ebc7b00e5"}},runtimeVersion:{policy:"appVersion"},updates:{url:"https://u.expo.dev/c9283f31-2788-4af1-9733-9f2ebc7b00e5"},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new ae(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){le.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ae&&!le.forceDisallow_}static previouslyFailed(){return g.isInMemoryStorage||!0===g.get("previous_websocket_failure")}markConnectionHealthy(){g.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,s.jsonEval)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,s.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,s.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=M(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}le.responsesRequiredToBeHealthy=2,le.healthyTimeout=3e4;class ue{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[oe,le]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=le&&le.isAvailable();let n=t&&!le.previouslyFailed();if(e.webSocketOnly&&(t||R("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[le];else{const e=this.transports_=[];for(const t of ue.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);ue.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ue.globalTransportInitialized_=!1;class ce{constructor(e,t,n,r,i,o,s,a,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new ue(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=q((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=D("t",e),n=D("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=D("t",e),n=D("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=D("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?I("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),$!==n&&R("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),q((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):q((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(g.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class de{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class he{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,s.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){(0,s.assert)(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class fe extends he{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,s.isMobileCordova)()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new fe}getInitialEvent(e){return(0,s.assert)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const pe=32,ge=768;class me{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ve(){return new me("")}function ye(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function _e(e){return e.pieces_.length-e.pieceNum_}function be(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new me(e.pieces_,t)}function we(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Se(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function ke(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new me(t,0)}function Ee(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof me)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new me(n,0)}function Ce(e){return e.pieceNum_>=e.pieces_.length}function Ie(e,t){const n=ye(e),r=ye(t);if(null===n)return t;if(n===r)return Ie(be(e),be(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Te(e,t){const n=Se(e,0),r=Se(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=A(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Re(e,t){if(_e(e)!==_e(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function xe(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(_e(e)>_e(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Oe{constructor(e,t){this.errorPrefix_=t,this.parts_=Se(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,s.stringLength)(this.parts_[n]);Pe(this)}}function Pe(e){if(e.byteLength_>ge)throw new Error(e.errorPrefix_+"has a key path longer than "+ge+" bytes ("+e.byteLength_+").");if(e.parts_.length>pe)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pe+") or object contains a cycle "+Ae(e))}function Ae(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Ne extends he{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Ne}getInitialEvent(e){return(0,s.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const De=1e3;class Le extends de{constructor(e,t,n,r,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Le.nextPersistentConnectionId_++,this.log_=C("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=De,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,s.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ne.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&fe.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,s.stringify)(i)),(0,s.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new s.Deferred,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),(0,s.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,s.assert)(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;Le.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&(0,s.contains)(e,"w")){const n=(0,s.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();R(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,s.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,s.isValidFormat)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,s.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,s.stringify)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):I("Unrecognized action received from server: "+(0,s.stringify)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,s.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=De),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Le.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,n())},u=function(e){(0,s.assert)(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=l&&l.token,a=new ce(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{R(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(I){this.log_("Failed to get token: "+I),o||(this.repoInfo_.nodeAdmin&&R(I),l())}}}interrupt(e){E("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){E("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,s.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>L(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new me(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){E("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){E("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,s.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+c.replace(/\./g,"-")]=1,(0,s.isMobileCordova)()?e["framework.cordova"]=1:(0,s.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fe.getInstance().currentlyOnline();return(0,s.isEmpty)(this.interruptReasons_)&&e}}Le.nextPersistentConnectionId_=0,Le.nextConnectionId_=0;class Me{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Me(e,t)}}class Fe{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Me(O,e),r=new Me(O,t);return 0!==this.compare(n,r)}minPost(){return Me.MIN}}let je;class Ve extends Fe{static get __EMPTY_NODE(){return je}static set __EMPTY_NODE(e){je=e}compare(e,t){return A(e.name,t.name)}isDefinedOn(e){throw(0,s.assertionError)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Me.MIN}maxPost(){return new Me(P,je)}makePost(e,t){return(0,s.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Me(e,je)}toString(){return".key"}}const Ue=new Ve;class Be{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class qe{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:qe.RED,this.left=null!=r?r:ze.EMPTY_NODE,this.right=null!=i?i:ze.EMPTY_NODE}copy(e,t,n,r,i){return new qe(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return ze.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ze.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}qe.RED=!0,qe.BLACK=!1;class ze{constructor(e,t=ze.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ze(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,qe.BLACK,null,null))}remove(e){return new ze(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qe.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Be(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Be(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Be(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Be(this.root_,null,this.comparator_,!0,e)}}function He(e,t){return A(e.name,t.name)}function We(e,t){return A(e,t)}let $e;ze.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new qe(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ke=function(e){return"number"===typeof e?"number:"+j(e):"string:"+e},Ge=function(e){if(e.isLeafNode()){const t=e.val();(0,s.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,s.contains)(t,".sv"),"Priority must be a string or number.")}else(0,s.assert)(e===$e||e.isEmpty(),"priority of unexpected type.");(0,s.assert)(e===$e||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Qe,Ye,Xe;class Je{constructor(e,t=Je.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,s.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ge(this.priorityNode_)}static set __childrenNodeConstructor(e){Qe=e}static get __childrenNodeConstructor(){return Qe}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Je(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ce(e)?this:".priority"===ye(e)?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=ye(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,s.assert)(".priority"!==n||1===_e(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Je.__childrenNodeConstructor.EMPTY_NODE.updateChild(be(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ke(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?j(this.value_):this.value_,this.lazyHash_=_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Je.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Je.__childrenNodeConstructor?-1:((0,s.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Je.VALUE_TYPE_ORDER.indexOf(t),i=Je.VALUE_TYPE_ORDER.indexOf(n);return(0,s.assert)(r>=0,"Unknown leaf type: "+t),(0,s.assert)(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Je.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Ze=new class extends Fe{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?A(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Me.MIN}maxPost(){return new Me(P,new Je("[PRIORITY-POST]",Xe))}makePost(e,t){const n=Ye(e);return new Me(t,new Je("[PRIORITY-POST]",n))}toString(){return".priority"}},et=Math.log(2);class tt{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/et,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const nt=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new qe(a,s.node,qe.BLACK,null,null);{const l=parseInt(o/2,10)+t,u=i(t,l),c=i(l+1,r);return s=e[l],a=n?n(s):s,new qe(a,s.node,qe.BLACK,u,c)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const u=i(o+1,a),c=e[o],d=n?n(c):c;l(new qe(d,c.node,r,null,u))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,qe.BLACK):(a(r,qe.BLACK),a(r,qe.RED))}return o}(new tt(e.length));return new ze(r||t,o)};let rt;const it={};class ot{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,s.assert)(it&&Ze,"ChildrenNode.ts has not been loaded"),rt=rt||new ot({".priority":it},{".priority":Ze}),rt}get(e){const t=(0,s.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ze?t:null}hasIndex(e){return(0,s.contains)(this.indexSet_,e.toString())}addIndex(e,t){(0,s.assert)(e!==Ue,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Me.Wrap);let o,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();o=r?nt(n,e.getCompare()):it;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=o,new ot(c,u)}addToIndexes(e,t){const n=(0,s.map)(this.indexes_,((n,r)=>{const i=(0,s.safeGet)(this.indexSet_,r);if((0,s.assert)(i,"Missing index implementation for "+r),n===it){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Me.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),nt(n,i.getCompare())}return it}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Me(e.name,r))),i.insert(e,e.node)}}));return new ot(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,s.map)(this.indexes_,(n=>{if(n===it)return n;{const r=t.get(e.name);return r?n.remove(new Me(e.name,r)):n}}));return new ot(n,this.indexSet_)}}let st;class at{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ge(this.priorityNode_),this.children_.isEmpty()&&(0,s.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return st||(st=new at(new ze(We),null,ot.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||st}updatePriority(e){return this.children_.isEmpty()?this:new at(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?st:t}}getChild(e){const t=ye(e);return null===t?this:this.getImmediateChild(t).getChild(be(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,s.assert)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Me(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?st:this.priorityNode_;return new at(r,o,i)}}updateChild(e,t){const n=ye(e);if(null===n)return t;{(0,s.assert)(".priority"!==ye(e)||1===_e(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(be(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Ze,((o,s)=>{t[o]=s.val(e),n++,i&&at.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ke(this.getPriority().val())+":"),this.forEachChild(Ze,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":_(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Me(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Me(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Me(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Me.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Me.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===lt?-1:0}withIndex(e){if(e===Ue||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new at(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ue||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Ze),n=t.getIterator(Ze);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Ue?null:this.indexMap_.get(e.toString())}}at.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const lt=new class extends at{constructor(){super(new ze(We),at.EMPTY_NODE,ot.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return at.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Me,{MIN:{value:new Me(O,at.EMPTY_NODE)},MAX:{value:new Me(P,lt)}}),Ve.__EMPTY_NODE=at.EMPTY_NODE,Je.__childrenNodeConstructor=at,$e=lt,function(e){Xe=e}(lt);const ut=!0;function ct(e,t=null){if(null===e)return at.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,s.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Je(e,ct(t))}if(e instanceof Array||!ut){let n=at.EMPTY_NODE;return F(e,((t,r)=>{if((0,s.contains)(e,t)&&"."!==t.substring(0,1)){const e=ct(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(ct(t))}{const n=[];let r=!1;if(F(e,((e,t)=>{if("."!==e.substring(0,1)){const i=ct(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Me(e,i)))}})),0===n.length)return at.EMPTY_NODE;const i=nt(n,He,(e=>e.name),We);if(r){const e=nt(n,Ze.getCompare());return new at(i,ct(t),new ot({".priority":e},{".priority":Ze}))}return new at(i,ct(t),ot.Default)}}!function(e){Ye=e}(ct);class dt extends Fe{constructor(e){super(),this.indexPath_=e,(0,s.assert)(!Ce(e)&&".priority"!==ye(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?A(e.name,t.name):i}makePost(e,t){const n=ct(e),r=at.EMPTY_NODE.updateChild(this.indexPath_,n);return new Me(t,r)}maxPost(){const e=at.EMPTY_NODE.updateChild(this.indexPath_,lt);return new Me(P,e)}toString(){return Se(this.indexPath_,0).join("/")}}const ht=new class extends Fe{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?A(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Me.MIN}maxPost(){return Me.MAX}makePost(e,t){const n=ct(e);return new Me(t,n)}toString(){return".value"}};function ft(e){return{type:"value",snapshotNode:e}}function pt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function gt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function mt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class vt{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){(0,s.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(gt(t,a)):(0,s.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(pt(t,n)):o.trackChildChange(mt(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ze,((e,r)=>{t.hasChild(e)||n.trackChildChange(gt(e,r))})),t.isLeafNode()||t.forEachChild(Ze,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(mt(t,r,i))}else n.trackChildChange(pt(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?at.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class yt{constructor(e){this.indexedFilter_=new vt(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yt.getStartPost_(e),this.endPost_=yt.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Me(t,n))||(n=at.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=at.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(at.EMPTY_NODE);const i=this;return t.forEachChild(Ze,((e,t)=>{i.matches(new Me(e,t))||(r=r.updateImmediateChild(e,at.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class _t{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new yt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Me(t,n))||(n=at.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=at.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=at.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(at.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,at.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const a=e;(0,s.assert)(a.numChildren()===this.limit_,"");const l=new Me(t,n),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(t)){const e=a.getImmediateChild(t);let s=r.getChildAfterChild(this.index_,u,this.reverse_);for(;null!=s&&(s.name===t||a.hasChild(s.name));)s=r.getChildAfterChild(this.index_,s,this.reverse_);const d=null==s?1:o(s,l);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(mt(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(gt(t,e));const n=a.updateImmediateChild(t,at.EMPTY_NODE);return null!=s&&this.rangedFilter_.matches(s)?(null!=i&&i.trackChildChange(pt(s.name,s.node)),n.updateImmediateChild(s.name,s.node)):n}}return n.isEmpty()?e:c&&o(u,l)>=0?(null!=i&&(i.trackChildChange(gt(u.name,u.node)),i.trackChildChange(pt(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(u.name,at.EMPTY_NODE)):e}}class bt{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ze}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,s.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,s.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:O}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,s.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,s.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:P}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,s.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ze}copy(){const e=new bt;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function wt(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function St(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function kt(e,t){const n=e.copy();return n.index_=t,n}function Et(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ze?n="$priority":e.index_===ht?n="$value":e.index_===Ue?n="$key":((0,s.assert)(e.index_ instanceof dt,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,s.stringify)(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=(0,s.stringify)(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+(0,s.stringify)(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=(0,s.stringify)(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+(0,s.stringify)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ct(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ze&&(t.i=e.index_.toString()),t}class It extends de{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=C("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,s.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=It.getListenId_(e,n),a={};this.listens_[o]=a;const l=Et(e._queryParams);this.restRequest_(i+".json",l,((e,t)=>{let l=t;if(404===e&&(l=null,e=null),null===e&&this.onDataUpdate_(i,l,!1,n),(0,s.safeGet)(this.listens_,o)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=It.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Et(e._queryParams),n=e._path.toString(),r=new s.Deferred;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,s.querystring)(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=(0,s.jsonEval)(a.responseText)}catch(e){R("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&R("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class Tt{constructor(){this.rootNode_=at.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Rt(){return{value:null,children:new Map}}function xt(e,t,n){if(Ce(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=ye(t);e.children.has(r)||e.children.set(r,Rt());xt(e.children.get(r),t=be(t),n)}}function Ot(e,t){if(Ce(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Ze,((t,n)=>{xt(e,new me(t),n)})),Ot(e,t)}}if(e.children.size>0){const n=ye(t);if(t=be(t),e.children.has(n)){Ot(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function Pt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Pt(r,new me(t.toString()+"/"+e),n)}))}class At{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&F(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Nt{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new At(e);const n=1e4+2e4*Math.random();q(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;F(e,((e,r)=>{r>0&&(0,s.contains)(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Dt;function Lt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Dt||(Dt={}));class Mt{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Dt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ce(this.path)){if(null!=this.affectedTree.value)return(0,s.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new me(e));return new Mt(ve(),t,this.revert)}}return(0,s.assert)(ye(this.path)===e,"operationForChild called for unrelated child."),new Mt(be(this.path),this.affectedTree,this.revert)}}class Ft{constructor(e,t){this.source=e,this.path=t,this.type=Dt.LISTEN_COMPLETE}operationForChild(e){return Ce(this.path)?new Ft(this.source,ve()):new Ft(this.source,be(this.path))}}class jt{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Dt.OVERWRITE}operationForChild(e){return Ce(this.path)?new jt(this.source,ve(),this.snap.getImmediateChild(e)):new jt(this.source,be(this.path),this.snap)}}class Vt{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Dt.MERGE}operationForChild(e){if(Ce(this.path)){const t=this.children.subtree(new me(e));return t.isEmpty()?null:t.value?new jt(this.source,ve(),t.value):new Vt(this.source,ve(),t)}return(0,s.assert)(ye(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vt(this.source,be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ut{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ce(e))return this.isFullyInitialized()&&!this.filtered_;const t=ye(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Bt{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function qt(e,t,n,r,i,o){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw(0,s.assertionError)("Should only compare child_ events.");const r=new Me(t.childName,t.snapshotNode),i=new Me(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function zt(e,t){return{eventCache:e,serverCache:t}}function Ht(e,t,n,r){return zt(new Ut(t,n,r),e.serverCache)}function Wt(e,t,n,r){return zt(e.eventCache,new Ut(t,n,r))}function $t(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Kt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Gt;class Qt{constructor(e,t=(()=>(Gt||(Gt=new ze(N)),Gt))()){this.value=e,this.children=t}static fromObject(e){let t=new Qt(null);return F(e,((e,n)=>{t=t.set(new me(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ve(),value:this.value};if(Ce(e))return null;{const n=ye(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(be(e),t);if(null!=i){return{path:Ee(new me(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Ce(e))return this;{const t=ye(e),n=this.children.get(t);return null!==n?n.subtree(be(e)):new Qt(null)}}set(e,t){if(Ce(e))return new Qt(t,this.children);{const n=ye(e),r=(this.children.get(n)||new Qt(null)).set(be(e),t),i=this.children.insert(n,r);return new Qt(this.value,i)}}remove(e){if(Ce(e))return this.children.isEmpty()?new Qt(null):new Qt(null,this.children);{const t=ye(e),n=this.children.get(t);if(n){const r=n.remove(be(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Qt(null):new Qt(this.value,i)}return this}}get(e){if(Ce(e))return this.value;{const t=ye(e),n=this.children.get(t);return n?n.get(be(e)):null}}setTree(e,t){if(Ce(e))return t;{const n=ye(e),r=(this.children.get(n)||new Qt(null)).setTree(be(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Qt(this.value,i)}}fold(e){return this.fold_(ve(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(Ee(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ve(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Ce(e))return null;{const r=ye(e),i=this.children.get(r);return i?i.findOnPath_(be(e),Ee(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ve(),t)}foreachOnPath_(e,t,n){if(Ce(e))return this;{this.value&&n(t,this.value);const r=ye(e),i=this.children.get(r);return i?i.foreachOnPath_(be(e),Ee(t,r),n):new Qt(null)}}foreach(e){this.foreach_(ve(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Ee(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Yt{constructor(e){this.writeTree_=e}static empty(){return new Yt(new Qt(null))}}function Xt(e,t,n){if(Ce(t))return new Yt(new Qt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Ie(i,t);return o=o.updateChild(s,n),new Yt(e.writeTree_.set(i,o))}{const r=new Qt(n),i=e.writeTree_.setTree(t,r);return new Yt(i)}}}function Jt(e,t,n){let r=e;return F(n,((e,n)=>{r=Xt(r,Ee(t,e),n)})),r}function Zt(e,t){if(Ce(t))return Yt.empty();{const n=e.writeTree_.setTree(t,new Qt(null));return new Yt(n)}}function en(e,t){return null!=tn(e,t)}function tn(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ie(n.path,t)):null}function nn(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ze,((e,n)=>{t.push(new Me(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Me(e,n.value))})),t}function rn(e,t){if(Ce(t))return e;{const n=tn(e,t);return new Yt(null!=n?new Qt(n):e.writeTree_.subtree(t))}}function on(e){return e.writeTree_.isEmpty()}function sn(e,t){return an(ve(),e.writeTree_,t)}function an(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?((0,s.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=an(Ee(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ee(e,".priority"),r)),n}}function ln(e,t){return wn(t,e)}function un(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));(0,s.assert)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&cn(t,r.path)?i=!1:xe(r.path,t.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=hn(e.allWrites,dn,ve()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Zt(e.visibleWrites,r.path);else{F(r.children,(t=>{e.visibleWrites=Zt(e.visibleWrites,Ee(r.path,t))}))}return!0}return!1}function cn(e,t){if(e.snap)return xe(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&xe(Ee(e.path,n),t))return!0;return!1}function dn(e){return e.visible}function hn(e,t,n){let r=Yt.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)xe(n,e)?(t=Ie(n,e),r=Xt(r,t,o.snap)):xe(e,n)&&(t=Ie(e,n),r=Xt(r,ve(),o.snap.getChild(t)));else{if(!o.children)throw(0,s.assertionError)("WriteRecord should have .snap or .children");if(xe(n,e))t=Ie(n,e),r=Jt(r,t,o.children);else if(xe(e,n))if(t=Ie(e,n),Ce(t))r=Jt(r,ve(),o.children);else{const e=(0,s.safeGet)(o.children,ye(t));if(e){const n=e.getChild(be(t));r=Xt(r,ve(),n)}}}}}return r}function fn(e,t,n,r,i){if(r||i){const o=rn(e.visibleWrites,t);if(!i&&on(o))return n;if(i||null!=n||en(o,ve())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(xe(e.path,t)||xe(t,e.path))};return sn(hn(e.allWrites,o,t),n||at.EMPTY_NODE)}return null}{const r=tn(e.visibleWrites,t);if(null!=r)return r;{const r=rn(e.visibleWrites,t);if(on(r))return n;if(null!=n||en(r,ve())){return sn(r,n||at.EMPTY_NODE)}return null}}}function pn(e,t,n,r){return fn(e.writeTree,e.treePath,t,n,r)}function gn(e,t){return function(e,t,n){let r=at.EMPTY_NODE;const i=tn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ze,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=rn(e.visibleWrites,t);return n.forEachChild(Ze,((e,t)=>{const n=sn(rn(i,new me(e)),t);r=r.updateImmediateChild(e,n)})),nn(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return nn(rn(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function mn(e,t,n,r){return function(e,t,n,r,i){(0,s.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Ee(t,n);if(en(e.visibleWrites,o))return null;{const t=rn(e.visibleWrites,o);return on(t)?i.getChild(n):sn(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function vn(e,t){return function(e,t){return tn(e.visibleWrites,t)}(e.writeTree,Ee(e.treePath,t))}function yn(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=rn(e.visibleWrites,t),u=tn(l,ve());if(null!=u)a=u;else{if(null==n)return[];a=sn(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function _n(e,t,n){return function(e,t,n,r){const i=Ee(t,n),o=tn(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return sn(rn(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function bn(e,t){return wn(Ee(e.treePath,t),e.writeTree)}function wn(e,t){return{treePath:e,writeTree:t}}class Sn{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,s.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,s.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,mt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,gt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,pt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,s.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,mt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const kn=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class En{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Ut(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _n(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Kt(this.viewCache_),i=yn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Cn(e,t,n,r,i){const o=new Sn;let a,l;if(n.type===Dt.OVERWRITE){const u=n;u.source.fromUser?a=Rn(e,t,u.path,u.snap,r,i,o):((0,s.assert)(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!Ce(u.path),a=Tn(e,t,u.path,u.snap,r,i,l,o))}else if(n.type===Dt.MERGE){const u=n;u.source.fromUser?a=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const u=Ee(n,r);xn(t,ye(u))&&(a=Rn(e,a,u,l,i,o,s))})),r.foreach(((r,l)=>{const u=Ee(n,r);xn(t,ye(u))||(a=Rn(e,a,u,l,i,o,s))})),a}(e,t,u.path,u.children,r,i,o):((0,s.assert)(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),a=Pn(e,t,u.path,u.children,r,i,l,o))}else if(n.type===Dt.ACK_USER_WRITE){const l=n;a=l.revert?function(e,t,n,r,i,o){let a;if(null!=vn(r,n))return t;{const l=new En(r,t,i),u=t.eventCache.getNode();let c;if(Ce(n)||".priority"===ye(n)){let n;if(t.serverCache.isFullyInitialized())n=pn(r,Kt(t));else{const e=t.serverCache.getNode();(0,s.assert)(e instanceof at,"serverChildren would be complete if leaf node"),n=gn(r,e)}c=e.filter.updateFullNode(u,n,o)}else{const i=ye(n);let s=_n(r,i,t.serverCache);null==s&&t.serverCache.isCompleteForChild(i)&&(s=u.getImmediateChild(i)),c=null!=s?e.filter.updateChild(u,i,s,be(n),l,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(u,i,at.EMPTY_NODE,be(n),l,o):u,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=pn(r,Kt(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=vn(r,ve()),Ht(t,c,a,e.filter.filtersNodes())}}(e,t,l.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=vn(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Ce(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Tn(e,t,n,l.getNode().getChild(n),i,o,a,s);if(Ce(n)){let r=new Qt(null);return l.getNode().forEachChild(Ue,((e,t)=>{r=r.set(new me(e),t)})),Pn(e,t,n,r,i,o,a,s)}return t}{let u=new Qt(null);return r.foreach(((e,t)=>{const r=Ee(n,e);l.isCompleteForPath(r)&&(u=u.set(e,l.getNode().getChild(r)))})),Pn(e,t,n,u,i,o,a,s)}}(e,t,l.path,l.affectedTree,r,i,o)}else{if(n.type!==Dt.LISTEN_COMPLETE)throw(0,s.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const o=t.serverCache,s=Wt(t,o.getNode(),o.isFullyInitialized()||Ce(n),o.isFiltered());return In(e,s,n,r,kn,i)}(e,t,n.path,r,o)}const u=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=$t(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ft($t(t)))}}(t,a,u),{viewCache:a,changes:u}}function In(e,t,n,r,i,o){const a=t.eventCache;if(null!=vn(r,n))return t;{let l,u;if(Ce(n))if((0,s.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Kt(t),i=gn(r,n instanceof at?n:at.EMPTY_NODE);l=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=pn(r,Kt(t));l=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=ye(n);if(".priority"===c){(0,s.assert)(1===_e(n),"Can't have a priority with additional path components");const i=a.getNode();u=t.serverCache.getNode();const o=mn(r,n,i,u);l=null!=o?e.filter.updatePriority(i,o):a.getNode()}else{const s=be(n);let d;if(a.isCompleteForChild(c)){u=t.serverCache.getNode();const e=mn(r,n,a.getNode(),u);d=null!=e?a.getNode().getImmediateChild(c).updateChild(s,e):a.getNode().getImmediateChild(c)}else d=_n(r,c,t.serverCache);l=null!=d?e.filter.updateChild(a.getNode(),c,d,s,i,o):a.getNode()}}return Ht(t,l,a.isFullyInitialized()||Ce(n),e.filter.filtersNodes())}}function Tn(e,t,n,r,i,o,s,a){const l=t.serverCache;let u;const c=s?e.filter:e.filter.getIndexedFilter();if(Ce(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),e,null)}else{const e=ye(n);if(!l.isCompleteForPath(n)&&_e(n)>1)return t;const i=be(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);u=".priority"===e?c.updatePriority(l.getNode(),o):c.updateChild(l.getNode(),e,o,i,kn,null)}const d=Wt(t,u,l.isFullyInitialized()||Ce(n),c.filtersNodes());return In(e,d,n,i,new En(i,d,o),a)}function Rn(e,t,n,r,i,o,s){const a=t.eventCache;let l,u;const c=new En(i,t,o);if(Ce(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Ht(t,u,!0,e.filter.filtersNodes());else{const i=ye(n);if(".priority"===i)u=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ht(t,u,a.isFullyInitialized(),a.isFiltered());else{const o=be(n),u=a.getNode().getImmediateChild(i);let d;if(Ce(o))d=r;else{const e=c.getCompleteChild(i);d=null!=e?".priority"===we(o)&&e.getChild(ke(o)).isEmpty()?e:e.updateChild(o,r):at.EMPTY_NODE}if(u.equals(d))l=t;else{l=Ht(t,e.filter.updateChild(a.getNode(),i,d,o,c,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function xn(e,t){return e.eventCache.isCompleteForChild(t)}function On(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Pn(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,u=t;l=Ce(n)?r:new Qt(null).setTree(n,r);const c=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(c.hasChild(n)){const l=On(0,t.serverCache.getNode().getImmediateChild(n),r);u=Tn(e,u,new me(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!l){const l=On(0,t.serverCache.getNode().getImmediateChild(n),r);u=Tn(e,u,new me(n),l,i,o,s,a)}})),u}class An{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new vt(n.getIndex()),i=(o=n).loadsAllData()?new vt(o.getIndex()):o.hasLimit()?new _t(o):new yt(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(at.EMPTY_NODE,s.getNode(),null),u=i.updateFullNode(at.EMPTY_NODE,a.getNode(),null),c=new Ut(l,s.isFullyInitialized(),r.filtersNodes()),d=new Ut(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=zt(d,c),this.eventGenerator_=new Bt(this.query_)}get query(){return this.query_}}function Nn(e,t){const n=Kt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ce(t)&&!n.getImmediateChild(ye(t)).isEmpty())?n.getChild(t):null}function Dn(e){return 0===e.eventRegistrations_.length}function Ln(e,t,n){const r=[];if(n){(0,s.assert)(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Mn(e,t,n,r){t.type===Dt.MERGE&&null!==t.source.queryId&&((0,s.assert)(Kt(e.viewCache_),"We should always have a full cache before handling merges"),(0,s.assert)($t(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=Cn(e.processor_,i,t,n,r);var a,l;return a=e.processor_,l=o.viewCache,(0,s.assert)(l.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),(0,s.assert)(l.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),(0,s.assert)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Fn(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Fn(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),qt(e,i,"child_removed",t,r,n),qt(e,i,"child_added",t,r,n),qt(e,i,"child_moved",o,r,n),qt(e,i,"child_changed",t,r,n),qt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let jn,Vn;class Un{constructor(){this.views=new Map}}function Bn(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return(0,s.assert)(null!=o,"SyncTree gave us an op for an invalid query."),Mn(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(Mn(o,t,n,r));return i}}function qn(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=pn(n,i?r:null),o=!1;e?o=!0:r instanceof at?(e=gn(n,r),o=!1):(e=at.EMPTY_NODE,o=!1);const s=zt(new Ut(e,o,!1),new Ut(r,i,!1));return new An(t,s)}return s}function zn(e,t,n,r,i,o){const s=qn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Ze,((e,t)=>{r.push(pt(e,t))}));return n.isFullyInitialized()&&r.push(ft(n.getNode())),Fn(e,r,n.getNode(),t)}(s,n)}function Hn(e,t,n,r){const i=t._queryIdentifier,o=[];let a=[];const l=Qn(e);if("default"===i)for(const[s,u]of e.views.entries())a=a.concat(Ln(u,n,r)),Dn(u)&&(e.views.delete(s),u.query._queryParams.loadsAllData()||o.push(u.query));else{const t=e.views.get(i);t&&(a=a.concat(Ln(t,n,r)),Dn(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return l&&!Qn(e)&&o.push(new((0,s.assert)(jn,"Reference.ts has not been loaded"),jn)(t._repo,t._path)),{removed:o,events:a}}function Wn(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function $n(e,t){let n=null;for(const r of e.views.values())n=n||Nn(r,t);return n}function Kn(e,t){if(t._queryParams.loadsAllData())return Yn(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Gn(e,t){return null!=Kn(e,t)}function Qn(e){return null!=Yn(e)}function Yn(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Xn=1;class Jn{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Qt(null),this.pendingWriteTree_={visibleWrites:Yt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Zn(e,t,n,r,i){return function(e,t,n,r,i){(0,s.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Xt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?lr(e,new jt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function er(e,t,n,r){!function(e,t,n,r){(0,s.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Jt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=Qt.fromObject(n);return lr(e,new Vt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function tr(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(un(e.pendingWriteTree_,t)){let t=new Qt(null);return null!=r.snap?t=t.set(ve(),!0):F(r.children,(e=>{t=t.set(new me(e),!0)})),lr(e,new Mt(r.path,t,n))}return[]}function nr(e,t,n){return lr(e,new jt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function rr(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Gn(s,t))){const l=Hn(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const n=-1!==u.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>Qn(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Qn(t)){return[Yn(t)]}{let e=[];return t&&(e=Wn(t)),F(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=dr(e,r);e.listenProvider_.startListening(vr(i),hr(e,i),o.hashFn,o.onComplete)}}}if(!i&&u.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(vr(t),n)}else u.forEach((t=>{const n=e.queryToTagMap.get(fr(t));e.listenProvider_.stopListening(vr(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=fr(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,u)}return a}function ir(e,t,n,r){const i=pr(e,r);if(null!=i){const r=gr(i),o=r.path,s=r.queryId,a=Ie(o,t);return mr(e,o,new jt(Lt(s),a,n))}return[]}function or(e,t,n,r=!1){const i=t._path;let o=null,a=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=Ie(e,i);o=o||$n(t,n),a=a||Qn(t)}));let l,u=e.syncPointTree_.get(i);if(u?(a=a||Qn(u),o=o||$n(u,ve())):(u=new Un,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=o)l=!0;else{l=!1,o=at.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=$n(t,ve());n&&(o=o.updateImmediateChild(e,n))}))}const c=Gn(u,t);if(!c&&!t._queryParams.loadsAllData()){const n=fr(t);(0,s.assert)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Xn++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let d=zn(u,t,n,ln(e.pendingWriteTree_,i),o,l);if(!c&&!a&&!r){const n=Kn(u,t);d=d.concat(function(e,t,n){const r=t._path,i=hr(e,t),o=dr(e,n),a=e.listenProvider_.startListening(vr(t),i,o.hashFn,o.onComplete),l=e.syncPointTree_.subtree(r);if(i)(0,s.assert)(!Qn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const t=l.fold(((e,t,n)=>{if(!Ce(e)&&t&&Qn(t))return[Yn(t).query];{let e=[];return t&&(e=e.concat(Wn(t).map((e=>e.query)))),F(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(vr(r),hr(e,r))}}return a}(e,t,n))}return d}function sr(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=$n(n,Ie(e,t));if(r)return r}));return fn(r,t,i,n,!0)}function ar(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=Ie(e,n);r=r||$n(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||$n(i,ve()):(i=new Un,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new Ut(r,!0,!1):null;return function(e){return $t(e.viewCache_)}(qn(i,t,ln(e.pendingWriteTree_,t._path),o?s.getNode():at.EMPTY_NODE,o))}function lr(e,t){return ur(t,e.syncPointTree_,null,ln(e.pendingWriteTree_,ve()))}function ur(e,t,n,r){if(Ce(e.path))return cr(e,t,n,r);{const i=t.get(ve());null==n&&null!=i&&(n=$n(i,ve()));let o=[];const s=ye(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=bn(r,s);o=o.concat(ur(a,l,e,t))}return i&&(o=o.concat(Bn(i,e,r,n))),o}}function cr(e,t,n,r){const i=t.get(ve());null==n&&null!=i&&(n=$n(i,ve()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=bn(r,t),l=e.operationForChild(t);l&&(o=o.concat(cr(l,i,s,a)))})),i&&(o=o.concat(Bn(i,e,r,n))),o}function dr(e,t){const n=t.query,r=hr(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||at.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=pr(e,n);if(r){const n=gr(r),i=n.path,o=n.queryId,s=Ie(i,t);return mr(e,i,new Ft(Lt(o),s))}return[]}(e,n._path,r):function(e,t){return lr(e,new Ft({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return rr(e,n,null,r)}}}}function hr(e,t){const n=fr(t);return e.queryToTagMap.get(n)}function fr(e){return e._path.toString()+"$"+e._queryIdentifier}function pr(e,t){return e.tagToQueryMap.get(t)}function gr(e){const t=e.indexOf("$");return(0,s.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new me(e.substr(0,t))}}function mr(e,t,n){const r=e.syncPointTree_.get(t);(0,s.assert)(r,"Missing sync point for query tag that we're tracking");return Bn(r,n,ln(e.pendingWriteTree_,t),null)}function vr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,s.assert)(Vn,"Reference.ts has not been loaded"),Vn)(e._repo,e._path):e}class yr{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new yr(t)}node(){return this.node_}}class _r{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ee(this.path_,e);return new _r(this.syncTree_,t)}node(){return sr(this.syncTree_,this.path_)}}const br=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},wr=function(e,t,n){return e&&"object"===typeof e?((0,s.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Sr(e[".sv"],t,n):"object"===typeof e[".sv"]?kr(e[".sv"],t):void(0,s.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Sr=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,s.assert)(!1,"Unexpected server value: "+e)},kr=function(e,t,n){e.hasOwnProperty("increment")||(0,s.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&(0,s.assert)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,s.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},Er=function(e,t,n,r){return Ir(t,new _r(n,e),r)},Cr=function(e,t,n){return Ir(e,new yr(t),n)};function Ir(e,t,n){const r=e.getPriority().val(),i=wr(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=wr(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Je(o,ct(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Je(i))),r.forEachChild(Ze,((e,r)=>{const i=Ir(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class Tr{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Rr(e,t){let n=t instanceof me?t:new me(t),r=e,i=ye(n);for(;null!==i;){const e=(0,s.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Tr(i,r,e),n=be(n),i=ye(n)}return r}function xr(e){return e.node.value}function Or(e,t){e.node.value=t,Lr(e)}function Pr(e){return e.node.childCount>0}function Ar(e,t){F(e.node.children,((n,r)=>{t(new Tr(n,e,r))}))}function Nr(e,t,n,r){n&&!r&&t(e),Ar(e,(e=>{Nr(e,t,!0,r)})),n&&r&&t(e)}function Dr(e){return new me(null===e.parent?e.name:Dr(e.parent)+"/"+e.name)}function Lr(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===xr(e)&&!Pr(e)}(n),i=(0,s.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Lr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Lr(e))}(e.parent,e.name,e)}const Mr=/[\[\].#$\/\u0000-\u001F\u007F]/,Fr=/[\[\].#$\u0000-\u001F\u007F]/,jr=10485760,Vr=function(e){return"string"===typeof e&&0!==e.length&&!Mr.test(e)},Ur=function(e){return"string"===typeof e&&0!==e.length&&!Fr.test(e)},Br=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!x(e)||e&&"object"===typeof e&&(0,s.contains)(e,".sv")},qr=function(e,t,n,r){r&&void 0===t||zr((0,s.errorPrefix)(e,"value"),t,n)},zr=function(e,t,n){const r=n instanceof me?new Oe(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ae(r));if("function"===typeof t)throw new Error(e+"contains a function "+Ae(r)+" with contents = "+t.toString());if(x(t))throw new Error(e+"contains "+t.toString()+" "+Ae(r));if("string"===typeof t&&t.length>jr/3&&(0,s.stringLength)(t)>jr)throw new Error(e+"contains a string greater than "+jr+" utf8 bytes "+Ae(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(F(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Vr(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ae(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,s.stringLength)(t),Pe(e)}(r,t),zr(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=(0,s.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Ae(r)+" in addition to actual children.")}},Hr=function(e,t,n,r){if(r&&void 0===t)return;const i=(0,s.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];F(t,((e,t)=>{const r=new me(e);if(zr(i,t,Ee(n,r)),".priority"===we(r)&&!Br(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=Se(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!Vr(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Te);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&xe(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},Wr=function(e,t,n){if(!n||void 0!==t){if(x(t))throw new Error((0,s.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Br(t))throw new Error((0,s.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},$r=function(e,t,n,r){if((!r||void 0!==n)&&!Vr(n))throw new Error((0,s.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Kr=function(e,t,n,r){if((!r||void 0!==n)&&!Ur(n))throw new Error((0,s.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Gr=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Kr(e,t,n,r)},Qr=function(e,t){if(".info"===ye(t))throw new Error(e+" failed = Can't modify data under /.info/")},Yr=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Vr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ur(e)}(n))throw new Error((0,s.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Xr{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jr(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||Re(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Zr(e,t,n){Jr(e,n),ti(e,(e=>Re(e,t)))}function ei(e,t,n){Jr(e,n),ti(e,(e=>xe(e,t)||xe(t,e)))}function ti(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(ni(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function ni(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();w&&E("event: "+n.toString()),B(r)}}}const ri="repo_interrupt",ii=25;class oi{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rt(),this.transactionQueueTree_=new Tr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function si(e,t,n){if(e.stats_=ne(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new It(e.repoInfo_,((t,n,r,i)=>{ui(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>ci(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,s.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Le(e.repoInfo_,t,((t,n,r,i)=>{ui(e,t,n,r,i)}),(t=>{ci(e,t)}),(t=>{!function(e,t){F(t,((t,n)=>{di(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return te[n]||(te[n]=t()),te[n]}(e.repoInfo_,(()=>new Nt(e.stats_,e.server_))),e.infoData_=new Tt,e.infoSyncTree_=new Jn({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=nr(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),di(e,"connected",!1),e.serverSyncTree_=new Jn({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);ei(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function ai(e){const t=e.infoData_.getNode(new me(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function li(e){return br({timestamp:ai(e)})}function ui(e,t,n,r,i){e.dataUpdateCount++;const o=new me(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=(0,s.map)(n,(e=>ct(e)));a=function(e,t,n,r){const i=pr(e,r);if(i){const r=gr(i),o=r.path,s=r.queryId,a=Ie(o,t),l=Qt.fromObject(n);return mr(e,o,new Vt(Lt(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=ct(n);a=ir(e.serverSyncTree_,o,t,i)}else if(r){const t=(0,s.map)(n,(e=>ct(e)));a=function(e,t,n){const r=Qt.fromObject(n);return lr(e,new Vt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=ct(n);a=nr(e.serverSyncTree_,o,t)}let l=o;a.length>0&&(l=Si(e,o)),ei(e.eventQueue_,l,a)}function ci(e,t){di(e,"connected",t),!1===t&&function(e){yi(e,"onDisconnectEvents");const t=li(e),n=Rt();Pt(e.onDisconnect_,ve(),((r,i)=>{const o=Er(r,i,e.serverSyncTree_,t);xt(n,r,o)}));let r=[];Pt(n,ve(),((t,n)=>{r=r.concat(nr(e.serverSyncTree_,t,n));const i=Ti(e,t);Si(e,i)})),e.onDisconnect_=Rt(),ei(e.eventQueue_,ve(),r)}(e)}function di(e,t,n){const r=new me("/.info/"+t),i=ct(n);e.infoData_.updateSnapshot(r,i);const o=nr(e.infoSyncTree_,r,i);ei(e.eventQueue_,r,o)}function hi(e){return e.nextWriteId_++}function fi(e,t,n,r,i){yi(e,"set",{path:t.toString(),value:n,priority:r});const o=li(e),s=ct(n,r),a=sr(e.serverSyncTree_,t),l=Cr(s,a,o),u=hi(e),c=Zn(e.serverSyncTree_,t,l,u,!0);Jr(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||R("set at "+t+" failed: "+n);const s=tr(e.serverSyncTree_,u,!o);ei(e.eventQueue_,t,s),_i(e,i,n,r)}));const d=Ti(e,t);Si(e,d),ei(e.eventQueue_,d,[])}function pi(e,t,n){e.server_.onDisconnectCancel(t.toString(),((r,i)=>{"ok"===r&&Ot(e.onDisconnect_,t),_i(e,n,r,i)}))}function gi(e,t,n,r){const i=ct(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),((n,o)=>{"ok"===n&&xt(e.onDisconnect_,t,i),_i(e,r,n,o)}))}function mi(e,t,n){let r;r=".info"===ye(t._path)?rr(e.infoSyncTree_,t,n):rr(e.serverSyncTree_,t,n),Zr(e.eventQueue_,t._path,r)}function vi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ri)}function yi(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),E(n,...t)}function _i(e,t,n,r){t&&B((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function bi(e,t,n){return sr(e.serverSyncTree_,t,n)||at.EMPTY_NODE}function wi(e,t=e.transactionQueueTree_){if(t||Ii(e,t),xr(t)){const n=Ei(e,t);(0,s.assert)(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=bi(e,t,r);let o=i;const a=i.hash();for(let c=0;c<n.length;c++){const e=n[c];(0,s.assert)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Ie(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const l=o.val(!0),u=t;e.server_.put(u.toString(),l,(r=>{yi(e,"transaction put response",{path:u.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(tr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Ii(e,Rr(e.transactionQueueTree_,t)),wi(e,e.transactionQueueTree_),ei(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)B(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{R("transaction at "+u.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Si(e,t)}}),a)}(e,Dr(t),n)}else Pr(t)&&Ar(t,(t=>{wi(e,t)}))}function Si(e,t){const n=ki(e,t),r=Dr(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),a=o.map((e=>e.currentWriteId));for(let u=0;u<t.length;u++){const o=t[u],c=Ie(n,o.path);let d,h=!1;if((0,s.assert)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)h=!0,d=o.abortReason,i=i.concat(tr(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=ii)h=!0,d="maxretry",i=i.concat(tr(e.serverSyncTree_,o.currentWriteId,!0));else{const n=bi(e,o.path,a);o.currentInputSnapshot=n;const r=t[u].update(n.val());if(void 0!==r){zr("transaction failed: Data returned ",r,o.path);let t=ct(r);"object"===typeof r&&null!=r&&(0,s.contains)(r,".priority")||(t=t.updatePriority(n.getPriority()));const l=o.currentWriteId,u=li(e),c=Cr(t,n,u);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=hi(e),a.splice(a.indexOf(l),1),i=i.concat(Zn(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(tr(e.serverSyncTree_,l,!0))}else h=!0,d="nodata",i=i.concat(tr(e.serverSyncTree_,o.currentWriteId,!0))}ei(e.eventQueue_,n,i),i=[],h&&(t[u].status=2,l=t[u].unwatcher,setTimeout(l,Math.floor(0)),t[u].onComplete&&("nodata"===d?r.push((()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot))):r.push((()=>t[u].onComplete(new Error(d),!1,null)))))}var l;Ii(e,e.transactionQueueTree_);for(let s=0;s<r.length;s++)B(r[s]);wi(e,e.transactionQueueTree_)}(e,Ei(e,n),r),r}function ki(e,t){let n,r=e.transactionQueueTree_;for(n=ye(t);null!==n&&void 0===xr(r);)r=Rr(r,n),n=ye(t=be(t));return r}function Ei(e,t){const n=[];return Ci(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Ci(e,t,n){const r=xr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ar(t,(t=>{Ci(e,t,n)}))}function Ii(e,t){const n=xr(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Or(t,n.length>0?n:void 0)}Ar(t,(t=>{Ii(e,t)}))}function Ti(e,t){const n=Dr(ki(e,t)),r=Rr(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Ri(e,t)})),Ri(e,r),Nr(r,(t=>{Ri(e,t)})),n}function Ri(e,t){const n=xr(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,s.assert)(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):((0,s.assert)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(tr(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Or(t,void 0):n.length=o+1,ei(e.eventQueue_,Dr(t),i);for(let e=0;e<r.length;e++)B(r[e])}}const xi=function(e,t){const n=Oi(e),r=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&R("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new X(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new me(n.pathString)}},Oi=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(c,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):R(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Pi="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ai=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Pi.charAt(n%64),n=Math.floor(n/64);(0,s.assert)(0===n,"Cannot push at time == 0");let a=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)a+=Pi.charAt(t[i]);return(0,s.assert)(20===a.length,"nextPushId: Length should be 20."),a}}();class Ni{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,s.stringify)(this.snapshot.exportVal())}}class Di{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Li{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,s.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Mi{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new s.Deferred;return pi(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){Qr("OnDisconnect.remove",this._path);const e=new s.Deferred;return gi(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){Qr("OnDisconnect.set",this._path),qr("OnDisconnect.set",e,this._path,!1);const t=new s.Deferred;return gi(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){Qr("OnDisconnect.setWithPriority",this._path),qr("OnDisconnect.setWithPriority",e,this._path,!1),Wr("OnDisconnect.setWithPriority",t,!1);const n=new s.Deferred;return function(e,t,n,r,i){const o=ct(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),((n,r)=>{"ok"===n&&xt(e.onDisconnect_,t,o),_i(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){Qr("OnDisconnect.update",this._path),Hr("OnDisconnect.update",e,this._path,!1);const t=new s.Deferred;return function(e,t,n,r){if((0,s.isEmpty)(n))return E("onDisconnect().update() called with empty data.  Don't do anything."),void _i(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((i,o)=>{"ok"===i&&F(n,((n,r)=>{const i=ct(r);xt(e.onDisconnect_,Ee(t,n),i)})),_i(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}class Fi{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Ce(this._path)?null:we(this._path)}get ref(){return new Bi(this._repo,this._path)}get _queryIdentifier(){const e=Ct(this._queryParams),t=L(e);return"{}"===t?"default":t}get _queryObject(){return Ct(this._queryParams)}isEqual(e){if(!((e=(0,s.getModularInstance)(e))instanceof Fi))return!1;const t=this._repo===e._repo,n=Re(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function ji(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Vi(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ue){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==O)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==P)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Ze){if(null!=t&&!Br(t)||null!=n&&!Br(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,s.assert)(e.getIndex()instanceof dt||e.getIndex()===ht,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ui(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Bi extends Fi{constructor(e,t){super(e,t,new bt,!1)}get parent(){const e=ke(this._path);return null===e?null:new Bi(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class qi{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new me(e),n=Wi(this.ref,e);return new qi(this._node.getChild(t),n,Ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new qi(n,Wi(this.ref,t),Ze))))}hasChild(e){const t=new me(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function zi(e,t){return(e=(0,s.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Wi(e._root,t):e._root}function Hi(e,t){(e=(0,s.getModularInstance)(e))._checkNotDeleted("refFromURL");const n=xi(t,e._repo.repoInfo_.nodeAdmin);Yr("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||T("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),zi(e,n.path.toString())}function Wi(e,t){return null===ye((e=(0,s.getModularInstance)(e))._path)?Gr("child","path",t,!1):Kr("child","path",t,!1),new Bi(e._repo,Ee(e._path,t))}function $i(e,t){e=(0,s.getModularInstance)(e),Qr("set",e._path),qr("set",t,e._path,!1);const n=new s.Deferred;return fi(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function Ki(e,t){Hr("update",t,e._path,!1);const n=new s.Deferred;return function(e,t,n,r){yi(e,"update",{path:t.toString(),value:n});let i=!0;const o=li(e),s={};if(F(n,((n,r)=>{i=!1,s[n]=Er(Ee(t,n),ct(r),e.serverSyncTree_,o)})),i)E("update() called with empty data.  Don't do anything."),_i(0,r,"ok",void 0);else{const i=hi(e),o=er(e.serverSyncTree_,t,s,i);Jr(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const s="ok"===n;s||R("update at "+t+" failed: "+n);const a=tr(e.serverSyncTree_,i,!s),l=a.length>0?Si(e,t):t;ei(e.eventQueue_,l,a),_i(0,r,n,o)})),F(n,(n=>{const r=Ti(e,Ee(t,n));Si(e,r)})),ei(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function Gi(e){e=(0,s.getModularInstance)(e);const t=new Li((()=>{})),n=new Qi(t);return function(e,t,n){const r=ar(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=ct(r).withIndex(t._queryParams.getIndex());let o;if(or(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=nr(e.serverSyncTree_,t._path,i);else{const n=hr(e.serverSyncTree_,t);o=ir(e.serverSyncTree_,t._path,i,n)}return ei(e.eventQueue_,t._path,o),rr(e.serverSyncTree_,t,n,null,!0),i}),(n=>(yi(e,"get for query "+(0,s.stringify)(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new qi(t,new Bi(e._repo,e._path),e._queryParams.getIndex())))}class Qi{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Ni("value",this,new qi(e.snapshotNode,new Bi(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Di(this,e,t):null}matches(e){return e instanceof Qi&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Yi{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Di(this,e,t):null}createEvent(e,t){(0,s.assert)(null!=e.childName,"Child events should have a childName.");const n=Wi(new Bi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ni(e.type,this,new qi(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Yi&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Xi(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{mi(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new Li(n,o||void 0),a="value"===t?new Qi(s):new Yi(t,s);return function(e,t,n){let r;r=".info"===ye(t._path)?or(e.infoSyncTree_,t,n):or(e.serverSyncTree_,t,n),Zr(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>mi(e._repo,e,a)}function Ji(e,t,n,r){return Xi(e,"value",t,n,r)}function Zi(e,t,n,r){return Xi(e,"child_added",t,n,r)}function eo(e,t,n,r){return Xi(e,"child_changed",t,n,r)}function to(e,t,n,r){return Xi(e,"child_moved",t,n,r)}function no(e,t,n,r){return Xi(e,"child_removed",t,n,r)}function ro(e,t,n){let r=null;const i=n?new Li(n):null;"value"===t?r=new Qi(i):t&&(r=new Yi(t,i)),mi(e._repo,e,r)}class io{}class oo extends io{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){qr("endAt",this._value,e._path,!0);const t=St(e._queryParams,this._value,this._key);if(Ui(t),Vi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)}}class so extends io{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){qr("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===Ue||n?St(e,t,n):St(e,t,O),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Ui(t),Vi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)}}class ao extends io{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){qr("startAt",this._value,e._path,!0);const t=wt(e._queryParams,this._value,this._key);if(Ui(t),Vi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)}}class lo extends io{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){qr("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===Ue||n?wt(e,t,n):wt(e,t,P),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Ui(t),Vi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)}}class uo extends io{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fi(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class co extends io{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fi(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class ho extends io{constructor(e){super(),this._path=e}_apply(e){ji(e,"orderByChild");const t=new me(this._path);if(Ce(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new dt(t),r=kt(e._queryParams,n);return Vi(r),new Fi(e._repo,e._path,r,!0)}}class fo extends io{_apply(e){ji(e,"orderByKey");const t=kt(e._queryParams,Ue);return Vi(t),new Fi(e._repo,e._path,t,!0)}}class po extends io{_apply(e){ji(e,"orderByPriority");const t=kt(e._queryParams,Ze);return Vi(t),new Fi(e._repo,e._path,t,!0)}}class go extends io{_apply(e){ji(e,"orderByValue");const t=kt(e._queryParams,ht);return Vi(t),new Fi(e._repo,e._path,t,!0)}}class mo extends io{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(qr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new oo(this._value,this._key)._apply(new ao(this._value,this._key)._apply(e))}}function vo(e,...t){let n=(0,s.getModularInstance)(e);for(const r of t)n=r._apply(n);return n}!function(e){(0,s.assert)(!jn,"__referenceConstructor has already been defined"),jn=e}(Bi),function(e){(0,s.assert)(!Vn,"__referenceConstructor has already been defined"),Vn=e}(Bi);const yo="FIREBASE_DATABASE_EMULATOR_HOST",_o={};let bo=!1;function wo(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),E("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,l=xi(o,i),u=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"START",slug:"START",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#ffffff"},web:{},extra:{eas:{projectId:"c9283f31-2788-4af1-9733-9f2ebc7b00e5"}},runtimeVersion:{policy:"appVersion"},updates:{url:"https://u.expo.dev/c9283f31-2788-4af1-9733-9f2ebc7b00e5"},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}[yo]),a?(s=!0,o=`http://${a}?ns=${u.namespace}`,l=xi(o,i),u=l.repoInfo):s=!l.repoInfo.secure;const c=i&&s?new W(W.OWNER):new H(e.name,e.options,t);Yr("Invalid Firebase Database URL",l),Ce(l.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=_o[t.name];i||(i={},_o[t.name]=i);let o=i[e.toURLString()];o&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new oi(e,bo,n,r),i[e.toURLString()]=o,o}(u,e,c,new z(e.name,n));return new So(d,e)}class So{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(si(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bi(this._repo,ve())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=_o[t];n&&n[e.key]===e||T(`Database ${t}(${e.repoInfo_}) has already been deleted.`),vi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&T("Cannot call "+e+" on a deleted database.")}}function ko(){ue.IS_TRANSPORT_INITIALIZED&&R("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Eo(){ko(),oe.forceDisallow()}function Co(){ko(),le.forceDisallow(),oe.forceAllow()}function Io(e,t,n,r={}){(e=(0,s.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&T("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&T('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new W(W.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:(0,s.createMockUserToken)(r.mockUserToken,e.app.options.projectId);o=new W(t)}!function(e,t,n,r){e.repoInfo_=new X(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function To(e){var t;(e=(0,s.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ri)}function Ro(e,t){k(e,t)}const xo={".sv":"timestamp"};class Oo{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Po(e,t,n){var r;if(e=(0,s.getModularInstance)(e),Qr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,o=new s.Deferred,a=Ji(e,(()=>{}));return function(e,t,n,r,i,o){yi(e,"transaction on "+t);const a={path:t,update:n,onComplete:r,status:null,order:y(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=bi(e,t,void 0);a.currentInputSnapshot=l;const u=a.update(l.val());if(void 0===u)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{zr("transaction failed: Data returned ",u,a.path),a.status=0;const n=Rr(e.transactionQueueTree_,t),r=xr(n)||[];let i;r.push(a),Or(n,r),"object"===typeof u&&null!==u&&(0,s.contains)(u,".priority")?(i=(0,s.safeGet)(u,".priority"),(0,s.assert)(Br(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=(sr(e.serverSyncTree_,t)||at.EMPTY_NODE).getPriority().val();const o=li(e),c=ct(u,i),d=Cr(c,l,o);a.currentOutputSnapshotRaw=c,a.currentOutputSnapshotResolved=d,a.currentWriteId=hi(e);const h=Zn(e.serverSyncTree_,t,d,a.currentWriteId,a.applyLocally);ei(e.eventQueue_,t,h),wi(e,e.transactionQueueTree_)}}(e._repo,e._path,t,((t,n,r)=>{let i=null;t?o.reject(t):(i=new qi(r,new Bi(e._repo,e._path),Ze),o.resolve(new Oo(n,i)))}),a,i),o.promise}Le.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Le.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Ao;d(o.SDK_VERSION),(0,o._registerComponent)(new i.Component("database",((e,{instanceIdentifier:t})=>wo(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(l,u,Ao),(0,o.registerVersion)(l,u,"esm2017");const No=new a.Logger("@firebase/database-compat"),Do=function(e){const t="FIREBASE WARNING: "+e;No.warn(t)};class Lo{constructor(e){this._delegate=e}cancel(e){(0,s.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,s.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){(0,s.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,s.validateCallback)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){(0,s.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,s.validateCallback)("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){(0,s.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,s.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}update(e,t){if((0,s.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Do("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,s.validateCallback)("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}class Mo{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,s.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Fo{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,s.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,s.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,s.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,s.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,s.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),Kr("DataSnapshot.child","path",e,!1),new Fo(this._database,this._delegate.child(e))}hasChild(e){return(0,s.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Kr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,s.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,s.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,s.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new Fo(this._database,t))))}hasChildren(){return(0,s.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,s.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,s.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Vo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class jo{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;(0,s.validateArgCount)("Query.on",2,4,arguments.length),(0,s.validateCallback)("Query.on","callback",t,!1);const o=jo.getCancelAndContextArgs_("Query.on",n,r),a=(e,n)=>{t.call(o.context,new Fo(this.database,e),n)};a.userCallback=t,a.context=o.context;const l=null===(i=o.cancel)||void 0===i?void 0:i.bind(o.context);switch(e){case"value":return Ji(this._delegate,a,l),t;case"child_added":return Zi(this._delegate,a,l),t;case"child_removed":return no(this._delegate,a,l),t;case"child_changed":return eo(this._delegate,a,l),t;case"child_moved":return to(this._delegate,a,l),t;default:throw new Error((0,s.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if((0,s.validateArgCount)("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,s.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),(0,s.validateCallback)("Query.off","callback",t,!0),(0,s.validateContextObject)("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,ro(this._delegate,e,r)}else ro(this._delegate,e)}get(){return Gi(this._delegate).then((e=>new Fo(this.database,e)))}once(e,t,n,r){(0,s.validateArgCount)("Query.once",1,4,arguments.length),(0,s.validateCallback)("Query.once","callback",t,!0);const i=jo.getCancelAndContextArgs_("Query.once",n,r),o=new s.Deferred,a=(e,n)=>{const r=new Fo(this.database,e);t&&t.call(i.context,r,n),o.resolve(r)};a.userCallback=t,a.context=i.context;const l=e=>{i.cancel&&i.cancel.call(i.context,e),o.reject(e)};switch(e){case"value":Ji(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Zi(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":no(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":eo(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":to(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,s.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return(0,s.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new jo(this.database,vo(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new uo(e)}(e)))}limitToLast(e){return(0,s.validateArgCount)("Query.limitToLast",1,1,arguments.length),new jo(this.database,vo(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new co(e)}(e)))}orderByChild(e){return(0,s.validateArgCount)("Query.orderByChild",1,1,arguments.length),new jo(this.database,vo(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Kr("orderByChild","path",e,!1),new ho(e)}(e)))}orderByKey(){return(0,s.validateArgCount)("Query.orderByKey",0,0,arguments.length),new jo(this.database,vo(this._delegate,new fo))}orderByPriority(){return(0,s.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new jo(this.database,vo(this._delegate,new po))}orderByValue(){return(0,s.validateArgCount)("Query.orderByValue",0,0,arguments.length),new jo(this.database,vo(this._delegate,new go))}startAt(e=null,t){return(0,s.validateArgCount)("Query.startAt",0,2,arguments.length),new jo(this.database,vo(this._delegate,function(e=null,t){return $r("startAt","key",t,!0),new ao(e,t)}(e,t)))}startAfter(e=null,t){return(0,s.validateArgCount)("Query.startAfter",0,2,arguments.length),new jo(this.database,vo(this._delegate,function(e,t){return $r("startAfter","key",t,!0),new lo(e,t)}(e,t)))}endAt(e=null,t){return(0,s.validateArgCount)("Query.endAt",0,2,arguments.length),new jo(this.database,vo(this._delegate,function(e,t){return $r("endAt","key",t,!0),new oo(e,t)}(e,t)))}endBefore(e=null,t){return(0,s.validateArgCount)("Query.endBefore",0,2,arguments.length),new jo(this.database,vo(this._delegate,function(e,t){return $r("endBefore","key",t,!0),new so(e,t)}(e,t)))}equalTo(e,t){return(0,s.validateArgCount)("Query.equalTo",1,2,arguments.length),new jo(this.database,vo(this._delegate,function(e,t){return $r("equalTo","key",t,!0),new mo(e,t)}(e,t)))}toString(){return(0,s.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,s.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,s.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof jo)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,s.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,s.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,s.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Vo(this.database,new Bi(this._delegate._repo,this._delegate._path))}}class Vo extends jo{constructor(e,t){super(e,new Fi(t._repo,t._path,new bt,!1)),this.database=e,this._delegate=t}getKey(){return(0,s.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,s.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new Vo(this.database,Wi(this._delegate,e))}getParent(){(0,s.validateArgCount)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Vo(this.database,e):null}getRoot(){return(0,s.validateArgCount)("Reference.root",0,0,arguments.length),new Vo(this.database,this._delegate.root)}set(e,t){(0,s.validateArgCount)("Reference.set",1,2,arguments.length),(0,s.validateCallback)("Reference.set","onComplete",t,!0);const n=$i(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if((0,s.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Do("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qr("Reference.update",this._delegate._path),(0,s.validateCallback)("Reference.update","onComplete",t,!0);const n=Ki(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){(0,s.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,s.validateCallback)("Reference.setWithPriority","onComplete",n,!0);const r=function(e,t,n){if(Qr("setWithPriority",e._path),qr("setWithPriority",t,e._path,!1),Wr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new s.Deferred;return fi(e._repo,e._path,t,n,r.wrapCallback((()=>{}))),r.promise}(this._delegate,e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}remove(e){(0,s.validateArgCount)("Reference.remove",0,1,arguments.length),(0,s.validateCallback)("Reference.remove","onComplete",e,!0);const t=function(e){return Qr("remove",e._path),$i(e,null)}(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){(0,s.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,s.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,s.validateCallback)("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,s.errorPrefix)(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);const r=Po(this._delegate,e,{applyLocally:n}).then((e=>new Mo(e.committed,new Fo(this.database,e.snapshot))));return t&&r.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),r}setPriority(e,t){(0,s.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,s.validateCallback)("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=(0,s.getModularInstance)(e),Qr("setPriority",e._path),Wr("setPriority",t,!1);const n=new s.Deferred;return fi(e._repo,Ee(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise}(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(e,t){(0,s.validateArgCount)("Reference.push",0,2,arguments.length),(0,s.validateCallback)("Reference.push","onComplete",t,!0);const n=function(e,t){e=(0,s.getModularInstance)(e),Qr("push",e._path),qr("push",t,e._path,!0);const n=ai(e._repo),r=Ai(n),i=Wi(e,r),o=Wi(e,r);let a;return a=null!=t?$i(o,t).then((()=>o)):Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}(this._delegate,e),r=n.then((e=>new Vo(this.database,e)));t&&r.then((()=>t(null)),(e=>t(e)));const i=new Vo(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return Qr("Reference.onDisconnect",this._delegate._path),new Lo(new Mi(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Uo{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Eo,forceLongPolling:Co}}useEmulator(e,t,n={}){Io(this._delegate,e,t,n)}ref(e){if((0,s.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Vo){const t=Hi(this._delegate,e.toString());return new Vo(this,t)}{const t=zi(this._delegate,e);return new Vo(this,t)}}refFromURL(e){(0,s.validateArgCount)("database.refFromURL",1,1,arguments.length);const t=Hi(this._delegate,e);return new Vo(this,t)}goOffline(){return(0,s.validateArgCount)("database.goOffline",0,0,arguments.length),e=this._delegate,(e=(0,s.getModularInstance)(e))._checkNotDeleted("goOffline"),void vi(e._repo);var e}goOnline(){return(0,s.validateArgCount)("database.goOnline",0,0,arguments.length),To(this._delegate)}}Uo.ServerValue={TIMESTAMP:xo,increment:e=>function(e){return{".sv":{increment:e}}}(e)};var Bo=Object.freeze({__proto__:null,initStandalone:function({app:e,url:t,version:n,customAuthImpl:r,customAppCheckImpl:o,namespace:s,nodeAdmin:a=!1}){d(n);const l=new i.ComponentContainer("database-standalone"),u=new i.Provider("auth-internal",l);let c;return u.setComponent(new i.Component("auth-internal",(()=>r),"PRIVATE")),o&&(c=new i.Provider("app-check-internal",l),c.setComponent(new i.Component("app-check-internal",(()=>o),"PRIVATE"))),{instance:new Uo(wo(e,u,c,t,a),e),namespace:s}}});const qo=Uo.ServerValue;var zo;(zo=r.default).INTERNAL.registerComponent(new i.Component("database-compat",((e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new Uo(r,n)}),"PUBLIC").setServiceProps({Reference:Vo,Query:jo,Database:Uo,DataSnapshot:Fo,enableLogging:Ro,INTERNAL:Bo,ServerValue:qo}).setMultipleInstances(!0)),zo.registerVersion("@firebase/database-compat","1.0.1")},5691:(e,t,n)=>{"use strict";n.r(t);var r,i=n(7512),o=n(6147),s=n(4230),a=n(2068),l=n(7496),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},c={},d=d||{},h=u||self;function f(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function b(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function w(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function S(){this.s=this.s,this.o=this.o}S.prototype.s=!1,S.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++m))},S.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const k=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function E(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function C(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(f(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function I(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",(()=>{}),t),h.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function R(e){return/^[\s\xa0]*$/.test(e)}function x(){var e=h.navigator;return e&&(e=e.userAgent)?e:""}function O(e){return-1!=x().indexOf(e)}function P(e){return P[" "](e),e}P[" "]=function(){};var A,N,D=O("Opera"),L=O("Trident")||O("MSIE"),M=O("Edge"),F=M||L,j=O("Gecko")&&!(-1!=x().toLowerCase().indexOf("webkit")&&!O("Edge"))&&!(O("Trident")||O("MSIE"))&&!O("Edge"),V=-1!=x().toLowerCase().indexOf("webkit")&&!O("Edge");function U(){var e=h.document;return e?e.documentMode:void 0}e:{var B="",q=function(){var e=x();return j?/rv:([^\);]+)(\)|;)/.exec(e):M?/Edge\/([\d\.]+)/.exec(e):L?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):V?/WebKit\/(\S+)/.exec(e):D?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(q&&(B=q?q[1]:""),L){var z=U();if(null!=z&&z>parseFloat(B)){A=String(z);break e}}A=B}if(h.document&&L){var H=U();N=H||(parseInt(A,10)||void 0)}else N=void 0;var W=N;function $(e,t){if(I.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(j){e:{try{P(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:K[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$.$.h.call(this)}}w($,I);var K={2:"touch",3:"pen",4:"mouse"};$.prototype.h=function(){$.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),Q=0;function Y(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Q,this.fa=this.ia=!1}function X(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function J(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Z(e){const t={};for(const n in e)t[n]=e[n];return t}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ee.length;t++)n=ee[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ne(e){this.src=e,this.g={},this.h=0}function re(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=k(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(X(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ie(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}ne.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=ie(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Y(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var oe="closure_lm_"+(1e6*Math.random()|0),se={};function ae(e,t,n,r,i){if(r&&r.once)return ue(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ae(e,t[o],n,r,i);return null}return n=me(n),e&&e[G]?e.O(t,n,p(r)?!!r.capture:!!r,i):le(e,t,n,!1,r,i)}function le(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=pe(e);if(a||(e[oe]=a=new ne(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=fe;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)T||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(he(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ue(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ue(e,t[o],n,r,i);return null}return n=me(n),e&&e[G]?e.P(t,n,p(r)?!!r.capture:!!r,i):le(e,t,n,!0,r,i)}function ce(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ce(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=me(n),e&&e[G]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ie(o=e.g[t],n,r,i))&&(X(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=pe(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ie(t,n,r,i)),(n=-1<e?t[e]:null)&&de(n))}function de(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[G])re(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(he(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=pe(t))?(re(n,e),0==n.h&&(n.src=null,t[oe]=null)):X(e)}}}function he(e){return e in se?se[e]:se[e]="on"+e}function fe(e,t){if(e.fa)e=!0;else{t=new $(t,this);var n=e.listener,r=e.la||e.src;e.ia&&de(e),e=n.call(r,t)}return e}function pe(e){return(e=e[oe])instanceof ne?e:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(e){return"function"===typeof e?e:(e[ge]||(e[ge]=function(t){return e.handleEvent(t)}),e[ge])}function ve(){S.call(this),this.i=new ne(this),this.S=this,this.J=null}function ye(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new I(t,e);else if(t instanceof I)t.target=t.target||e;else{var i=t;te(t=new I(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=_e(s,r,!0,t)&&i}if(i=_e(s=t.g=e,r,!0,t)&&i,i=_e(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=_e(s=t.g=n[o],r,!1,t)&&i}function _e(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&re(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}w(ve,S),ve.prototype[G]=!0,ve.prototype.removeEventListener=function(e,t,n,r){ce(this,e,t,n,r)},ve.prototype.N=function(){if(ve.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)X(n[r]);delete t.g[e],t.h--}}this.J=null},ve.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ve.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var be=h.JSON.stringify;function we(){var e=Re;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Se=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new ke),(e=>e.reset()));class ke{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ee(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ce(e){h.setTimeout((()=>{throw e}),0)}let Ie,Te=!1,Re=new class{constructor(){this.h=this.g=null}add(e,t){const n=Se.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},xe=()=>{const e=h.Promise.resolve(void 0);Ie=()=>{e.then(Oe)}};var Oe=()=>{for(var e;e=we();){try{e.h.call(e.g)}catch(n){Ce(n)}var t=Se;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Te=!1};function Pe(e,t){ve.call(this),this.h=e||1,this.g=t||h,this.j=_(this.qb,this),this.l=Date.now()}function Ae(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ne(e,t,n){if("function"===typeof e)n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:h.setTimeout(e,t||0)}function De(e){e.g=Ne((()=>{e.g=null,e.i&&(e.i=!1,De(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}w(Pe,ve),(r=Pe.prototype).ga=!1,r.T=null,r.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ye(this,"tick"),this.ga&&(Ae(this),this.start()))}},r.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.N=function(){Pe.$.N.call(this),Ae(this),delete this.g};class Le extends S{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(e){S.call(this),this.h=e,this.g={}}w(Me,S);var Fe=[];function je(e,t,n,r){Array.isArray(n)||(n&&(Fe[0]=n.toString()),n=Fe);for(var i=0;i<n.length;i++){var o=ae(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ve(e){J(e.g,(function(e,t){this.g.hasOwnProperty(t)&&de(e)}),e),e.g={}}function Ue(){this.g=!0}function Be(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return be(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Me.prototype.N=function(){Me.$.N.call(this),Ve(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ue.prototype.Ea=function(){this.g=!1},Ue.prototype.info=function(){};var qe={},ze=null;function He(){return ze=ze||new ve}function We(e){I.call(this,qe.Ta,e)}function $e(e){const t=He();ye(t,new We(t))}function Ke(e,t){I.call(this,qe.STAT_EVENT,e),this.stat=t}function Ge(e){const t=He();ye(t,new Ke(t,e))}function Qe(e,t){I.call(this,qe.Ua,e),this.size=t}function Ye(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){e()}),t)}qe.Ta="serverreachability",w(We,I),qe.STAT_EVENT="statevent",w(Ke,I),qe.Ua="timingevent",w(Qe,I);var Xe={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Je={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ze(){}function et(e){return e.h||(e.h=e.i())}function tt(){}Ze.prototype.h=null;var nt,rt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function it(){I.call(this,"d")}function ot(){I.call(this,"c")}function st(){}function at(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Me(this),this.P=ut,e=F?125:void 0,this.V=new Pe(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new lt}function lt(){this.i=null,this.g="",this.h=!1}w(it,I),w(ot,I),w(st,Ze),st.prototype.g=function(){return new XMLHttpRequest},st.prototype.i=function(){return{}},nt=new st;var ut=45e3,ct={},dt={};function ht(e,t,n){e.L=1,e.v=Pt(It(t)),e.s=n,e.S=!0,ft(e,null)}function ft(e,t){e.G=Date.now(),vt(e),e.A=It(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Ht(n.i,"t",r),e.C=0,n=e.l.J,e.h=new lt,e.g=$n(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Le(_(e.Pa,e,e.g),e.O)),je(e.U,e.g,"readystatechange",e.nb),t=e.I?Z(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),$e(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&"type"==d[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function pt(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function gt(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=mt(e,n),r==dt){4==t&&(e.o=4,Ge(14),i=!1),Be(e.j,e.m,null,"[Incomplete Response]");break}if(r==ct){e.o=4,Ge(15),Be(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Be(e.j,e.m,r,null),St(e,r)}pt(e)&&r!=dt&&r!=ct&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ge(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),jn(t),t.M=!0,Ge(11))):(Be(e.j,e.m,n,"[Invalid Chunked Response]"),wt(e),bt(e))}function mt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?dt:(n=Number(t.substring(n,r)),isNaN(n)?ct:(r+=1)+n>t.length?dt:(t=t.slice(r,r+n),e.C=r+n,t))}function vt(e){e.Y=Date.now()+e.P,yt(e,e.P)}function yt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ye(_(e.lb,e),t)}function _t(e){e.B&&(h.clearTimeout(e.B),e.B=null)}function bt(e){0==e.l.H||e.J||Bn(e.l,e)}function wt(e){_t(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ae(e.V),Ve(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function St(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Xt(n.i,e)))if(!e.K&&Xt(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Un(n),On(n)}Fn(n),Ge(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ye(_(n.ib,n),6e3));if(1>=Yt(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else zn(n,11)}else if((e.K||n.g==e)&&Un(n),!R(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Jt(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Ot(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Wn(r,r.J?r.pa:null,r.Y),s.K){Zt(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(_t(a),vt(a)),r.g=s}else Mn(r);0<n.j.length&&An(n)}else"stop"!=u[0]&&"close"!=u[0]||zn(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?zn(n,7):xn(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}$e()}catch(u){}}function kt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(f(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(r=at.prototype).setTimeout=function(e){this.P=e},r.nb=function(e){e=e.target;const t=this.M;t&&3==kn(e)?t.l():this.Pa(e)},r.Pa=function(e){try{if(e==this.g)e:{const c=kn(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||F||this.g&&(this.h.h||this.g.ja()||En(this.g)))){this.J||4!=c||7==t||$e(),_t(this);var n=this.g.da();this.ca=n;t:if(pt(this)){var r=En(this.g);e="";var i=r.length,o=4==kn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){wt(this),bt(this);var s="";break t}this.h.i=new h.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Ge(12),wt(this),bt(this);break e}Be(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,St(this,n)}this.S?(gt(this,c,s),F&&this.i&&3==c&&(je(this.U,this.V,"tick",this.mb),this.V.start())):(Be(this.j,this.m,s,null),St(this,s)),4==c&&wt(this),this.i&&!this.J&&(4==c?Bn(this.l,this):(this.i=!1,vt(this)))}else(function(e){const t={};e=(e.g&&2<=kn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(R(e[r]))continue;var n=Ee(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Ge(12)):(this.o=0,Ge(13)),wt(this),bt(this)}}}catch(c){}},r.mb=function(){if(this.g){var e=kn(this.g),t=this.g.ja();this.C<t.length&&(_t(this),gt(this,e,t),this.i&&4!=e&&vt(this))}},r.cancel=function(){this.J=!0,wt(this)},r.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&($e(),Ge(17)),wt(this),this.o=2,bt(this)):yt(this,this.Y-e)};var Et=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ct(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ct){this.h=e.h,Tt(this,e.j),this.s=e.s,this.g=e.g,Rt(this,e.m),this.l=e.l;var t=e.i,n=new Ut;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),xt(this,n),this.o=e.o}else e&&(t=String(e).match(Et))?(this.h=!1,Tt(this,t[1]||"",!0),this.s=At(t[2]||""),this.g=At(t[3]||"",!0),Rt(this,t[4]),this.l=At(t[5]||"",!0),xt(this,t[6]||"",!0),this.o=At(t[7]||"")):(this.h=!1,this.i=new Ut(null,this.h))}function It(e){return new Ct(e)}function Tt(e,t,n){e.j=n?At(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Rt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xt(e,t,n){t instanceof Ut?(e.i=t,function(e,t){t&&!e.j&&(Bt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(qt(this,t),Ht(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Nt(t,jt)),e.i=new Ut(t,e.h))}function Ot(e,t,n){e.i.set(t,n)}function Pt(e){return Ot(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function At(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Nt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Dt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Dt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ct.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Nt(t,Lt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Nt(t,Lt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Nt(n,"/"==n.charAt(0)?Ft:Mt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Nt(n,Vt)),e.join("")};var Lt=/[#\/\?@]/g,Mt=/[#\?:]/g,Ft=/[#\?]/g,jt=/[#\?@]/g,Vt=/#/g;function Ut(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Bt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function qt(e,t){Bt(e),t=Wt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function zt(e,t){return Bt(e),t=Wt(e,t),e.g.has(t)}function Ht(e,t,n){qt(e,t),0<n.length&&(e.i=null,e.g.set(Wt(e,t),E(n)),e.h+=n.length)}function Wt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Ut.prototype).add=function(e,t){Bt(this),this.i=null,e=Wt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Bt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},r.ta=function(){Bt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},r.Z=function(e){Bt(this);let t=[];if("string"===typeof e)zt(this,e)&&(t=t.concat(this.g.get(Wt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return Bt(this),this.i=null,zt(this,e=Wt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var $t=class{constructor(e,t){this.g=e,this.map=t}};function Kt(e){this.l=e||Gt,h.PerformanceNavigationTiming?e=0<(e=h.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(h.g&&h.g.Ka&&h.g.Ka()&&h.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Gt=10;function Qt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Yt(e){return e.h?1:e.g?e.g.size:0}function Xt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Jt(e,t){e.g?e.g.add(t):e.h=t}function Zt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function en(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return E(e.i)}Kt.prototype.cancel=function(){if(this.i=en(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var tn,nn=class{stringify(e){return h.JSON.stringify(e,void 0)}parse(e){return h.JSON.parse(e,void 0)}};function rn(){this.g=new nn}function on(e,t,n){const r=n||"";try{kt(e,(function(e,n){let i=e;p(e)&&(i=be(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function sn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function an(e){this.l=e.fc||null,this.j=e.ob||!1}function ln(e,t){ve.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=un,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}w(an,Ze),an.prototype.g=function(){return new ln(this.l,this.j)},an.prototype.i=(tn={},function(){return tn}),w(ln,ve);var un=0;function cn(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function dn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,hn(e)}function hn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=ln.prototype).open=function(e,t){if(this.readyState!=un)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,hn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||h).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dn(this)),this.readyState=un},r.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hn(this)),this.g&&(this.readyState=3,hn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cn(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},r.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?dn(this):hn(this),3==this.readyState&&cn(this)}},r.Za=function(e){this.g&&(this.response=this.responseText=e,dn(this))},r.Ya=function(e){this.g&&(this.response=e,dn(this))},r.ka=function(){this.g&&dn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ln.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fn=h.JSON.parse;function pn(e){ve.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gn,this.L=this.M=!1}w(pn,ve);var gn="",mn=/^https?$/i,vn=["POST","PUT"];function yn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,_n(e),wn(e)}function _n(e){e.F||(e.F=!0,ye(e,"complete"),ye(e,"error"))}function bn(e){if(e.h&&"undefined"!=typeof d&&(!e.C[1]||4!=kn(e)||2!=e.da()))if(e.v&&4==kn(e))Ne(e.La,0,e);else if(ye(e,"readystatechange"),4==kn(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Et)[1]||null;!i&&h.self&&h.self.location&&(i=h.self.location.protocol.slice(0,-1)),r=!mn.test(i?i.toLowerCase():"")}n=r}if(n)ye(e,"complete"),ye(e,"success");else{e.m=6;try{var o=2<kn(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",_n(e)}}finally{wn(e)}}}function wn(e,t){if(e.g){Sn(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ye(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Sn(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(h.clearTimeout(e.A),e.A=null)}function kn(e){return e.g?e.g.readyState:0}function En(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case gn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Pr){return null}}function Cn(e){let t="";return J(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function In(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Cn(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ot(e,t,n))}function Tn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Rn(e){this.Ga=0,this.j=[],this.l=new Ue,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Tn("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Tn("baseRetryDelayMs",5e3,e),this.hb=Tn("retryDelaySeedMs",1e4,e),this.eb=Tn("forwardChannelMaxRetries",2,e),this.xa=Tn("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Kt(e&&e.concurrentRequestLimit),this.Ja=new rn,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function xn(e){if(Pn(e),3==e.H){var t=e.W++,n=It(e.I);if(Ot(n,"SID",e.K),Ot(n,"RID",t),Ot(n,"TYPE","terminate"),Dn(e,n),(t=new at(e,e.l,t)).L=2,t.v=Pt(It(n)),n=!1,h.navigator&&h.navigator.sendBeacon)try{n=h.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&h.Image&&((new Image).src=t.v,n=!0),n||(t.g=$n(t.l,null),t.g.ha(t.v)),t.G=Date.now(),vt(t)}Hn(e)}function On(e){e.g&&(jn(e),e.g.cancel(),e.g=null)}function Pn(e){On(e),e.u&&(h.clearTimeout(e.u),e.u=null),Un(e),e.i.cancel(),e.m&&("number"===typeof e.m&&h.clearTimeout(e.m),e.m=null)}function An(e){if(!Qt(e.i)&&!e.m){e.m=!0;var t=e.Na;Ie||xe(),Te||(Ie(),Te=!0),Re.add(t,e),e.C=0}}function Nn(e,t){var n;n=t?t.m:e.W++;const r=It(e.I);Ot(r,"SID",e.K),Ot(r,"RID",n),Ot(r,"AID",e.V),Dn(e,r),e.o&&e.s&&In(r,e.o,e.s),n=new at(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ln(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Jt(e.i,n),ht(n,r,t)}function Dn(e,t){e.na&&J(e.na,(function(e,n){Ot(t,n,e)})),e.h&&kt({},(function(e,n){Ot(t,n,e)}))}function Ln(e,t,n){n=Math.min(e.j.length,n);var r=e.h?_(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{on(a,e,"req"+n+"_")}catch(Gi){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Mn(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ie||xe(),Te||(Ie(),Te=!0),Re.add(t,e),e.A=0}}function Fn(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ye(_(e.Ma,e),qn(e,e.A)),e.A++,!0)}function jn(e){null!=e.B&&(h.clearTimeout(e.B),e.B=null)}function Vn(e){e.g=new at(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=It(e.wa);Ot(t,"RID","rpc"),Ot(t,"SID",e.K),Ot(t,"AID",e.V),Ot(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ot(t,"TO",e.qa),Ot(t,"TYPE","xmlhttp"),Dn(e,t),e.o&&e.s&&In(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Pt(It(t)),n.s=null,n.S=!0,ft(n,e)}function Un(e){null!=e.v&&(h.clearTimeout(e.v),e.v=null)}function Bn(e,t){var n=null;if(e.g==t){Un(e),jn(e),e.g=null;var r=2}else{if(!Xt(e.i,t))return;n=t.F,Zt(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ye(r=He(),new Qe(r,n)),An(e)}else Mn(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Yt(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ye(_(e.Na,e,t),qn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Fn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:zn(e,5);break;case 4:zn(e,10);break;case 3:zn(e,6);break;default:zn(e,2)}}function qn(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function zn(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=_(e.pb,e);n||(n=new Ct("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Tt(n,"https"),Pt(n)),function(e,t){const n=new Ue;if(h.Image){const r=new Image;r.onload=b(sn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=b(sn,n,r,"TestLoadImage: error",!1,t),r.onabort=b(sn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=b(sn,n,r,"TestLoadImage: timeout",!1,t),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ge(2);e.H=0,e.h&&e.h.za(t),Hn(e),Pn(e)}function Hn(e){if(e.H=0,e.ma=[],e.h){const t=en(e.i);0==t.length&&0==e.j.length||(C(e.ma,t),C(e.ma,e.j),e.i.i.length=0,E(e.j),e.j.length=0),e.h.ya()}}function Wn(e,t,n){var r=n instanceof Ct?It(n):new Ct(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Rt(r,r.m);else{var i=h.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Ct(null);r&&Tt(o,r),t&&(o.g=t),i&&Rt(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Ot(r,n,t),Ot(r,"VER",e.ra),Dn(e,r),r}function $n(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new pn(new an({ob:!0})):new pn(e.va)).Oa(e.J),t}function Kn(){}function Gn(){if(L&&!(10<=Number(W)))throw Error("Environmental error: no available transport.")}function Qn(e,t){ve.call(this),this.g=new Rn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!R(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!R(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Jn(this)}function Yn(e){it.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Xn(){ot.call(this),this.status=1}function Jn(e){this.g=e}function Zn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function er(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function tr(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(r=pn.prototype).Oa=function(e){this.M=e},r.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nt.g(),this.C=this.u?et(this.u):et(nt),this.g.onreadystatechange=_(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void yn(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=h.FormData&&e instanceof h.FormData,!(0<=k(vn,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Sn(this),0<this.B&&((this.L=function(e){return L&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_(this.ua,this)):this.A=Ne(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){yn(this,o)}},r.ua=function(){"undefined"!=typeof d&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ye(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ye(this,"complete"),ye(this,"abort"),wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wn(this,!0)),pn.$.N.call(this)},r.La=function(){this.s||(this.G||this.v||this.l?bn(this):this.kb())},r.kb=function(){bn(this)},r.isActive=function(){return!!this.g},r.da=function(){try{return 2<kn(this)?this.g.status:-1}catch(tn){return-1}},r.ja=function(){try{return this.g?this.g.responseText:""}catch(tn){return""}},r.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fn(t)}},r.Ia=function(){return this.m},r.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Rn.prototype).ra=8,r.H=1,r.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new at(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Z(o),te(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ln(this,i,t),Ot(n=It(this.I),"RID",e),Ot(n,"CVER",22),this.F&&Ot(n,"X-HTTP-Session-Id",this.F),Dn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Cn(o)))+"&"+t:this.o&&In(n,this.o,o)),Jt(this.i,i),this.bb&&Ot(n,"TYPE","init"),this.P?(Ot(n,"$req",t),Ot(n,"SID","null"),i.aa=!0,ht(i,n,null)):ht(i,n,t),this.H=2}}else 3==this.H&&(e?Nn(this,e):0==this.j.length||Qt(this.i)||Nn(this))},r.Ma=function(){if(this.u=null,Vn(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ye(_(this.jb,this),e)}},r.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ge(10),On(this),Vn(this))},r.ib=function(){null!=this.v&&(this.v=null,On(this),Fn(this),Ge(19))},r.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ge(2)):(this.l.info("Failed to ping google.com"),Ge(1))},r.isActive=function(){return!!this.h&&this.h.isActive(this)},(r=Kn.prototype).Ba=function(){},r.Aa=function(){},r.za=function(){},r.ya=function(){},r.isActive=function(){return!0},r.Va=function(){},Gn.prototype.g=function(e,t){return new Qn(e,t)},w(Qn,ve),Qn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ge(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Wn(e,null,e.Y),An(e)},Qn.prototype.close=function(){xn(this.g)},Qn.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=be(e),e=n);t.j.push(new $t(t.fb++,e)),3==t.H&&An(t)},Qn.prototype.N=function(){this.g.h=null,delete this.j,xn(this.g),delete this.g,Qn.$.N.call(this)},w(Yn,it),w(Xn,ot),w(Jn,Kn),Jn.prototype.Ba=function(){ye(this.g,"a")},Jn.prototype.Aa=function(e){ye(this.g,new Yn(e))},Jn.prototype.za=function(e){ye(this.g,new Xn)},Jn.prototype.ya=function(){ye(this.g,"b")},w(Zn,(function(){this.blockSize=-1})),Zn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zn.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)er(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){er(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){er(this,r),i=0;break}}this.h=i,this.i+=t},Zn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var nr={};function rr(e){return-128<=e&&128>e?function(e,t){var n=nr;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new tr([0|e],0>e?-1:0)})):new tr([0|e],0>e?-1:0)}function ir(e){if(isNaN(e)||!isFinite(e))return sr;if(0>e)return dr(ir(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=or;return new tr(t,0)}var or=4294967296,sr=rr(0),ar=rr(1),lr=rr(16777216);function ur(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function cr(e){return-1==e.h}function dr(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new tr(n,~e.h).add(ar)}function hr(e,t){return e.add(dr(t))}function fr(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function pr(e,t){this.g=e,this.h=t}function gr(e,t){if(ur(t))throw Error("division by zero");if(ur(e))return new pr(sr,sr);if(cr(e))return t=gr(dr(e),t),new pr(dr(t.g),dr(t.h));if(cr(t))return t=gr(e,dr(t)),new pr(dr(t.g),t.h);if(30<e.g.length){if(cr(e)||cr(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ar,r=t;0>=r.X(e);)n=mr(n),r=mr(r);var i=vr(n,1),o=vr(r,1);for(r=vr(r,2),n=vr(n,2);!ur(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=vr(r,1),n=vr(n,1)}return t=hr(e,i.R(t)),new pr(i,t)}for(i=sr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=ir(n)).R(t);cr(s)||0<s.X(e);)s=(o=ir(n-=r)).R(t);ur(o)&&(o=ar),i=i.add(o),e=hr(e,s)}return new pr(i,e)}function mr(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new tr(n,e.h)}function vr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new tr(i,e.h)}(r=tr.prototype).ea=function(){if(cr(this))return-dr(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:or+r)*t,t*=or}return e},r.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(ur(this))return"0";if(cr(this))return"-"+dr(this).toString(e);for(var t=ir(Math.pow(e,6)),n=this,r="";;){var i=gr(n,t).g,o=((0<(n=hr(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(ur(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},r.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},r.X=function(e){return cr(e=hr(this,e))?-1:ur(e)?0:1},r.abs=function(){return cr(this)?dr(this):this},r.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new tr(n,-2147483648&n[n.length-1]?-1:0)},r.R=function(e){if(ur(this)||ur(e))return sr;if(cr(this))return cr(e)?dr(this).R(dr(e)):dr(dr(this).R(e));if(cr(e))return dr(this.R(dr(e)));if(0>this.X(lr)&&0>e.X(lr))return ir(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,fr(n,2*r+2*i),n[2*r+2*i+1]+=o*l,fr(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,fr(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,fr(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new tr(n,0)},r.gb=function(e){return gr(this,e).h},r.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new tr(n,this.h&e.h)},r.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new tr(n,this.h|e.h)},r.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new tr(n,this.h^e.h)},Gn.prototype.createWebChannel=Gn.prototype.g,Qn.prototype.send=Qn.prototype.u,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,Xe.NO_ERROR=0,Xe.TIMEOUT=8,Xe.HTTP_ERROR=6,Je.COMPLETE="complete",tt.EventType=rt,rt.OPEN="a",rt.CLOSE="b",rt.ERROR="c",rt.MESSAGE="d",ve.prototype.listen=ve.prototype.O,pn.prototype.listenOnce=pn.prototype.P,pn.prototype.getLastError=pn.prototype.Sa,pn.prototype.getLastErrorCode=pn.prototype.Ia,pn.prototype.getStatus=pn.prototype.da,pn.prototype.getResponseJson=pn.prototype.Wa,pn.prototype.getResponseText=pn.prototype.ja,pn.prototype.send=pn.prototype.ha,pn.prototype.setWithCredentials=pn.prototype.Oa,Zn.prototype.digest=Zn.prototype.l,Zn.prototype.reset=Zn.prototype.reset,Zn.prototype.update=Zn.prototype.j,tr.prototype.add=tr.prototype.add,tr.prototype.multiply=tr.prototype.R,tr.prototype.modulo=tr.prototype.gb,tr.prototype.compare=tr.prototype.X,tr.prototype.toNumber=tr.prototype.ea,tr.prototype.toString=tr.prototype.toString,tr.prototype.getBits=tr.prototype.D,tr.fromNumber=ir,tr.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return dr(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ir(Math.pow(n,8)),i=sr,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=ir(Math.pow(n,s)),i=i.R(s).add(ir(a))):i=(i=i.R(r)).add(ir(a))}return i};var yr=c.createWebChannelTransport=function(){return new Gn},_r=c.getStatEventTarget=function(){return He()},br=c.ErrorCode=Xe,wr=c.EventType=Je,Sr=c.Event=qe,kr=c.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Er=(c.FetchXmlHttpFactory=an,c.WebChannel=tt),Cr=c.XhrIo=pn,Ir=c.Md5=Zn,Tr=c.Integer=tr;const Rr="@firebase/firestore";class xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");let Or="10.3.0";const Pr=new a.Logger("@firebase/firestore");function Ar(){return Pr.logLevel}function Nr(e,...t){if(Pr.logLevel<=a.LogLevel.DEBUG){const n=t.map(Mr);Pr.debug(`Firestore (${Or}): ${e}`,...n)}}function Dr(e,...t){if(Pr.logLevel<=a.LogLevel.ERROR){const n=t.map(Mr);Pr.error(`Firestore (${Or}): ${e}`,...n)}}function Lr(e,...t){if(Pr.logLevel<=a.LogLevel.WARN){const n=t.map(Mr);Pr.warn(`Firestore (${Or}): ${e}`,...n)}}function Mr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Fr(e="Unexpected state"){const t=`FIRESTORE (${Or}) INTERNAL ASSERTION FAILED: `+e;throw Dr(t),new Error(t)}function jr(e,t){e||Fr()}function Vr(e,t){return e}const Ur={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Br extends l.FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class zr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(xr.UNAUTHENTICATED)))}shutdown(){}}class Wr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $r{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qr,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Nr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Nr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qr)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Nr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(jr("string"==typeof t.accessToken),new zr(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return jr(null===e||"string"==typeof e),new xr(e)}}class Kr{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Gr{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Kr(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(xr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Nr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Nr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Nr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Nr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(jr("string"==typeof e.token),this.R=e.token,new Qr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Jr{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Xr(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Zr(e,t){return e<t?-1:e>t?1:0}function ei(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function ti(e){return e+"\0"}class ni{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Br(Ur.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Br(Ur.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Br(Ur.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Br(Ur.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ni(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zr(this.nanoseconds,e.nanoseconds):Zr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ri{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ri(e)}static min(){return new ri(new ni(0,0))}static max(){return new ri(new ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ii{constructor(e,t,n){void 0===t?t=0:t>e.length&&Fr(),void 0===n?n=e.length-t:n>e.length-t&&Fr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ii.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class oi extends ii{construct(e,t,n){return new oi(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Br(Ur.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new oi(t)}static emptyPath(){return new oi([])}}const si=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ai extends ii{construct(e,t,n){return new ai(e,t,n)}static isValidIdentifier(e){return si.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ai.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ai(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Br(Ur.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Br(Ur.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Br(Ur.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Br(Ur.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ai(t)}static emptyPath(){return new ai([])}}class li{constructor(e){this.path=e}static fromPath(e){return new li(oi.fromString(e))}static fromName(e){return new li(oi.fromString(e).popFirst(5))}static empty(){return new li(oi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new li(new oi(e.slice()))}}class ui{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function ci(e){return e.fields.find((e=>2===e.kind))}function di(e){return e.fields.filter((e=>2!==e.kind))}ui.UNKNOWN_ID=-1;class hi{constructor(e,t){this.fieldPath=e,this.kind=t}}class fi{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new fi(0,mi.min())}}function pi(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ri.fromTimestamp(1e9===r?new ni(n+1,0):new ni(n,r));return new mi(i,li.empty(),t)}function gi(e){return new mi(e.readTime,e.key,-1)}class mi{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new mi(ri.min(),li.empty(),-1)}static max(){return new mi(ri.max(),li.empty(),-1)}}function vi(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=li.comparator(e.documentKey,t.documentKey),0!==n?n:Zr(e.largestBatchId,t.largestBatchId))}const yi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _i{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bi(e){if(e.code!==Ur.FAILED_PRECONDITION||e.message!==yi)throw e;Nr("LocalStore","Unexpectedly lost primary lease")}class wi{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new wi(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof wi?t:wi.resolve(t)}catch(e){return wi.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):wi.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):wi.reject(t)}static resolve(e){return new wi(((t,n)=>{t(e)}))}static reject(e){return new wi(((t,n)=>{n(e)}))}static waitFor(e){return new wi(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=wi.resolve(!1);for(const n of e)t=t.next((e=>e?wi.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new wi(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new wi(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Si{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new qr,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new Ci(e,t.error)):this.m.resolve()},this.transaction.onerror=t=>{const n=Oi(t.target.error);this.m.reject(new Ci(e,n))}}static open(e,t,n,r){try{return new Si(t,e.transaction(r,n))}catch(e){throw new Ci(t,e)}}get g(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(Nr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ti(t)}}class ki{constructor(e,t,n){this.name=e,this.version=t,this.S=n,12.2===ki.D((0,l.getUA)())&&Dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Nr("SimpleDb","Removing database:",e),Ri(window.indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!(0,l.isIndexedDBAvailable)())return!1;if(ki.C())return!0;const e=(0,l.getUA)(),t=ki.D(e),n=0<t&&t<10,r=ki.F(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"START",slug:"START",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#ffffff"},web:{},extra:{eas:{projectId:"c9283f31-2788-4af1-9733-9f2ebc7b00e5"}},runtimeVersion:{policy:"appVersion"},updates:{url:"https://u.expo.dev/c9283f31-2788-4af1-9733-9f2ebc7b00e5"},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"})||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static F(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async N(e){return this.db||(Nr("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Ci(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Br(Ur.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Br(Ur.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Ci(e,r))},r.onupgradeneeded=e=>{Nr("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.S.B(t,r.transaction,e.oldVersion,this.version).next((()=>{Nr("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.N(e);const t=Si.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.p(),e))).catch((e=>(t.abort(e),wi.reject(e)))).toPromise();return o.catch((()=>{})),await t.g,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Nr("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Ei{constructor(e){this.q=e,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(e){this.q=e}done(){this.K=!0}W(e){this.$=e}delete(){return Ri(this.q.delete())}}class Ci extends Br{constructor(e,t){super(Ur.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ii(e){return"IndexedDbTransactionError"===e.name}class Ti{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Nr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Nr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ri(n)}add(e){return Nr("SimpleDb","ADD",this.store.name,e,e),Ri(this.store.add(e))}get(e){return Ri(this.store.get(e)).next((t=>(void 0===t&&(t=null),Nr("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Nr("SimpleDb","DELETE",this.store.name,e),Ri(this.store.delete(e))}count(){return Nr("SimpleDb","COUNT",this.store.name),Ri(this.store.count())}G(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.j(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new wi(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new wi(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){Nr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.j(r,((e,t,n)=>n.delete()))}Z(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.j(r,t)}X(e){const t=this.cursor({});return new wi(((n,r)=>{t.onerror=e=>{const t=Oi(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}j(e,t){const n=[];return new wi(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Ei(i),s=t(i.primaryKey,i.value,o);if(s instanceof wi){const e=s.catch((e=>(o.done(),wi.reject(e))));n.push(e)}o.isDone?r():null===o.U?i.continue():i.continue(o.U)}})).next((()=>wi.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ri(e){return new wi(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Oi(e.target.error);n(t)}}))}let xi=!1;function Oi(e){const t=ki.D((0,l.getUA)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Br("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xi||(xi=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Pi{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}te(e){Nr("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Nr("IndexBackiller",`Documents written: ${await this.ee.ne()}`)}catch(e){Ii(e)?Nr("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await bi(e)}await this.te(6e4)}))}}class Ai{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.re(t,e)))}re(e,t){const n=new Set;let r=t,i=!0;return wi.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Nr("IndexBackiller",`Processing collection: ${t}`),this.ie(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ie(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.se(r,n))).next((n=>(Nr("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}se(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=gi(t);vi(r,n)>0&&(n=r)})),new mi(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ni{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}function Di(e){return null==e}function Li(e){return 0===e&&1/e==-1/0}function Mi(e){return"number"==typeof e&&Number.isInteger(e)&&!Li(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Fi(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Vi(t)),t=ji(e.get(n),t);return Vi(t)}function ji(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Vi(e){return e+"\x01\x01"}function Ui(e){const t=e.length;if(jr(t>=2),2===t)return jr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),oi.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Fr(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Fr()}o=t+2}return new oi(r)}Ni.ae=-1;const Bi=["userId","batchId"];function qi(e,t){return[e,Fi(t)]}function zi(e,t,n){return[e,Fi(t),n]}const Hi={},Wi=["prefixPath","collectionGroup","readTime","documentId"],$i=["prefixPath","collectionGroup","documentId"],Ki=["collectionGroup","readTime","prefixPath","documentId"],Gi=["canonicalId","targetId"],Qi=["targetId","path"],Yi=["path","targetId"],Xi=["collectionId","parent"],Ji=["indexId","uid"],Zi=["uid","sequenceNumber"],eo=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],to=["indexId","uid","orderedDocumentKey"],no=["userId","collectionPath","documentId"],ro=["userId","collectionPath","largestBatchId"],io=["userId","collectionGroup","largestBatchId"],oo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],so=[...oo,"documentOverlays"],ao=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lo=ao,uo=[...lo,"indexConfiguration","indexState","indexEntries"];class co extends _i{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function ho(e,t){const n=Vr(e);return ki.O(n.ue,t)}function fo(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function po(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function go(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class mo{constructor(e,t){this.comparator=e,this.root=t||yo.EMPTY}insert(e,t){return new mo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yo.BLACK,null,null))}remove(e){return new mo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vo(this.root,e,this.comparator,!0)}}class vo{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:yo.RED,this.left=null!=r?r:yo.EMPTY,this.right=null!=i?i:yo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new yo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return yo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return yo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fr();if(this.right.isRed())throw Fr();const e=this.left.check();if(e!==this.right.check())throw Fr();return e+(this.isRed()?0:1)}}yo.EMPTY=null,yo.RED=!0,yo.BLACK=!1,yo.EMPTY=new class{constructor(){this.size=0}get key(){throw Fr()}get value(){throw Fr()}get color(){throw Fr()}get left(){throw Fr()}get right(){throw Fr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new yo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _o{constructor(e){this.comparator=e,this.data=new mo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bo(this.data.getIterator())}getIteratorFrom(e){return new bo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof _o))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new _o(this.comparator);return t.data=e,t}}class bo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wo(e){return e.hasNext()?e.getNext():void 0}class So{constructor(e){this.fields=e,e.sort(ai.comparator)}static empty(){return new So([])}unionWith(e){let t=new _o(ai.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new So(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ei(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ko extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Eo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ko("Invalid base64 string: "+e):e}}(e);return new Eo(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Eo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Eo.EMPTY_BYTE_STRING=new Eo("");const Co=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(e){if(jr(!!e),"string"==typeof e){let t=0;const n=Co.exec(e);if(jr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:To(e.seconds),nanos:To(e.nanos)}}function To(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ro(e){return"string"==typeof e?Eo.fromBase64String(e):Eo.fromUint8Array(e)}function xo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Oo(e){const t=e.mapValue.fields.__previous_value__;return xo(t)?Oo(t):t}function Po(e){const t=Io(e.mapValue.fields.__local_write_time__.timestampValue);return new ni(t.seconds,t.nanos)}class Ao{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class No{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new No("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof No&&e.projectId===this.projectId&&e.database===this.database}}const Do={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Lo={nullValue:"NULL_VALUE"};function Mo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xo(e)?4:Yo(e)?9007199254740991:10:Fr()}function Fo(e,t){if(e===t)return!0;const n=Mo(e);if(n!==Mo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Po(e).isEqual(Po(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Io(e.timestampValue),r=Io(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ro(e.bytesValue).isEqual(Ro(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return To(e.geoPointValue.latitude)===To(t.geoPointValue.latitude)&&To(e.geoPointValue.longitude)===To(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return To(e.integerValue)===To(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=To(e.doubleValue),r=To(t.doubleValue);return n===r?Li(n)===Li(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ei(e.arrayValue.values||[],t.arrayValue.values||[],Fo);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(fo(n)!==fo(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Fo(n[i],r[i])))return!1;return!0}(e,t);default:return Fr()}}function jo(e,t){return void 0!==(e.values||[]).find((e=>Fo(e,t)))}function Vo(e,t){if(e===t)return 0;const n=Mo(e),r=Mo(t);if(n!==r)return Zr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=To(e.integerValue||e.doubleValue),r=To(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Uo(e.timestampValue,t.timestampValue);case 4:return Uo(Po(e),Po(t));case 5:return Zr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ro(e),r=Ro(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Zr(n[i],r[i]);if(0!==e)return e}return Zr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Zr(To(e.latitude),To(t.latitude));return 0!==n?n:Zr(To(e.longitude),To(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Vo(n[i],r[i]);if(e)return e}return Zr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Do.mapValue&&t===Do.mapValue)return 0;if(e===Do.mapValue)return 1;if(t===Do.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Zr(r[s],o[s]);if(0!==e)return e;const t=Vo(n[r[s]],i[o[s]]);if(0!==t)return t}return Zr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Fr()}}function Uo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zr(e,t);const n=Io(e),r=Io(t),i=Zr(n.seconds,r.seconds);return 0!==i?i:Zr(n.nanos,r.nanos)}function Bo(e){return qo(e)}function qo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Io(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ro(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return li.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=qo(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${qo(e.fields[i])}`;return n+"}"}(e.mapValue):Fr()}function zo(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ho(e){return!!e&&"integerValue"in e}function Wo(e){return!!e&&"arrayValue"in e}function $o(e){return!!e&&"nullValue"in e}function Ko(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Go(e){return!!e&&"mapValue"in e}function Qo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return po(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Qo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Qo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Yo(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Xo(e){return"nullValue"in e?Lo:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?zo(No.empty(),li.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Fr()}function Jo(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?zo(No.empty(),li.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Do:Fr()}function Zo(e,t){const n=Vo(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function es(e,t){const n=Vo(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class ts{constructor(e){this.value=e}static empty(){return new ts({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Go(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(t)}setAll(e){let t=ai.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Qo(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Go(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Go(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){po(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new ts(Qo(this.value))}}function ns(e){const t=[];return po(e.fields,((e,n)=>{const r=new ai([e]);if(Go(n)){const e=ns(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new So(t)}class rs{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new rs(e,0,ri.min(),ri.min(),ri.min(),ts.empty(),0)}static newFoundDocument(e,t,n,r){return new rs(e,1,t,ri.min(),n,r,0)}static newNoDocument(e,t){return new rs(e,2,t,ri.min(),ri.min(),ts.empty(),0)}static newUnknownDocument(e,t){return new rs(e,3,t,ri.min(),ri.min(),ts.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ri.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ri.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class is{constructor(e,t){this.position=e,this.inclusive=t}}function os(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?li.comparator(li.fromName(s.referenceValue),n.key):Vo(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ss(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Fo(e.position[n],t.position[n]))return!1;return!0}class as{constructor(e,t="asc"){this.field=e,this.dir=t}}function ls(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class us{}class cs extends us{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new bs(e,t,n):"array-contains"===t?new Es(e,n):"in"===t?new Cs(e,n):"not-in"===t?new Is(e,n):"array-contains-any"===t?new Ts(e,n):new cs(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ws(e,n):new Ss(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vo(t,this.value)):null!==t&&Mo(this.value)===Mo(t)&&this.matchesComparison(Vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ds extends us{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ds(e,t)}matches(e){return hs(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le((e=>e.isInequality()));return null!==e?e.field:null}le(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function hs(e){return"and"===e.op}function fs(e){return"or"===e.op}function ps(e){return gs(e)&&hs(e)}function gs(e){for(const t of e.filters)if(t instanceof ds)return!1;return!0}function ms(e){if(e instanceof cs)return e.field.canonicalString()+e.op.toString()+Bo(e.value);if(ps(e))return e.filters.map((e=>ms(e))).join(",");{const t=e.filters.map((e=>ms(e))).join(",");return`${e.op}(${t})`}}function vs(e,t){return e instanceof cs?function(e,t){return t instanceof cs&&e.op===t.op&&e.field.isEqual(t.field)&&Fo(e.value,t.value)}(e,t):e instanceof ds?function(e,t){return t instanceof ds&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&vs(n,t.filters[r])),!0)}(e,t):void Fr()}function ys(e,t){const n=e.filters.concat(t);return ds.create(n,e.op)}function _s(e){return e instanceof cs?function(e){return`${e.field.canonicalString()} ${e.op} ${Bo(e.value)}`}(e):e instanceof ds?function(e){return e.op.toString()+" {"+e.getFilters().map(_s).join(" ,")+"}"}(e):"Filter"}class bs extends cs{constructor(e,t,n){super(e,t,n),this.key=li.fromName(n.referenceValue)}matches(e){const t=li.comparator(e.key,this.key);return this.matchesComparison(t)}}class ws extends cs{constructor(e,t){super(e,"in",t),this.keys=ks("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ss extends cs{constructor(e,t){super(e,"not-in",t),this.keys=ks("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ks(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>li.fromName(e.referenceValue)))}class Es extends cs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wo(t)&&jo(t.arrayValue,this.value)}}class Cs extends cs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jo(this.value.arrayValue,t)}}class Is extends cs{constructor(e,t){super(e,"not-in",t)}matches(e){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jo(this.value.arrayValue,t)}}class Ts extends cs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wo(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>jo(this.value.arrayValue,e)))}}class Rs{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.he=null}}function xs(e,t=null,n=[],r=[],i=null,o=null,s=null){return new Rs(e,t,n,r,i,o,s)}function Os(e){const t=Vr(e);if(null===t.he){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ms(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Di(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Bo(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Bo(e))).join(",")),t.he=e}return t.he}function Ps(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ls(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!vs(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ss(e.startAt,t.startAt)&&ss(e.endAt,t.endAt)}function As(e){return li.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ns(e,t){return e.filters.filter((e=>e instanceof cs&&e.field.isEqual(t)))}function Ds(e,t,n){let r=Lo,i=!0;for(const o of Ns(e,t)){let e=Lo,t=!0;switch(o.op){case"<":case"<=":e=Xo(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Lo}Zo({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Zo({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Ls(e,t,n){let r=Do,i=!0;for(const o of Ns(e,t)){let e=Do,t=!0;switch(o.op){case">=":case">":e=Jo(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Do}es({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];es({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Ms{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}}function Fs(e,t,n,r,i,o,s,a){return new Ms(e,t,n,r,i,o,s,a)}function js(e){return new Ms(e)}function Vs(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Us(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Bs(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function qs(e){return null!==e.collectionGroup}function zs(e){const t=Vr(e);if(null===t.Pe){t.Pe=[];const e=Bs(t),n=Us(t);if(null!==e&&null===n)e.isKeyField()||t.Pe.push(new as(e)),t.Pe.push(new as(ai.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.Pe.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new as(ai.keyField(),e))}}}return t.Pe}function Hs(e){const t=Vr(e);return t.Ie||(t.Ie=Ws(t,zs(e))),t.Ie}function Ws(e,t){if("F"===e.limitType)return xs(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new as(e.field,t)}));const n=e.endAt?new is(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new is(e.startAt.position,e.startAt.inclusive):null;return xs(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function $s(e,t){t.getFirstInequalityField(),Bs(e);const n=e.filters.concat([t]);return new Ms(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ks(e,t,n){return new Ms(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gs(e,t){return Ps(Hs(e),Hs(t))&&e.limitType===t.limitType}function Qs(e){return`${Os(Hs(e))}|lt:${e.limitType}`}function Ys(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>_s(e))).join(", ")}]`),Di(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Bo(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Bo(e))).join(",")),`Target(${t})`}(Hs(e))}; limitType=${e.limitType})`}function Xs(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):li.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of zs(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=os(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,zs(e),t))&&!(e.endAt&&!function(e,t,n){const r=os(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,zs(e),t))}(e,t)}function Js(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Zs(e){return(t,n)=>{let r=!1;for(const i of zs(e)){const e=ea(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ea(e,t,n){const r=e.field.isKeyField()?li.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Vo(r,i):Fr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Fr()}}class ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return go(this.inner)}size(){return this.innerSize}}const na=new mo(li.comparator);function ra(){return na}const ia=new mo(li.comparator);function oa(...e){let t=ia;for(const n of e)t=t.insert(n.key,n);return t}function sa(e){let t=ia;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function aa(){return ua()}function la(){return ua()}function ua(){return new ta((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ca=new mo(li.comparator),da=new _o(li.comparator);function ha(...e){let t=da;for(const n of e)t=t.add(n);return t}const fa=new _o(Zr);function pa(){return fa}function ga(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Li(t)?"-0":t}}function ma(e){return{integerValue:""+e}}function va(e,t){return Mi(t)?ma(t):ga(e,t)}class ya{constructor(){this._=void 0}}function _a(e,t,n){return e instanceof Sa?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&xo(t)&&(t=Oo(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ka?Ea(e,t):e instanceof Ca?Ia(e,t):function(e,t){const n=wa(e,t),r=Ra(n)+Ra(e.Ee);return Ho(n)&&Ho(e.Ee)?ma(r):ga(e.serializer,r)}(e,t)}function ba(e,t,n){return e instanceof ka?Ea(e,t):e instanceof Ca?Ia(e,t):n}function wa(e,t){return e instanceof Ta?function(e){return Ho(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Sa extends ya{}class ka extends ya{constructor(e){super(),this.elements=e}}function Ea(e,t){const n=xa(t);for(const r of e.elements)n.some((e=>Fo(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Ca extends ya{constructor(e){super(),this.elements=e}}function Ia(e,t){let n=xa(t);for(const r of e.elements)n=n.filter((e=>!Fo(e,r)));return{arrayValue:{values:n}}}class Ta extends ya{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Ra(e){return To(e.integerValue||e.doubleValue)}function xa(e){return Wo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Oa{constructor(e,t){this.field=e,this.transform=t}}class Pa{constructor(e,t){this.version=e,this.transformResults=t}}class Aa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Aa}static exists(e){return new Aa(void 0,e)}static updateTime(e){return new Aa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Na(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Da{}function La(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Wa(e.key,Aa.none()):new Ua(e.key,e.data,Aa.none());{const n=e.data,r=ts.empty();let i=new _o(ai.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ba(e.key,r,new So(i.toArray()),Aa.none())}}function Ma(e,t,n){e instanceof Ua?function(e,t,n){const r=e.value.clone(),i=za(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ba?function(e,t,n){if(!Na(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=za(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(qa(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fa(e,t,n,r){return e instanceof Ua?function(e,t,n,r){if(!Na(e.precondition,t))return n;const i=e.value.clone(),o=Ha(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ba?function(e,t,n,r){if(!Na(e.precondition,t))return n;const i=Ha(e.fieldTransforms,r,t),o=t.data;return o.setAll(qa(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Na(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ja(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=wa(r.transform,e||null);null!=i&&(null===n&&(n=ts.empty()),n.set(r.field,i))}return n||null}function Va(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ei(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ka&&t instanceof ka||e instanceof Ca&&t instanceof Ca?ei(e.elements,t.elements,Fo):e instanceof Ta&&t instanceof Ta?Fo(e.Ee,t.Ee):e instanceof Sa&&t instanceof Sa}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ua extends Da{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ba extends Da{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function qa(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function za(e,t,n){const r=new Map;jr(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,ba(s,a,n[i]))}return r}function Ha(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,_a(e,o,t))}return r}class Wa extends Da{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $a extends Da{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ka{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ma(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Fa(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Fa(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=la();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=La(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(ri.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ha())}isEqual(e){return this.batchId===e.batchId&&ei(this.mutations,e.mutations,((e,t)=>Va(e,t)))&&ei(this.baseMutations,e.baseMutations,((e,t)=>Va(e,t)))}}class Ga{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){jr(e.mutations.length===n.length);let r=ca;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Ga(e,t,n,r)}}class Qa{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ya{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xa,Ja;function Za(e){switch(e){default:return Fr();case Ur.CANCELLED:case Ur.UNKNOWN:case Ur.DEADLINE_EXCEEDED:case Ur.RESOURCE_EXHAUSTED:case Ur.INTERNAL:case Ur.UNAVAILABLE:case Ur.UNAUTHENTICATED:return!1;case Ur.INVALID_ARGUMENT:case Ur.NOT_FOUND:case Ur.ALREADY_EXISTS:case Ur.PERMISSION_DENIED:case Ur.FAILED_PRECONDITION:case Ur.ABORTED:case Ur.OUT_OF_RANGE:case Ur.UNIMPLEMENTED:case Ur.DATA_LOSS:return!0}}function el(e){if(void 0===e)return Dr("GRPC error has no .code"),Ur.UNKNOWN;switch(e){case Xa.OK:return Ur.OK;case Xa.CANCELLED:return Ur.CANCELLED;case Xa.UNKNOWN:return Ur.UNKNOWN;case Xa.DEADLINE_EXCEEDED:return Ur.DEADLINE_EXCEEDED;case Xa.RESOURCE_EXHAUSTED:return Ur.RESOURCE_EXHAUSTED;case Xa.INTERNAL:return Ur.INTERNAL;case Xa.UNAVAILABLE:return Ur.UNAVAILABLE;case Xa.UNAUTHENTICATED:return Ur.UNAUTHENTICATED;case Xa.INVALID_ARGUMENT:return Ur.INVALID_ARGUMENT;case Xa.NOT_FOUND:return Ur.NOT_FOUND;case Xa.ALREADY_EXISTS:return Ur.ALREADY_EXISTS;case Xa.PERMISSION_DENIED:return Ur.PERMISSION_DENIED;case Xa.FAILED_PRECONDITION:return Ur.FAILED_PRECONDITION;case Xa.ABORTED:return Ur.ABORTED;case Xa.OUT_OF_RANGE:return Ur.OUT_OF_RANGE;case Xa.UNIMPLEMENTED:return Ur.UNIMPLEMENTED;case Xa.DATA_LOSS:return Ur.DATA_LOSS;default:return Fr()}}(Ja=Xa||(Xa={}))[Ja.OK=0]="OK",Ja[Ja.CANCELLED=1]="CANCELLED",Ja[Ja.UNKNOWN=2]="UNKNOWN",Ja[Ja.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ja[Ja.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ja[Ja.NOT_FOUND=5]="NOT_FOUND",Ja[Ja.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ja[Ja.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ja[Ja.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ja[Ja.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ja[Ja.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ja[Ja.ABORTED=10]="ABORTED",Ja[Ja.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ja[Ja.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ja[Ja.INTERNAL=13]="INTERNAL",Ja[Ja.UNAVAILABLE=14]="UNAVAILABLE",Ja[Ja.DATA_LOSS=15]="DATA_LOSS";let tl=null;function nl(){return new TextEncoder}const rl=new Tr([4294967295,4294967295],0);function il(e){const t=nl().encode(e),n=new Ir;return n.update(t),new Uint8Array(n.digest())}function ol(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Tr([n,r],0),new Tr([i,o],0)]}class sl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new al(`Invalid padding: ${t}`);if(n<0)throw new al(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new al(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new al(`Invalid padding when bitmap length is 0: ${t}`);this.Ae=8*e.length-t,this.Re=Tr.fromNumber(this.Ae)}Ve(e,t,n){let r=e.add(t.multiply(Tr.fromNumber(n)));return 1===r.compare(rl)&&(r=new Tr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}me(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ae)return!1;const t=il(e),[n,r]=ol(t);for(let i=0;i<this.hashCount;i++){const e=this.Ve(n,r,i);if(!this.me(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new sl(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ae)return;const t=il(e),[n,r]=ol(t);for(let i=0;i<this.hashCount;i++){const e=this.Ve(n,r,i);this.fe(e)}}fe(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ll{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ul.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ll(ri.min(),r,new mo(Zr),ra(),ha())}}class ul{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ul(n,t,ha(),ha(),ha())}}class cl{constructor(e,t,n,r){this.ge=e,this.removedTargetIds=t,this.key=n,this.pe=r}}class dl{constructor(e,t){this.targetId=e,this.ye=t}}class hl{constructor(e,t,n=Eo.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class fl{constructor(){this.we=0,this.Se=ml(),this.be=Eo.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}get current(){return this.De}get resumeToken(){return this.be}get Ce(){return 0!==this.we}get Fe(){return this.ve}Me(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}xe(){let e=ha(),t=ha(),n=ha();return this.Se.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Fr()}})),new ul(this.be,this.De,e,t,n)}Oe(){this.ve=!1,this.Se=ml()}Ne(e,t){this.ve=!0,this.Se=this.Se.insert(e,t)}Be(e){this.ve=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.ve=!0,this.De=!0}}class pl{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=ra(),this.Ue=gl(),this.We=new mo(Zr)}Ge(e){for(const t of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(t,e.pe):this.je(t,e.key,e.pe);for(const t of e.removedTargetIds)this.je(t,e.key,e.pe)}He(e){this.forEachTarget(e,(t=>{const n=this.Je(t);switch(e.state){case 0:this.Ye(t)&&n.Me(e.resumeToken);break;case 1:n.ke(),n.Ce||n.Oe(),n.Me(e.resumeToken);break;case 2:n.ke(),n.Ce||this.removeTarget(t);break;case 3:this.Ye(t)&&(n.qe(),n.Me(e.resumeToken));break;case 4:this.Ye(t)&&(this.Ze(t),n.Me(e.resumeToken));break;default:Fr()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach(((e,n)=>{this.Ye(n)&&t(n)}))}Xe(e){const t=e.targetId,n=e.ye.count,r=this.et(t);if(r){const i=r.target;if(As(i))if(0===n){const e=new li(i.path);this.je(t,e,rs.newNoDocument(e,ri.min()))}else jr(1===n);else{const r=this.tt(t);if(r!==n){const n=this.nt(e),i=n?this.rt(n,e,r):1;if(0!==i){this.Ze(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(t,e)}null==tl||tl.it(function(e,t,n,r,i){var o,s,a,l,u,c;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==h?void 0:h.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ye,this.Qe.st(),n,i))}}}}nt(e){const t=e.ye.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Ro(n).toUint8Array()}catch(e){if(e instanceof ko)return Lr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new sl(o,r,i)}catch(e){return Lr(e instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ae?null:s}rt(e,t,n){return t.ye.count===n-this.ot(e,t.targetId)?0:2}ot(e,t){const n=this.Qe.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Qe.st(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.je(t,n,null),r++)})),r}_t(e){const t=new Map;this.Ke.forEach(((n,r)=>{const i=this.et(r);if(i){if(n.current&&As(i.target)){const t=new li(i.target.path);null!==this.$e.get(t)||this.ut(r,t)||this.je(r,t,rs.newNoDocument(t,e))}n.Fe&&(t.set(r,n.xe()),n.Oe())}}));let n=ha();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.et(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.$e.forEach(((t,n)=>n.setReadTime(e)));const r=new ll(e,t,this.We,this.$e,n);return this.$e=ra(),this.Ue=gl(),this.We=new mo(Zr),r}ze(e,t){if(!this.Ye(e))return;const n=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}je(e,t,n){if(!this.Ye(e))return;const r=this.Je(e);this.ut(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}removeTarget(e){this.Ke.delete(e)}tt(e){const t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let t=this.Ke.get(e);return t||(t=new fl,this.Ke.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new _o(Zr),this.Ue=this.Ue.insert(e,t)),t}Ye(e){const t=null!==this.et(e);return t||Nr("WatchChangeAggregator","Detected inactive target",e),t}et(e){const t=this.Ke.get(e);return t&&t.Ce?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new fl),this.Qe.getRemoteKeysForTarget(e).forEach((t=>{this.je(e,t,null)}))}ut(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}function gl(){return new mo(li.comparator)}function ml(){return new mo(li.comparator)}const vl={asc:"ASCENDING",desc:"DESCENDING"},yl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_l={and:"AND",or:"OR"};class bl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wl(e,t){return e.useProto3Json||Di(t)?t:{value:t}}function Sl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function El(e,t){return Sl(e,t.toTimestamp())}function Cl(e){return jr(!!e),ri.fromTimestamp(function(e){const t=Io(e);return new ni(t.seconds,t.nanos)}(e))}function Il(e,t){return function(e){return new oi(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Tl(e){const t=oi.fromString(e);return jr(Ql(t)),t}function Rl(e,t){return Il(e.databaseId,t.path)}function xl(e,t){const n=Tl(t);if(n.get(1)!==e.databaseId.projectId)throw new Br(Ur.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Br(Ur.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new li(Nl(n))}function Ol(e,t){return Il(e.databaseId,t)}function Pl(e){const t=Tl(e);return 4===t.length?oi.emptyPath():Nl(t)}function Al(e){return new oi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Nl(e){return jr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Dl(e,t,n){return{name:Rl(e,t),fields:n.value.mapValue.fields}}function Ll(e,t,n){const r=xl(e,t.name),i=Cl(t.updateTime),o=t.createTime?Cl(t.createTime):ri.min(),s=new ts({mapValue:{fields:t.fields}}),a=rs.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ml(e,t){let n;if(t instanceof Ua)n={update:Dl(e,t.key,t.value)};else if(t instanceof Wa)n={delete:Rl(e,t.key)};else if(t instanceof Ba)n={update:Dl(e,t.key,t.data),updateMask:Gl(t.fieldMask)};else{if(!(t instanceof $a))return Fr();n={verify:Rl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Sa)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ka)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ca)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ta)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw Fr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:El(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Fr()}(e,t.precondition)),n}function Fl(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Aa.updateTime(Cl(e.updateTime)):void 0!==e.exists?Aa.exists(e.exists):Aa.none()}(t.currentDocument):Aa.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)jr("REQUEST_TIME"===t.setToServerValue),n=new Sa;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new ka(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Ca(e)}else"increment"in t?n=new Ta(e,t.increment):Fr();const r=ai.fromServerFormat(t.fieldPath);return new Oa(r,n)}(e,t))):[];if(t.update){t.update.name;const i=xl(e,t.update.name),o=new ts({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new So(t.map((e=>ai.fromServerFormat(e))))}(t.updateMask);return new Ba(i,o,e,n,r)}return new Ua(i,o,n,r)}if(t.delete){const r=xl(e,t.delete);return new Wa(r,n)}if(t.verify){const r=xl(e,t.verify);return new $a(r,n)}return Fr()}function jl(e,t){return{documents:[Ol(e,t.path)]}}function Vl(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ol(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ol(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Kl(ds.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Wl(e.field),direction:ql(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=wl(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ul(e){let t=Pl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){jr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Bl(e);return t instanceof ds&&ps(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new as($l(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Di(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new is(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new is(n,t)}(n.endAt)),Fs(t,i,s,o,a,"F",l,u)}function Bl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=$l(e.unaryFilter.field);return cs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=$l(e.unaryFilter.field);return cs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=$l(e.unaryFilter.field);return cs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=$l(e.unaryFilter.field);return cs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Fr()}}(e):void 0!==e.fieldFilter?function(e){return cs.create($l(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fr()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ds.create(e.compositeFilter.filters.map((e=>Bl(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Fr()}}(e.compositeFilter.op))}(e):Fr()}function ql(e){return vl[e]}function zl(e){return yl[e]}function Hl(e){return _l[e]}function Wl(e){return{fieldPath:e.canonicalString()}}function $l(e){return ai.fromServerFormat(e.fieldPath)}function Kl(e){return e instanceof cs?function(e){if("=="===e.op){if(Ko(e.value))return{unaryFilter:{field:Wl(e.field),op:"IS_NAN"}};if($o(e.value))return{unaryFilter:{field:Wl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ko(e.value))return{unaryFilter:{field:Wl(e.field),op:"IS_NOT_NAN"}};if($o(e.value))return{unaryFilter:{field:Wl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wl(e.field),op:zl(e.op),value:e.value}}}(e):e instanceof ds?function(e){const t=e.getFilters().map((e=>Kl(e)));return 1===t.length?t[0]:{compositeFilter:{op:Hl(e.op),filters:t}}}(e):Fr()}function Gl(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ql(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Yl{constructor(e,t,n,r,i=ri.min(),o=ri.min(),s=Eo.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xl{constructor(e){this.ht=e}}function Jl(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Zl(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Rl(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Sl(e,t.version.toTimestamp()),createTime:Sl(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:eu(t.version)};else{if(!t.isUnknownDocument())return Fr();r.unknownDocument={path:n.path.toArray(),version:eu(t.version)}}return r}function Zl(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function eu(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function tu(e){const t=new ni(e.seconds,e.nanoseconds);return ri.fromTimestamp(t)}function nu(e,t){const n=(t.baseMutations||[]).map((t=>Fl(e.ht,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Fl(e.ht,t))),i=ni.fromMillis(t.localWriteTimeMs);return new Ka(t.batchId,i,n,r)}function ru(e){const t=tu(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?tu(e.lastLimboFreeSnapshotVersion):ri.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return jr(1===e.documents.length),Hs(js(Pl(e.documents[0])))}(e.query):function(e){return Hs(Ul(e))}(e.query),new Yl(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Eo.fromBase64String(e.resumeToken))}function iu(e,t){const n=eu(t.snapshotVersion),r=eu(t.lastLimboFreeSnapshotVersion);let i;i=As(t.target)?jl(e.ht,t.target):Vl(e.ht,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Os(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ou(e){const t=Ul({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ks(t,t.limit,"L"):t}function su(e,t){return new Qa(t.largestBatchId,Fl(e.ht,t.overlayMutation))}function au(e,t){const n=t.path.lastSegment();return[e,Fi(t.path.popLast()),n]}function lu(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:eu(r.readTime),documentKey:Fi(r.documentKey.path),largestBatchId:r.largestBatchId}}class uu{getBundleMetadata(e,t){return cu(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:tu(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return cu(e).put(function(e){return{bundleId:e.id,createTime:eu(Cl(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return du(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:ou(e.bundledQuery),readTime:tu(e.readTime)}}(e)}))}saveNamedQuery(e,t){return du(e).put(function(e){return{name:e.name,readTime:eu(Cl(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function cu(e){return ho(e,"bundles")}function du(e){return ho(e,"namedQueries")}class hu{constructor(e,t){this.serializer=e,this.userId=t}static Pt(e,t){const n=t.uid||"";return new hu(e,n)}getOverlay(e,t){return fu(e).get(au(this.userId,t)).next((e=>e?su(this.serializer,e):null))}getOverlays(e,t){const n=aa();return wi.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new Qa(t,i);r.push(this.It(e,o))})),wi.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Fi(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(fu(e).J("collectionPathOverlayIndex",r))})),wi.waitFor(i)}getOverlaysForCollection(e,t,n){const r=aa(),i=Fi(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return fu(e).G("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=su(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=aa();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fu(e).Z({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=su(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}It(e,t){return fu(e).put(function(e,t,n){const[r,i,o]=au(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ml(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}function fu(e){return ho(e,"documentOverlays")}class pu{constructor(){}Tt(e,t){this.Et(e,t),t.dt()}Et(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(To(e.integerValue));else if("doubleValue"in e){const n=To(e.doubleValue);isNaN(n)?this.At(t,13):(this.At(t,15),Li(n)?t.Rt(0):t.Rt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.At(t,20),"string"==typeof n?t.Vt(n):(t.Vt(`${n.seconds||""}`),t.Rt(n.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(Ro(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.At(t,45),t.Rt(n.latitude||0),t.Rt(n.longitude||0)}else"mapValue"in e?Yo(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):Fr()}ft(e,t){this.At(t,25),this.Dt(e,t)}Dt(e,t){t.Vt(e)}St(e,t){const n=e.fields||{};this.At(t,55);for(const r of Object.keys(n))this.ft(r,t),this.Et(n[r],t)}bt(e,t){const n=e.values||[];this.At(t,50);for(const r of n)this.Et(r,t)}wt(e,t){this.At(t,37),li.fromName(e).path.forEach((e=>{this.At(t,60),this.Dt(e,t)}))}At(e,t){e.Rt(t)}gt(e){e.Rt(2)}}function gu(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function mu(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=gu(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}pu.vt=new pu;class vu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ot(n.value),n=t.next();this.Nt()}Bt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Lt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ot(e);else if(e<2048)this.Ot(960|e>>>6),this.Ot(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|e>>>12),this.Ot(128|63&e>>>6),this.Ot(128|63&e);else{const e=t.codePointAt(0);this.Ot(240|e>>>18),this.Ot(128|63&e>>>12),this.Ot(128|63&e>>>6),this.Ot(128|63&e)}}this.Nt()}kt(e){const t=this.qt(e),n=mu(t);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Kt(e){const t=this.qt(e),n=mu(t);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class yu{constructor(e){this.jt=e}yt(e){this.jt.Ct(e)}Vt(e){this.jt.Bt(e)}Rt(e){this.jt.kt(e)}dt(){this.jt.$t()}}class _u{constructor(e){this.jt=e}yt(e){this.jt.xt(e)}Vt(e){this.jt.Lt(e)}Rt(e){this.jt.Kt(e)}dt(){this.jt.Wt()}}class bu{constructor(){this.jt=new vu,this.Ht=new yu(this.jt),this.Jt=new _u(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class wu{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new wu(this.indexId,this.documentKey,this.arrayValue,n)}}function Su(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=ku(e.arrayValue,t.arrayValue),0!==n?n:(n=ku(e.directionalValue,t.directionalValue),0!==n?n:li.comparator(e.documentKey,t.documentKey)))}function ku(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Eu{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const t of e.filters){const e=t;e.isInequality()?this.tn=e:this.en.push(e)}}nn(e){jr(e.collectionGroup===this.collectionId);const t=ci(e);if(void 0!==t&&!this.rn(t))return!1;const n=di(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.rn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.tn){if(!r.has(this.tn.field.canonicalString())){const e=n[i];if(!this.sn(this.tn,e)||!this.on(this.Xt[o++],e))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Xt.length||!this.on(this.Xt[o++],e))return!1}return!0}rn(e){for(const t of this.en)if(this.sn(t,e))return!0;return!1}sn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}on(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Cu(e){var t,n;if(jr(e instanceof cs||e instanceof ds),e instanceof cs){if(e instanceof Cs){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>cs.create(e.field,"==",t))))||[];return ds.create(r,"or")}return e}const r=e.filters.map((e=>Cu(e)));return ds.create(r,e.op)}function Iu(e){if(0===e.getFilters().length)return[];const t=Ou(Cu(e));return jr(xu(t)),Tu(t)||Ru(t)?[t]:t.getFilters()}function Tu(e){return e instanceof cs}function Ru(e){return e instanceof ds&&ps(e)}function xu(e){return Tu(e)||Ru(e)||function(e){if(e instanceof ds&&fs(e)){for(const t of e.getFilters())if(!Tu(t)&&!Ru(t))return!1;return!0}return!1}(e)}function Ou(e){if(jr(e instanceof cs||e instanceof ds),e instanceof cs)return e;if(1===e.filters.length)return Ou(e.filters[0]);const t=e.filters.map((e=>Ou(e)));let n=ds.create(t,e.op);return n=Nu(n),xu(n)?n:(jr(n instanceof ds),jr(hs(n)),jr(n.filters.length>1),n.filters.reduce(((e,t)=>Pu(e,t))))}function Pu(e,t){let n;return jr(e instanceof cs||e instanceof ds),jr(t instanceof cs||t instanceof ds),n=e instanceof cs?t instanceof cs?function(e,t){return ds.create([e,t],"and")}(e,t):Au(e,t):t instanceof cs?Au(t,e):function(e,t){if(jr(e.filters.length>0&&t.filters.length>0),hs(e)&&hs(t))return ys(e,t.getFilters());const n=fs(e)?e:t,r=fs(e)?t:e,i=n.filters.map((e=>Pu(e,r)));return ds.create(i,"or")}(e,t),Nu(n)}function Au(e,t){if(hs(t))return ys(t,e.getFilters());{const n=t.filters.map((t=>Pu(e,t)));return ds.create(n,"or")}}function Nu(e){if(jr(e instanceof cs||e instanceof ds),e instanceof cs)return e;const t=e.getFilters();if(1===t.length)return Nu(t[0]);if(gs(e))return e;const n=t.map((e=>Nu(e))),r=[];return n.forEach((t=>{t instanceof cs?r.push(t):t instanceof ds&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:ds.create(r,e.op)}class Du{constructor(){this._n=new Lu}addToCollectionParentIndex(e,t){return this._n.add(t),wi.resolve()}getCollectionParents(e,t){return wi.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return wi.resolve()}deleteFieldIndex(e,t){return wi.resolve()}getDocumentsMatchingTarget(e,t){return wi.resolve(null)}getIndexType(e,t){return wi.resolve(0)}getFieldIndexes(e,t){return wi.resolve([])}getNextCollectionGroupToUpdate(e){return wi.resolve(null)}getMinOffset(e,t){return wi.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,t){return wi.resolve(mi.min())}updateCollectionGroup(e,t,n){return wi.resolve()}updateIndexEntries(e,t){return wi.resolve()}}class Lu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _o(oi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new _o(oi.comparator)).toArray()}}const Mu=new Uint8Array(0);class Fu{constructor(e,t){this.user=e,this.databaseId=t,this.an=new Lu,this.un=new ta((e=>Os(e)),((e,t)=>Ps(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:Fi(r)};return ju(e).put(i)}return wi.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ti(t),""],!1,!0);return ju(e).G(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ui(r.parent))}return n}))}addFieldIndex(e,t){const n=Uu(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Bu(e);return i.next((e=>{n.put(lu(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Uu(e),r=Bu(e),i=Vu(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=Vu(e);let r=!0;const i=new Map;return wi.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=ha();const r=[];return wi.forEach(i,((i,o)=>{Nr("IndexedDbIndexManager",`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${Os(t)}`);const s=function(e,t){const n=ci(t);if(void 0===n)return null;for(const r of Ns(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of di(t))for(const t of Ns(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of di(t)){const t=0===i.kind?Ds(e,i.fieldPath,e.startAt):Ls(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new is(n,r)}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of di(t)){const t=0===i.kind?Ls(e,i.fieldPath,e.endAt):Ds(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new is(n,r)}(o,i),c=this.hn(i,o,l),d=this.hn(i,o,u),h=this.Pn(i,o,a),f=this.In(i.indexId,s,c,l.inclusive,d,u.inclusive,h);return wi.forEach(f,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=li.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return wi.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Iu(ds.create(e.filters,"and")).map((t=>xs(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){const a=t?this.Tn(t[c/l]):Mu,d=this.En(e,a,n[c%l],r),h=this.dn(e,a,i[c%l],o),f=s.map((t=>this.En(e,a,t,!0)));u.push(...this.createRange(d,h,f))}return u}En(e,t,n,r){const i=new wu(e,li.empty(),t,n);return r?i:i.Zt()}dn(e,t,n,r){const i=new wu(e,li.empty(),t,n);return r?i.Zt():i}ln(e,t){const n=new Eu(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.nn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return wi.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new _o(ai.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new bu;for(const r of di(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Yt(r.kind);pu.vt.Tt(e,i)}return n.zt()}Tn(e){const t=new bu;return pu.vt.Tt(e,t.Yt(0)),t.zt()}Rn(e,t){const n=new bu;return pu.vt.Tt(zo(this.databaseId,t),n.Yt(function(e){const t=di(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.zt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new bu);let i=0;for(const o of di(e)){const e=n[i++];for(const n of r)if(this.Vn(t,o.fieldPath)&&Wo(e))r=this.mn(r,o,e);else{const t=n.Yt(o.kind);pu.vt.Tt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].zt();return t}mn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new bu;n.seed(e.zt()),pu.vt.Tt(o,n.Yt(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof cs&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Uu(e),r=Bu(e);return(t?n.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.G()).next((e=>{const t=[];return wi.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new fi(t.sequenceNumber,new mi(tu(t.readTime),new li(Ui(t.documentKey)),t.largestBatchId)):fi.empty(),r=e.fields.map((([e,t])=>new hi(ai.fromServerFormat(e),t)));return new ui(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Zr(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Uu(e),i=Bu(e);return this.gn(e).next((e=>r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>wi.forEach(t,(t=>i.put(lu(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return wi.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?wi.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),wi.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?wi.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Vu(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Vu(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Vu(e);let i=new _o(Su);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new wu(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new _o(Su);const r=this.An(t,e);if(null==r)return n;const i=ci(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Wo(o))for(const i of o.arrayValue.values||[])n=n.add(new wu(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new wu(t.indexId,e.key,Mu,r));return n}wn(e,t,n,r,i){Nr("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=wo(o),l=wo(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=wo(s)):t?(i(a),a=wo(o)):(a=wo(o),l=wo(s))}}(r,i,Su,(r=>{o.push(this.Sn(e,t,n,r))}),(r=>{o.push(this.bn(e,t,n,r))})),wi.waitFor(o)}gn(e){let t=1;return Bu(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Su(e,t))).filter(((e,t,n)=>!t||0!==Su(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Su(o,e),i=Su(o,t);if(0===n)r[0]=e.Zt();else if(n>0&&i<0)r.push(o),r.push(o.Zt());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Mu,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Mu,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return Su(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(qu)}getMinOffset(e,t){return wi.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||Fr())))).next(qu)}}function ju(e){return ho(e,"collectionParents")}function Vu(e){return ho(e,"indexEntries")}function Uu(e){return ho(e,"indexConfiguration")}function Bu(e){return ho(e,"indexState")}function qu(e){jr(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;vi(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new mi(t.readTime,t.documentKey,n)}const zu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hu{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Hu(e,Hu.DEFAULT_COLLECTION_PERCENTILE,Hu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Wu(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{jr(1===a)})));const u=[];for(const c of n.mutations){const e=zi(t,c.key.path,n.batchId);o.push(i.delete(e)),u.push(c.key)}return wi.waitFor(o).next((()=>u))}function $u(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Fr();t=e.noDocument}return JSON.stringify(t).length}Hu.DEFAULT_COLLECTION_PERCENTILE=10,Hu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hu.DEFAULT=new Hu(41943040,Hu.DEFAULT_COLLECTION_PERCENTILE,Hu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hu.DISABLED=new Hu(-1,0,0);class Ku{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.vn={}}static Pt(e,t,n,r){jr(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Ku(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qu(e).Z({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Yu(e),o=Qu(e);return o.add({}).next((s=>{jr("number"==typeof s);const a=new Ka(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Ml(e.ht,t))),i=n.mutations.map((t=>Ml(e.ht,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let c=new _o(((e,t)=>Zr(e.canonicalString(),t.canonicalString())));for(const e of r){const t=zi(this.userId,e.key.path,s);c=c.add(e.key.path.popLast()),u.push(o.put(l)),u.push(i.put(t,Hi))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.vn[s]=a.keys()})),wi.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return Qu(e).get(t).next((e=>e?(jr(e.userId===this.userId),nu(this.serializer,e)):null))}Cn(e,t){return this.vn[t]?wi.resolve(this.vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Qu(e).Z({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(jr(t.batchId>=n),i=nu(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Qu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qu(e).G("userMutationsIndex",t).next((e=>e.map((e=>nu(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=qi(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Yu(e).Z({range:r},((n,r,o)=>{const[s,a,l]=n,u=Ui(a);if(s===this.userId&&t.path.isEqual(u))return Qu(e).get(l).next((e=>{if(!e)throw Fr();jr(e.userId===this.userId),i.push(nu(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new _o(Zr);const r=[];return t.forEach((t=>{const i=qi(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Yu(e).Z({range:o},((e,r,i)=>{const[o,s,a]=e,l=Ui(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),wi.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=qi(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new _o(Zr);return Yu(e).Z({range:o},((e,t,i)=>{const[o,a,l]=e,u=Ui(a);o===this.userId&&n.isPrefixOf(u)?u.length===r&&(s=s.add(l)):i.done()})).next((()=>this.Fn(e,s)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Qu(e).get(t).next((e=>{if(null===e)throw Fr();jr(e.userId===this.userId),n.push(nu(this.serializer,e))})))})),wi.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Wu(e.ue,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),wi.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return wi.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Yu(e).Z({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Ui(e[1]);r.push(t)}else n.done()})).next((()=>{jr(0===r.length)}))}))}containsKey(e,t){return Gu(e,this.userId,t)}xn(e){return Xu(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Gu(e,t,n){const r=qi(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Yu(e).Z({range:o,Y:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function Qu(e){return ho(e,"mutations")}function Yu(e){return ho(e,"documentMutations")}function Xu(e){return ho(e,"mutationQueues")}class Ju{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ju(0)}static Bn(){return new Ju(-1)}}class Zu{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new Ju(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>ri.fromTimestamp(new ni(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>ec(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(jr(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return ec(e).Z(((o,s)=>{const a=ru(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>wi.waitFor(i))).next((()=>r))}forEachTarget(e,t){return ec(e).Z(((e,n)=>{const r=ru(n);t(r)}))}Ln(e){return tc(e).get("targetGlobalKey").next((e=>(jr(null!==e),e)))}kn(e,t){return tc(e).put("targetGlobalKey",t)}qn(e,t){return ec(e).put(iu(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Os(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return ec(e).Z({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=ru(n);Ps(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=nc(e);return t.forEach((t=>{const o=Fi(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),wi.waitFor(r)}removeMatchingKeys(e,t,n){const r=nc(e);return wi.forEach(t,(t=>{const i=Fi(t.path);return wi.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=nc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=nc(e);let i=ha();return r.Z({range:n,Y:!0},((e,t,n)=>{const r=Ui(e[1]),o=new li(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Fi(t.path),r=IDBKeyRange.bound([n],[ti(n)],!1,!0);let i=0;return nc(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}lt(e,t){return ec(e).get(t).next((e=>e?ru(e):null))}}function ec(e){return ho(e,"targets")}function tc(e){return ho(e,"targetGlobal")}function nc(e){return ho(e,"targetDocuments")}function rc([e,t],[n,r]){const i=Zr(e,n);return 0===i?Zr(t,r):i}class ic{constructor(e){this.Kn=e,this.buffer=new _o(rc),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();rc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){Nr("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ii(e)?Nr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await bi(e)}await this.zn(3e5)}))}}class sc{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return wi.resolve(Ni.ae);const n=new ic(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Nr("LruGarbageCollector","Garbage collection skipped; disabled"),wi.resolve(zu)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Nr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zu):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,o,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Nr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),Ar()<=a.LogLevel.DEBUG&&Nr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(s-o)+"ms\n"+`\tRemoved ${i} targets in `+(l-s)+"ms\n"+`\tRemoved ${e} documents in `+(u-l)+"ms\n"+`Total Duration: ${u-c}ms`),wi.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function ac(e,t){return new sc(e,t)}class lc{constructor(e,t){this.db=e,this.garbageCollector=ac(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return uc(e,n)}removeReference(e,t,n){return uc(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return uc(e,t)}er(e,t){return function(e,t){let n=!1;return Xu(e).X((r=>Gu(e,r,t).next((e=>(e&&(n=!0),wi.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((o,s)=>{if(s<=t){const t=this.er(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,ri.min()),nc(e).delete(function(e){return[0,Fi(e.path)]}(o)))))}));r.push(t)}})).next((()=>wi.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return uc(e,t)}Xn(e,t){const n=nc(e);let r,i=Ni.ae;return n.Z({index:"documentTargetsIndex"},(([e,n],{path:o,sequenceNumber:s})=>{0===e?(i!==Ni.ae&&t(new li(Ui(r)),i),i=s,r=o):i=Ni.ae})).next((()=>{i!==Ni.ae&&t(new li(Ui(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function uc(e,t){return nc(e).put(function(e,t){return{targetId:0,path:Fi(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class cc{constructor(){this.changes=new ta((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?wi.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dc{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return gc(e).put(n)}removeEntry(e,t,n){return gc(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Zl(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=rs.newInvalidDocument(t);return gc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(mc(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:rs.newInvalidDocument(t)};return gc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(mc(t))},((e,r)=>{n={document:this.nr(t,r),size:$u(r)}})).next((()=>n))}getEntries(e,t){let n=ra();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=ra(),r=new mo(li.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,$u(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return wi.resolve();let r=new _o(yc);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(mc(r.first()),mc(r.last())),o=r.getIterator();let s=o.getNext();return gc(e).Z({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=li.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&yc(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.W(mc(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,o=[i.popLast().toArray(),i.lastSegment(),Zl(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gc(e).G(IDBKeyRange.bound(o,s,!0)).next((e=>{let n=ra();for(const i of e){const e=this.nr(li.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Xs(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=ra();const o=vc(t,n),s=vc(t,mi.max());return gc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.nr(li.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new fc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return pc(e).get("remoteDocumentGlobalKey").next((e=>(jr(!!e),e)))}tr(e,t){return pc(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Ll(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=li.fromSegments(t.noDocument.path),r=tu(t.noDocument.readTime);n=rs.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Fr();{const e=li.fromSegments(t.unknownDocument.path),r=tu(t.unknownDocument.version);n=rs.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new ni(e[0],e[1]);return ri.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(ri.min()))return e}return rs.newInvalidDocument(e)}}function hc(e){return new dc(e)}class fc extends cc{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new ta((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new _o(((e,t)=>Zr(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=Jl(this.ar.serializer,o);r=r.add(i.path.popLast());const l=$u(a);n+=l-s.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=Jl(this.ar.serializer,o.convertToNoDocument(ri.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),wi.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((({documents:e,_r:t})=>(t.forEach(((t,n)=>{this.ur.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function pc(e){return ho(e,"remoteDocumentGlobal")}function gc(e){return ho(e,"remoteDocumentsV14")}function mc(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function vc(e,t){const n=t.documentKey.path.toArray();return[e,Zl(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function yc(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Zr(n[o],r[o]),i)return i;return i=Zr(n.length,r.length),i||(i=Zr(n[n.length-2],r[r.length-2]),i||Zr(n[n.length-1],r[r.length-1]))}class _c{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class bc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Fa(n.mutation,e,So.empty(),ni.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ha()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=ha()){const r=aa();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=oa();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=aa();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ha())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=ra();const o=ua(),s=ua();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Ba)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Fa(s.mutation,t,s.mutation.getFieldMask(),ni.now())):o.set(t.key,So.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new _c(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=ua();let r=new mo(((e,t)=>e-t)),i=ha();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||So.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||ha()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,u=la();l.forEach((e=>{if(!i.has(e)){const r=La(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return wi.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return li.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qs(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):wi.resolve(aa());let s=-1,a=i;return o.next((t=>wi.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?wi.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,ha()))).next((e=>({batchId:s,changes:sa(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new li(t)).next((e=>{let t=oa();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=oa();return this.indexManager.getCollectionParents(e,r).next((o=>wi.forEach(o,(o=>{const s=function(e,t){return new Ms(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,rs.newInvalidDocument(r)))}));let n=oa();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&Fa(o.mutation,i,So.empty(),ni.now()),Xs(t,i)&&(n=n.insert(e,i))})),n}))}}class wc{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return wi.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Cl(e.createTime)}}(t)),wi.resolve()}getNamedQuery(e,t){return wi.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:ou(e.bundledQuery),readTime:Cl(e.readTime)}}(t)),wi.resolve()}}class Sc{constructor(){this.overlays=new mo(li.comparator),this.hr=new Map}getOverlay(e,t){return wi.resolve(this.overlays.get(t))}getOverlays(e,t){const n=aa();return wi.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.It(e,t,r)})),wi.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),wi.resolve()}getOverlaysForCollection(e,t,n){const r=aa(),i=t.length+1,o=new li(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return wi.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new mo(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=aa(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=aa(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return wi.resolve(s)}It(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Qa(t,n));let i=this.hr.get(t);void 0===i&&(i=ha(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class kc{constructor(){this.Pr=new _o(Ec.Ir),this.Tr=new _o(Ec.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Ec(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Ec(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new li(new oi([])),n=new Ec(t,e),r=new Ec(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new li(new oi([])),n=new Ec(t,e),r=new Ec(t,e+1);let i=ha();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Ec(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ec{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return li.comparator(e.key,t.key)||Zr(e.pr,t.pr)}static Er(e,t){return Zr(e.pr,t.pr)||li.comparator(e.key,t.key)}}class Cc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new _o(Ec.Ir)}checkEmpty(e){return wi.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ka(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new Ec(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return wi.resolve(o)}lookupMutationBatch(e,t){return wi.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return wi.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return wi.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return wi.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ec(t,0),r=new Ec(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),wi.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new _o(Zr);return t.forEach((e=>{const t=new Ec(e,0),r=new Ec(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),wi.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;li.isDocumentKey(i)||(i=i.child(""));const o=new Ec(new li(i),0);let s=new _o(Zr);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),wi.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){jr(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return wi.forEach(t.mutations,(r=>{const i=new Ec(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Ec(t,0),r=this.wr.firstAfterOrEqual(n);return wi.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,wi.resolve()}vr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ic{constructor(e){this.Cr=e,this.docs=new mo(li.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return wi.resolve(n?n.document.mutableCopy():rs.newInvalidDocument(t))}getEntries(e,t){let n=ra();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():rs.newInvalidDocument(e))})),wi.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ra();const o=t.path,s=new li(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||vi(gi(s),n)<=0||(r.has(s.key)||Xs(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return wi.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Fr()}Fr(e,t){return wi.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Tc(this)}getSize(e){return wi.resolve(this.size)}}class Tc extends cc{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),wi.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Rc{constructor(e){this.persistence=e,this.Mr=new ta((e=>Os(e)),Ps),this.lastRemoteSnapshotVersion=ri.min(),this.highestTargetId=0,this.Or=0,this.Nr=new kc,this.targetCount=0,this.Br=Ju.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),wi.resolve()}getLastRemoteSnapshotVersion(e){return wi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return wi.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),wi.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),wi.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new Ju(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,wi.resolve()}updateTargetData(e,t){return this.qn(t),wi.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,wi.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),wi.waitFor(i).next((()=>r))}getTargetCount(e){return wi.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return wi.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),wi.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),wi.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),wi.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return wi.resolve(n)}containsKey(e,t){return wi.resolve(this.Nr.containsKey(t))}}class xc{constructor(e,t){this.Lr={},this.overlays={},this.kr=new Ni(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Rc(this),this.indexManager=new Du,this.remoteDocumentCache=function(e){return new Ic(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Xl(t),this.$r=new wc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new Cc(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Nr("MemoryPersistence","Starting transaction:",e);const r=new Oc(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return wi.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class Oc extends _i{constructor(e){super(),this.currentSequenceNumber=e}}class Pc{constructor(e){this.persistence=e,this.zr=new kc,this.jr=null}static Hr(e){return new Pc(e)}get Jr(){if(this.jr)return this.jr;throw Fr()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),wi.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),wi.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),wi.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wi.forEach(this.Jr,(n=>{const r=li.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,ri.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return wi.or([()=>wi.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Ac{constructor(e){this.serializer=e}B(e,t,n,r){const i=new Si("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bi,{unique:!0}),e.createObjectStore("documentMutations")}(e),Nc(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=wi.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Nc(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ri.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").G().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bi,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return wi.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Xr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(o=o.next((()=>this.ti(i)))),n<8&&r>=8&&(o=o.next((()=>this.ni(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ri(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:no});t.createIndex("collectionPathOverlayIndex",ro,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",io,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Wi});t.createIndex("documentKeyIndex",$i),t.createIndex("collectionGroupIndex",Ki)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ji}).createIndex("sequenceNumberIndex",Zi,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:eo}).createIndex("documentKeyIndex",to,{unique:!1})}(e)))),o}ei(e){let t=0;return e.store("remoteDocuments").Z(((e,n)=>{t+=$u(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.G().next((t=>wi.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.G("userMutationsIndex",r).next((n=>wi.forEach(n,(n=>{jr(n.userId===t.userId);const r=nu(this.serializer,n);return Wu(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Z(((n,i)=>{const o=new oi(n),s=function(e){return[0,Fi(e)]}(o);r.push(t.get(s).next((n=>n?wi.resolve():(n=>t.put({targetId:0,path:Fi(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>wi.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:Xi});const n=t.store("collectionParents"),r=new Lu,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Fi(r)})}};return t.store("remoteDocuments").Z({Y:!0},((e,t)=>{const n=new oi(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Z({Y:!0},(([e,t,n],r)=>{const o=Ui(t);return i(o.popLast())}))))}ri(e){const t=e.store("targets");return t.Z(((e,n)=>{const r=ru(n),i=iu(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Z(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new li(oi.fromString(e.document.name).popFirst(5)):e.noDocument?li.fromSegments(e.noDocument.path):e.unknownDocument?li.fromSegments(e.unknownDocument.path):Fr()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>wi.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=hc(this.serializer),i=new xc(Pc.Hr,this.serializer.ht);return n.G().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:ha();nu(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),wi.forEach(n,((e,n)=>{const o=new xr(n),s=hu.Pt(this.serializer,o),a=i.getIndexManager(o),l=Ku.Pt(o,this.serializer,a,i.referenceDelegate);return new bc(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new co(t,Ni.ae),e).next()}))}))}}function Nc(e){e.createObjectStore("targetDocuments",{keyPath:Qi}).createIndex("documentTargetsIndex",Yi,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Gi,{unique:!0}),e.createObjectStore("targetGlobal")}const Dc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Lc{constructor(e,t,n,r,i,o,s,a,l,u,c=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=o,this.document=s,this._i=l,this.ai=u,this.ui=c,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!Lc.v())throw new Br(Ur.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lc(this,r),this.Ti=t+"main",this.serializer=new Xl(a),this.Ei=new ki(this.Ti,this.ui,new Ac(this.serializer)),this.Qr=new Zu(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hc(this.serializer),this.$r=new uu,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===u&&Dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Br(Ur.FAILED_PRECONDITION,Dc);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new Ni(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.k((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Fc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Ii(e))return Nr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Nr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Mc(e).get("owner").next((e=>wi.resolve(this.Si(e))))}bi(e){return Fc(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.vi(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=ho(e,"clientMetadata");return t.G().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return wi.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?wi.resolve(!0):Mc(e).get("owner").next((t=>{if(null!==t&&this.vi(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new Br(Ur.FAILED_PRECONDITION,Dc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fc(e).G().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Nr("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new co(e,Ni.ae);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Bi()}Ci(e,t){return e.filter((e=>this.vi(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>Fc(e).G().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return Ku.Pt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Fu(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return hu.Pt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){Nr("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?uo:14===e?lo:13===e?ao:12===e?so:11===e?oo:void Fr()}(this.ui);let o;return this.Ei.runTransaction(e,r,i,(r=>(o=new co(r,this.kr?this.kr.next():Ni.ae),"readwrite-primary"===t?this.gi(o).next((e=>!!e||this.pi(o))).next((t=>{if(!t)throw Dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new Br(Ur.FAILED_PRECONDITION,yi);return n(o)})).next((e=>this.wi(o).next((()=>e)))):this.ki(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}ki(e){return Mc(e).get("owner").next((e=>{if(null!==e&&this.vi(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Br(Ur.FAILED_PRECONDITION,Dc)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Mc(e).put("owner",t)}static v(){return ki.v()}yi(e){const t=Mc(e);return t.get("owner").next((e=>this.Si(e)?(Nr("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):wi.resolve()))}vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Dr(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,l.isSafari)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Nr("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Dr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Dr("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Mc(e){return ho(e,"owner")}function Fc(e){return ho(e,"clientMetadata")}function jc(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Vc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=ha(),r=ha();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Vc(e,t.fromCache,n,r)}}class Uc{constructor(){this.$i=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Wi(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.zi(e,t)))}Wi(e,t){if(Vs(t))return wi.resolve(null);let n=Hs(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ks(t,null,"F"),n=Hs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ha(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.Hi(t,o,i,n.readTime)?this.Wi(e,Ks(t,null,"F")):this.Ji(e,o,t,n)}))))})))))}Gi(e,t,n,r){return Vs(t)||r.isEqual(ri.min())?this.zi(e,t):this.Ui.getDocuments(e,n).next((i=>{const o=this.ji(t,i);return this.Hi(t,o,n,r)?this.zi(e,t):(Ar()<=a.LogLevel.DEBUG&&Nr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ys(t)),this.Ji(e,o,t,pi(r,-1)))}))}ji(e,t){let n=new _o(Zs(e));return t.forEach(((t,r)=>{Xs(e,r)&&(n=n.add(r))})),n}Hi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}zi(e,t){return Ar()<=a.LogLevel.DEBUG&&Nr("QueryEngine","Using full collection scan to execute query:",Ys(t)),this.Ui.getDocumentsMatchingQuery(e,t,mi.min())}Ji(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Bc{constructor(e,t,n,r){this.persistence=e,this.Yi=t,this.serializer=r,this.Zi=new mo(Zr),this.Xi=new ta((e=>Os(e)),Ps),this.es=new Map,this.ts=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this.ns(n)}ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bc(this.ts,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ts.setIndexManager(this.indexManager),this.Yi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Zi)))}}function qc(e,t,n,r){return new Bc(e,t,n,r)}async function zc(e,t){const n=Vr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ns(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=ha();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({rs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Hc(e){const t=Vr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Wc(e,t,n){let r=ha(),i=ha();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ra();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(ri.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Nr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{ss:r,os:i}}))}function $c(e,t){const n=Vr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Kc(e,t){const n=Vr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,wi.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Yl(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Zi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Zi=n.Zi.insert(e.targetId,e),n.Xi.set(t,e.targetId)),e}))}async function Gc(e,t,n){const r=Vr(e),i=r.Zi.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ii(e))throw e;Nr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Zi=r.Zi.remove(t),r.Xi.delete(i.target)}function Qc(e,t,n){const r=Vr(e);let i=ri.min(),o=ha();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Vr(e),i=r.Xi.get(n);return void 0!==i?wi.resolve(r.Zi.get(i)):r.Qr.getTargetData(t,n)}(r,e,Hs(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Yi.getDocumentsMatchingQuery(e,t,n?i:ri.min(),n?o:ha()))).next((e=>(Jc(r,Js(t),e),{documents:e,_s:o})))))}function Yc(e,t){const n=Vr(e),r=Vr(n.Qr),i=n.Zi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.lt(e,t).next((e=>e?e.target:null))))}function Xc(e,t){const n=Vr(e),r=n.es.get(t)||ri.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ts.getAllFromCollectionGroup(e,t,pi(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Jc(n,t,e),e)))}function Jc(e,t,n){let r=e.es.get(t)||ri.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.es.set(t,r)}async function Zc(e,t,n=ha()){const r=await Kc(e,Hs(ou(t.bundledQuery))),i=Vr(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Cl(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(e,t);const s=r.withResumeToken(Eo.EMPTY_BYTE_STRING,o);return i.Zi=i.Zi.insert(s.targetId,s),i.Qr.updateTargetData(e,s).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function ed(e,t){return`firestore_clients_${e}_${t}`}function td(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function nd(e,t){return`firestore_targets_${e}_${t}`}class rd{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static hs(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Br(r.error.code,r.error.message))),o?new rd(e,t,r.state,i):(Dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Ps(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class id{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static hs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Br(n.error.code,n.error.message))),i?new id(e,n.state,r):(Dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ps(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class od{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static hs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=pa();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Mi(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new od(e,i):(Dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class sd{constructor(e,t){this.clientId=e,this.onlineState=t}static hs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new sd(t.clientId,t.onlineState):(Dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ad{constructor(){this.activeTargetIds=pa()}Is(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ts(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ps(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ld{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Es=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ds=this.As.bind(this),this.Rs=new mo(Zr),this.started=!1,this.Vs=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.fs=ed(this.persistenceKey,this.Es),this.gs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Rs=this.Rs.insert(this.Es,new ad),this.ps=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.ys=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.ws=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Ss=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.bs=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.ds)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Es)continue;const e=this.getItem(ed(this.persistenceKey,n));if(e){const t=od.hs(n,e);t&&(this.Rs=this.Rs.insert(t.clientId,t))}}this.Ds();const t=this.storage.getItem(this.Ss);if(t){const e=this.vs(t);e&&this.Cs(e)}for(const n of this.Vs)this.As(n);this.Vs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.gs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Fs(this.Rs)}isActiveQueryTarget(e){let t=!1;return this.Rs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ms(e,"pending")}updateMutationState(e,t,n){this.Ms(e,t,n),this.xs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(nd(this.persistenceKey,e));if(n){const r=id.hs(e,n);r&&(t=r.state)}}return this.Os.Is(e),this.Ds(),t}removeLocalQueryTarget(e){this.Os.Ts(e),this.Ds()}isLocalQueryTarget(e){return this.Os.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nd(this.persistenceKey,e))}updateQueryState(e,t,n){this.Ns(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.xs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Bs(e)}notifyBundleLoaded(e){this.Ls(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ds),this.removeItem(this.fs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Nr("SharedClientState","READ",e,t),t}setItem(e,t){Nr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Nr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}As(e){const t=e;if(t.storageArea===this.storage){if(Nr("SharedClientState","EVENT",t.key,t.newValue),t.key===this.fs)return void Dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.ps.test(t.key)){if(null==t.newValue){const e=this.ks(t.key);return this.qs(e,null)}{const e=this.Qs(t.key,t.newValue);if(e)return this.qs(e.clientId,e)}}else if(this.ys.test(t.key)){if(null!==t.newValue){const e=this.Ks(t.key,t.newValue);if(e)return this.$s(e)}}else if(this.ws.test(t.key)){if(null!==t.newValue){const e=this.Us(t.key,t.newValue);if(e)return this.Ws(e)}}else if(t.key===this.Ss){if(null!==t.newValue){const e=this.vs(t.newValue);if(e)return this.Cs(e)}}else if(t.key===this.gs){const e=function(e){let t=Ni.ae;if(null!=e)try{const n=JSON.parse(e);jr("number"==typeof n),t=n}catch(e){Dr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Ni.ae&&this.sequenceNumberHandler(e)}else if(t.key===this.bs){const e=this.Gs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.zs(e))))}}else this.Vs.push(t)}))}}get Os(){return this.Rs.get(this.Es)}Ds(){this.setItem(this.fs,this.Os.Ps())}Ms(e,t,n){const r=new rd(this.currentUser,e,t,n),i=td(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ps())}xs(e){const t=td(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Bs(e){const t={clientId:this.Es,onlineState:e};this.storage.setItem(this.Ss,JSON.stringify(t))}Ns(e,t,n){const r=nd(this.persistenceKey,e),i=new id(e,t,n);this.setItem(r,i.Ps())}Ls(e){const t=JSON.stringify(Array.from(e));this.setItem(this.bs,t)}ks(e){const t=this.ps.exec(e);return t?t[1]:null}Qs(e,t){const n=this.ks(e);return od.hs(n,t)}Ks(e,t){const n=this.ys.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return rd.hs(new xr(i),r,t)}Us(e,t){const n=this.ws.exec(e),r=Number(n[1]);return id.hs(r,t)}vs(e){return sd.hs(e)}Gs(e){return JSON.parse(e)}async $s(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.js(e.batchId,e.state,e.error);Nr("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Ws(e){return this.syncEngine.Hs(e.targetId,e.state,e.error)}qs(e,t){const n=t?this.Rs.insert(e,t):this.Rs.remove(e),r=this.Fs(this.Rs),i=this.Fs(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Js(o,s).then((()=>{this.Rs=n}))}Cs(e){this.Rs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Fs(e){let t=pa();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class ud{constructor(){this.Ys=new ad,this.Zs={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Ys.Is(e),this.Zs[e]||"not-current"}updateQueryState(e,t,n){this.Zs[e]=t}removeLocalQueryTarget(e){this.Ys.Ts(e)}isLocalQueryTarget(e){return this.Ys.activeTargetIds.has(e)}clearQueryState(e){delete this.Zs[e]}getAllActiveQueryTargets(){return this.Ys.activeTargetIds}isActiveQueryTarget(e){return this.Ys.activeTargetIds.has(e)}start(){return this.Ys=new ad,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cd{Xs(e){}shutdown(){}}class dd{constructor(){this.eo=()=>this.no(),this.ro=()=>this.io(),this.so=[],this.oo()}Xs(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.eo),window.removeEventListener("offline",this.ro)}oo(){window.addEventListener("online",this.eo),window.addEventListener("offline",this.ro)}no(){Nr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}io(){Nr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hd=null;function fd(){return null===hd?hd=268435456+Math.round(2147483648*Math.random()):hd++,"0x"+hd.toString(16)}const pd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gd{constructor(e){this._o=e._o,this.ao=e.ao}uo(e){this.co=e}lo(e){this.ho=e}onMessage(e){this.Po=e}close(){this.ao()}send(e){this._o(e)}Io(){this.co()}To(e){this.ho(e)}Eo(e){this.Po(e)}}const md="WebChannelConnection";class vd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ao=t+"://"+e.host,this.Ro=`projects/${n}/databases/${r}`,this.Vo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get mo(){return!1}fo(e,t,n,r,i){const o=fd(),s=this.po(e,t);Nr("RestConnection",`Sending RPC '${e}' ${o}:`,s,n);const a={"google-cloud-resource-prefix":this.Ro,"x-goog-request-params":this.Vo};return this.yo(a,r,i),this.wo(e,s,a,n).then((t=>(Nr("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw Lr("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}So(e,t,n,r,i,o){return this.fo(e,t,n,r,i)}yo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Or,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}po(e,t){const n=pd[e];return`${this.Ao}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}wo(e,t,n,r){const i=fd();return new Promise(((o,s)=>{const a=new Cr;a.setWithCredentials(!0),a.listenOnce(wr.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case br.NO_ERROR:const t=a.getResponseJson();Nr(md,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case br.TIMEOUT:Nr(md,`RPC '${e}' ${i} timed out`),s(new Br(Ur.DEADLINE_EXCEEDED,"Request time out"));break;case br.HTTP_ERROR:const n=a.getStatus();if(Nr(md,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ur).indexOf(t)>=0?t:Ur.UNKNOWN}(t.status);s(new Br(e,t.message))}else s(new Br(Ur.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Br(Ur.UNAVAILABLE,"Connection failed."));break;default:Fr()}}finally{Nr(md,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Nr(md,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}bo(e,t,n){const r=fd(),i=[this.Ao,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yr(),s=_r(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.yo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Nr(md,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=o.createWebChannel(u,a);let d=!1,h=!1;const f=new gd({_o:t=>{h?Nr(md,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Nr(md,`Opening RPC '${e}' stream ${r} transport.`),c.open(),d=!0),Nr(md,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},ao:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,Er.EventType.OPEN,(()=>{h||Nr(md,`RPC '${e}' stream ${r} transport opened.`)})),p(c,Er.EventType.CLOSE,(()=>{h||(h=!0,Nr(md,`RPC '${e}' stream ${r} transport closed`),f.To())})),p(c,Er.EventType.ERROR,(t=>{h||(h=!0,Lr(md,`RPC '${e}' stream ${r} transport errored:`,t),f.To(new Br(Ur.UNAVAILABLE,"The operation could not be completed")))})),p(c,Er.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];jr(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Nr(md,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=Xa[e];if(void 0!==t)return el(t)}(t),i=s.message;void 0===n&&(n=Ur.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.To(new Br(n,i)),c.close()}else Nr(md,`RPC '${e}' stream ${r} received:`,i),f.Eo(i)}})),p(s,Sr.STAT_EVENT,(t=>{t.stat===kr.PROXY?Nr(md,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===kr.NOPROXY&&Nr(md,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.Io()}),0),f}}function yd(){return"undefined"!=typeof window?window:null}function _d(){return"undefined"!=typeof document?document:null}function bd(e){return new bl(e,!0)}class wd{constructor(e,t,n=1e3,r=1.5,i=6e4){this.oi=e,this.timerId=t,this.Do=n,this.vo=r,this.Co=i,this.Fo=0,this.Mo=null,this.xo=Date.now(),this.reset()}reset(){this.Fo=0}Oo(){this.Fo=this.Co}No(e){this.cancel();const t=Math.floor(this.Fo+this.Bo()),n=Math.max(0,Date.now()-this.xo),r=Math.max(0,t-n);r>0&&Nr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Fo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Mo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.xo=Date.now(),e()))),this.Fo*=this.vo,this.Fo<this.Do&&(this.Fo=this.Do),this.Fo>this.Co&&(this.Fo=this.Co)}Lo(){null!==this.Mo&&(this.Mo.skipDelay(),this.Mo=null)}cancel(){null!==this.Mo&&(this.Mo.cancel(),this.Mo=null)}Bo(){return(Math.random()-.5)*this.Fo}}class Sd{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.ko=n,this.qo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Qo=0,this.Ko=null,this.$o=null,this.stream=null,this.Uo=new wd(e,t)}Wo(){return 1===this.state||5===this.state||this.Go()}Go(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.zo()}async stop(){this.Wo()&&await this.close(0)}jo(){this.state=0,this.Uo.reset()}Ho(){this.Go()&&null===this.Ko&&(this.Ko=this.oi.enqueueAfterDelay(this.ko,6e4,(()=>this.Jo())))}Yo(e){this.Zo(),this.stream.send(e)}async Jo(){if(this.Go())return this.close(0)}Zo(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}Xo(){this.$o&&(this.$o.cancel(),this.$o=null)}async close(e,t){this.Zo(),this.Xo(),this.Uo.cancel(),this.Qo++,4!==e?this.Uo.reset():t&&t.code===Ur.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.Uo.Oo()):t&&t.code===Ur.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.e_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.lo(t)}e_(){}auth(){this.state=1;const e=this.t_(this.Qo),t=this.Qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Qo===t&&this.n_(e,n)}),(t=>{e((()=>{const e=new Br(Ur.UNKNOWN,"Fetching auth token failed: "+t.message);return this.r_(e)}))}))}n_(e,t){const n=this.t_(this.Qo);this.stream=this.i_(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.$o=this.oi.enqueueAfterDelay(this.qo,1e4,(()=>(this.Go()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.lo((e=>{n((()=>this.r_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}zo(){this.state=5,this.Uo.No((async()=>{this.state=0,this.start()}))}r_(e){return Nr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}t_(e){return t=>{this.oi.enqueueAndForget((()=>this.Qo===e?t():(Nr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kd extends Sd{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}i_(e,t){return this.connection.bo("Listen",e,t)}onMessage(e){this.Uo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Fr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(jr(void 0===t||"string"==typeof t),Eo.fromBase64String(t||"")):(jr(void 0===t||t instanceof Uint8Array),Eo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Ur.UNKNOWN:el(e.code);return new Br(t,e.message||"")}(s);n=new hl(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=xl(e,r.document.name),o=Cl(r.document.updateTime),s=r.document.createTime?Cl(r.document.createTime):ri.min(),a=new ts({mapValue:{fields:r.document.fields}}),l=rs.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new cl(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=xl(e,r.document),o=r.readTime?Cl(r.readTime):ri.min(),s=rs.newNoDocument(i,o),a=r.removedTargetIds||[];n=new cl([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=xl(e,r.document),o=r.removedTargetIds||[];n=new cl([],o,i,null)}else{if(!("filter"in t))return Fr();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Ya(r,i),s=e.targetId;n=new dl(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ri.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ri.min():t.readTime?Cl(t.readTime):ri.min()}(e);return this.listener.s_(t,n)}o_(e){const t={};t.database=Al(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=As(r)?{documents:jl(e,r)}:{query:Vl(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=kl(e,t.resumeToken);const r=wl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ri.min())>0){n.readTime=Sl(e,t.snapshotVersion.toTimestamp());const r=wl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fr()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Yo(t)}__(e){const t={};t.database=Al(this.serializer),t.removeTarget=e,this.Yo(t)}}class Ed extends Sd{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.a_=!1}get u_(){return this.a_}start(){this.a_=!1,this.lastStreamToken=void 0,super.start()}e_(){this.a_&&this.c_([])}i_(e,t){return this.connection.bo("Write",e,t)}onMessage(e){if(jr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_){this.Uo.reset();const t=function(e,t){return e&&e.length>0?(jr(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Cl(e.updateTime):Cl(t);return n.isEqual(ri.min())&&(n=Cl(t)),new Pa(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Cl(e.commitTime);return this.listener.l_(n,t)}return jr(!e.writeResults||0===e.writeResults.length),this.a_=!0,this.listener.h_()}P_(){const e={};e.database=Al(this.serializer),this.Yo(e)}c_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ml(this.serializer,e)))};this.Yo(t)}}class Cd extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.I_=!1}T_(){if(this.I_)throw new Br(Ur.FAILED_PRECONDITION,"The client has already been terminated.")}fo(e,t,n){return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.fo(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ur.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Br(Ur.UNKNOWN,e.toString())}))}So(e,t,n,r){return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.So(e,t,n,i,o,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ur.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Br(Ur.UNKNOWN,e.toString())}))}terminate(){this.I_=!0}}class Id{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.d_=0,this.A_=null,this.R_=!0}V_(){0===this.d_&&(this.m_("Unknown"),this.A_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.A_=null,this.f_("Backend didn't respond within 10 seconds."),this.m_("Offline"),Promise.resolve()))))}g_(e){"Online"===this.state?this.m_("Unknown"):(this.d_++,this.d_>=1&&(this.p_(),this.f_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.m_("Offline")))}set(e){this.p_(),this.d_=0,"Online"===e&&(this.R_=!1),this.m_(e)}m_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}f_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.R_?(Dr(t),this.R_=!1):Nr("OnlineStateTracker",t)}p_(){null!==this.A_&&(this.A_.cancel(),this.A_=null)}}class Td{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.y_=[],this.w_=new Map,this.S_=new Set,this.b_=[],this.D_=i,this.D_.Xs((e=>{n.enqueueAndForget((async()=>{Md(this)&&(Nr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Vr(e);t.S_.add(4),await xd(t),t.v_.set("Unknown"),t.S_.delete(4),await Rd(t)}(this))}))})),this.v_=new Id(n,r)}}async function Rd(e){if(Md(e))for(const t of e.b_)await t(!0)}async function xd(e){for(const t of e.b_)await t(!1)}function Od(e,t){const n=Vr(e);n.w_.has(t.targetId)||(n.w_.set(t.targetId,t),Ld(n)?Dd(n):eh(n).Go()&&Ad(n,t))}function Pd(e,t){const n=Vr(e),r=eh(n);n.w_.delete(t),r.Go()&&Nd(n,t),0===n.w_.size&&(r.Go()?r.Ho():Md(n)&&n.v_.set("Unknown"))}function Ad(e,t){if(e.C_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ri.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}eh(e).o_(t)}function Nd(e,t){e.C_.Le(t),eh(e).__(t)}function Dd(e){e.C_=new pl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.w_.get(t)||null,st:()=>e.datastore.serializer.databaseId}),eh(e).start(),e.v_.V_()}function Ld(e){return Md(e)&&!eh(e).Wo()&&e.w_.size>0}function Md(e){return 0===Vr(e).S_.size}function Fd(e){e.C_=void 0}async function jd(e){e.w_.forEach(((t,n)=>{Ad(e,t)}))}async function Vd(e,t){Fd(e),Ld(e)?(e.v_.g_(t),Dd(e)):e.v_.set("Unknown")}async function Ud(e,t,n){if(e.v_.set("Online"),t instanceof hl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.w_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.w_.delete(r),e.C_.removeTarget(r))}(e,t)}catch(n){Nr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Bd(e,n)}else if(t instanceof cl?e.C_.Ge(t):t instanceof dl?e.C_.Xe(t):e.C_.He(t),!n.isEqual(ri.min()))try{const t=await Hc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.C_._t(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.w_.get(r);i&&e.w_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.w_.get(t);if(!r)return;e.w_.set(t,r.withResumeToken(Eo.EMPTY_BYTE_STRING,r.snapshotVersion)),Nd(e,t);const i=new Yl(r.target,t,n,r.sequenceNumber);Ad(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Nr("RemoteStore","Failed to raise snapshot:",t),await Bd(e,t)}}async function Bd(e,t,n){if(!Ii(t))throw t;e.S_.add(1),await xd(e),e.v_.set("Offline"),n||(n=()=>Hc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Nr("RemoteStore","Retrying IndexedDB access"),await n(),e.S_.delete(1),await Rd(e)}))}function qd(e,t){return t().catch((n=>Bd(e,n,t)))}async function zd(e){const t=Vr(e),n=th(t);let r=t.y_.length>0?t.y_[t.y_.length-1].batchId:-1;for(;Hd(t);)try{const e=await $c(t.localStore,r);if(null===e){0===t.y_.length&&n.Ho();break}r=e.batchId,Wd(t,e)}catch(e){await Bd(t,e)}$d(t)&&Kd(t)}function Hd(e){return Md(e)&&e.y_.length<10}function Wd(e,t){e.y_.push(t);const n=th(e);n.Go()&&n.u_&&n.c_(t.mutations)}function $d(e){return Md(e)&&!th(e).Wo()&&e.y_.length>0}function Kd(e){th(e).start()}async function Gd(e){th(e).P_()}async function Qd(e){const t=th(e);for(const n of e.y_)t.c_(n.mutations)}async function Yd(e,t,n){const r=e.y_.shift(),i=Ga.from(r,t,n);await qd(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await zd(e)}async function Xd(e,t){t&&th(e).u_&&await async function(e,t){if(function(e){return Za(e)&&e!==Ur.ABORTED}(t.code)){const n=e.y_.shift();th(e).jo(),await qd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await zd(e)}}(e,t),$d(e)&&Kd(e)}async function Jd(e,t){const n=Vr(e);n.asyncQueue.verifyOperationInProgress(),Nr("RemoteStore","RemoteStore received new credentials");const r=Md(n);n.S_.add(3),await xd(n),r&&n.v_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.S_.delete(3),await Rd(n)}async function Zd(e,t){const n=Vr(e);t?(n.S_.delete(2),await Rd(n)):t||(n.S_.add(2),await xd(n),n.v_.set("Unknown"))}function eh(e){return e.F_||(e.F_=function(e,t,n){const r=Vr(e);return r.T_(),new kd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:jd.bind(null,e),lo:Vd.bind(null,e),s_:Ud.bind(null,e)}),e.b_.push((async t=>{t?(e.F_.jo(),Ld(e)?Dd(e):e.v_.set("Unknown")):(await e.F_.stop(),Fd(e))}))),e.F_}function th(e){return e.M_||(e.M_=function(e,t,n){const r=Vr(e);return r.T_(),new Ed(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Gd.bind(null,e),lo:Xd.bind(null,e),h_:Qd.bind(null,e),l_:Yd.bind(null,e)}),e.b_.push((async t=>{t?(e.M_.jo(),await zd(e)):(await e.M_.stop(),e.y_.length>0&&(Nr("RemoteStore",`Stopping write stream with ${e.y_.length} pending writes`),e.y_=[]))}))),e.M_}class nh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new nh(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Br(Ur.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rh(e,t){if(Dr("AsyncQueue",`${t}: ${e}`),Ii(e))return new Br(Ur.UNAVAILABLE,`${t}: ${e}`);throw e}class ih{constructor(e){this.comparator=e?(t,n)=>e(t,n)||li.comparator(t.key,n.key):(e,t)=>li.comparator(e.key,t.key),this.keyedMap=oa(),this.sortedSet=new mo(this.comparator)}static emptySet(e){return new ih(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ih))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ih;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class oh{constructor(){this.x_=new mo(li.comparator)}track(e){const t=e.doc.key,n=this.x_.get(t);n?0!==e.type&&3===n.type?this.x_=this.x_.insert(t,e):3===e.type&&1!==n.type?this.x_=this.x_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.x_=this.x_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.x_=this.x_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.x_=this.x_.remove(t):1===e.type&&2===n.type?this.x_=this.x_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.x_=this.x_.insert(t,{type:2,doc:e.doc}):Fr():this.x_=this.x_.insert(t,e)}O_(){const e=[];return this.x_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class sh{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new sh(e,t,ih.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ah{constructor(){this.N_=void 0,this.listeners=[]}}class lh{constructor(){this.queries=new ta((e=>Qs(e)),Gs),this.onlineState="Unknown",this.B_=new Set}}async function uh(e,t){const n=Vr(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new ah),i)try{o.N_=await n.onListen(r)}catch(e){const n=rh(e,`Initialization of query '${Ys(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.L_(n.onlineState),o.N_&&t.k_(o.N_)&&fh(n)}async function ch(e,t){const n=Vr(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function dh(e,t){const n=Vr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.k_(i)&&(r=!0);t.N_=i}}r&&fh(n)}function hh(e,t,n){const r=Vr(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function fh(e){e.B_.forEach((e=>{e.next()}))}class ph{constructor(e,t,n){this.query=e,this.q_=t,this.Q_=!1,this.K_=null,this.onlineState="Unknown",this.options=n||{}}k_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new sh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Q_?this.U_(e)&&(this.q_.next(e),t=!0):this.W_(e,this.onlineState)&&(this.G_(e),t=!0),this.K_=e,t}onError(e){this.q_.error(e)}L_(e){this.onlineState=e;let t=!1;return this.K_&&!this.Q_&&this.W_(this.K_,e)&&(this.G_(this.K_),t=!0),t}W_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}U_(e){if(e.docChanges.length>0)return!0;const t=this.K_&&this.K_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}G_(e){e=sh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Q_=!0,this.q_.next(e)}}class gh{constructor(e,t){this.j_=e,this.byteLength=t}H_(){return"metadata"in this.j_}}class mh{constructor(e){this.serializer=e}us(e){return xl(this.serializer,e)}cs(e){return e.metadata.exists?Ll(this.serializer,e.document,!1):rs.newNoDocument(this.us(e.metadata.name),this.ls(e.metadata.readTime))}ls(e){return Cl(e)}}class vh{constructor(e,t,n){this.J_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yh(e)}Y_(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.j_.namedQuery)this.queries.push(e.j_.namedQuery);else if(e.j_.documentMetadata){this.documents.push({metadata:e.j_.documentMetadata}),e.j_.documentMetadata.exists||++t;const n=oi.fromString(e.j_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.j_.document&&(this.documents[this.documents.length-1].document=e.j_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Z_(e){const t=new Map,n=new mh(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.us(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||ha()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Vr(e);let o=ha(),s=ra();for(const u of n){const e=t.us(u.metadata.name);u.document&&(o=o.add(e));const n=t.cs(u);n.setReadTime(t.ls(u.metadata.readTime)),s=s.insert(e,n)}const a=i.ts.newChangeBuffer({trackRemovals:!0}),l=await Kc(i,function(e){return Hs(js(oi.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Wc(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.ss,t.os))).next((()=>t.ss))))))}(this.localStore,new mh(this.serializer),this.documents,this.J_.id),t=this.Z_(this.documents);for(const n of this.queries)await Zc(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,X_:this.collectionGroups,ea:e}}}function yh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class _h{constructor(e){this.key=e}}class bh{constructor(e){this.key=e}}class wh{constructor(e,t){this.query=e,this.ta=t,this.na=null,this.hasCachedResults=!1,this.current=!1,this.ra=ha(),this.mutatedKeys=ha(),this.ia=Zs(e),this.sa=new ih(this.ia)}get oa(){return this.ta}_a(e,t){const n=t?t.aa:new oh,r=t?t.sa:this.sa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Xs(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.ua(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.ia(c,a)>0||l&&this.ia(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(s=!0)),f&&(c?(o=o.add(c),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{sa:o,aa:n,Hi:s,mutatedKeys:i}}ua(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.sa;this.sa=e.sa,this.mutatedKeys=e.mutatedKeys;const i=e.aa.O_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fr()}};return n(e)-n(t)}(e.type,t.type)||this.ia(e.doc,t.doc))),this.ca(n);const o=t?this.la():[],s=0===this.ra.size&&this.current?1:0,a=s!==this.na;return this.na=s,0!==i.length||a?{snapshot:new sh(this.query,e.sa,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),ha:o}:{ha:o}}L_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({sa:this.sa,aa:new oh,mutatedKeys:this.mutatedKeys,Hi:!1},!1)):{ha:[]}}Pa(e){return!this.ta.has(e)&&!!this.sa.has(e)&&!this.sa.get(e).hasLocalMutations}ca(e){e&&(e.addedDocuments.forEach((e=>this.ta=this.ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ta=this.ta.delete(e))),this.current=e.current)}la(){if(!this.current)return[];const e=this.ra;this.ra=ha(),this.sa.forEach((e=>{this.Pa(e.key)&&(this.ra=this.ra.add(e.key))}));const t=[];return e.forEach((e=>{this.ra.has(e)||t.push(new bh(e))})),this.ra.forEach((n=>{e.has(n)||t.push(new _h(n))})),t}Ia(e){this.ta=e._s,this.ra=ha();const t=this._a(e.documents);return this.applyChanges(t,!0)}Ta(){return sh.fromInitialDocuments(this.query,this.sa,this.mutatedKeys,0===this.na,this.hasCachedResults)}}class Sh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class kh{constructor(e){this.key=e,this.Ea=!1}}class Eh{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.da={},this.Aa=new ta((e=>Qs(e)),Gs),this.Ra=new Map,this.Va=new Set,this.ma=new mo(li.comparator),this.fa=new Map,this.ga=new kc,this.pa={},this.ya=new Map,this.wa=Ju.Bn(),this.onlineState="Unknown",this.Sa=void 0}get isPrimaryClient(){return!0===this.Sa}}async function Ch(e,t){const n=Xh(e);let r,i;const o=n.Aa.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ta();else{const e=await Kc(n.localStore,Hs(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Ih(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Od(n.remoteStore,e)}return i}async function Ih(e,t,n,r,i){e.ba=(t,n,r)=>async function(e,t,n,r){let i=t.view._a(n);i.Hi&&(i=await Qc(e.localStore,t.query,!1).then((({documents:e})=>t.view._a(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return Fh(e,t.targetId,s.ha),s.snapshot}(e,t,n,r);const o=await Qc(e.localStore,t,!0),s=new wh(t,o._s),a=s._a(o.documents),l=ul.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,l);Fh(e,n,u.ha);const c=new Sh(t,n,s);return e.Aa.set(t,c),e.Ra.has(n)?e.Ra.get(n).push(t):e.Ra.set(n,[t]),u.snapshot}async function Th(e,t){const n=Vr(e),r=n.Aa.get(t),i=n.Ra.get(r.targetId);if(i.length>1)return n.Ra.set(r.targetId,i.filter((e=>!Gs(e,t)))),void n.Aa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Gc(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Pd(n.remoteStore,r.targetId),Lh(n,r.targetId)})).catch(bi)):(Lh(n,r.targetId),await Gc(n.localStore,r.targetId,!0))}async function Rh(e,t){const n=Vr(e);try{const e=await function(e,t){const n=Vr(e),r=t.snapshotVersion;let i=n.Zi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ts.newChangeBuffer({trackRemovals:!0});i=n.Zi;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Eo.EMPTY_BYTE_STRING,ri.min()).withLastLimboFreeSnapshotVersion(ri.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,o)&&s.push(n.Qr.updateTargetData(e,u))}));let a=ra(),l=ha();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Wc(e,o,t.documentUpdates).next((e=>{a=e.ss,l=e.os}))),!r.isEqual(ri.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return wi.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Zi=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.fa.get(t);r&&(jr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ea=!0:e.modifiedDocuments.size>0?jr(r.Ea):e.removedDocuments.size>0&&(jr(r.Ea),r.Ea=!1))})),await Uh(n,e,t)}catch(e){await bi(e)}}function xh(e,t,n){const r=Vr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Aa.forEach(((n,r)=>{const i=r.view.L_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Vr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.L_(t)&&(r=!0)})),r&&fh(n)}(r.eventManager,t),e.length&&r.da.s_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Oh(e,t,n){const r=Vr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.fa.get(t),o=i&&i.key;if(o){let e=new mo(li.comparator);e=e.insert(o,rs.newNoDocument(o,ri.min()));const n=ha().add(o),i=new ll(ri.min(),new Map,new mo(Zr),e,n);await Rh(r,i),r.ma=r.ma.remove(o),r.fa.delete(t),Vh(r)}else await Gc(r.localStore,t,!1).then((()=>Lh(r,t,n))).catch(bi)}async function Ph(e,t){const n=Vr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Vr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ts.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=wi.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);jr(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ha();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Dh(n,r,null),Nh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uh(n,e)}catch(e){await bi(e)}}async function Ah(e,t,n){const r=Vr(e);try{const e=await function(e,t){const n=Vr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(jr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Dh(r,t,n),Nh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Uh(r,e)}catch(n){await bi(n)}}function Nh(e,t){(e.ya.get(t)||[]).forEach((e=>{e.resolve()})),e.ya.delete(t)}function Dh(e,t,n){const r=Vr(e);let i=r.pa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.pa[r.currentUser.toKey()]=i}}function Lh(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ra.get(t))e.Aa.delete(r),n&&e.da.Da(r,n);e.Ra.delete(t),e.isPrimaryClient&&e.ga.Vr(t).forEach((t=>{e.ga.containsKey(t)||Mh(e,t)}))}function Mh(e,t){e.Va.delete(t.path.canonicalString());const n=e.ma.get(t);null!==n&&(Pd(e.remoteStore,n),e.ma=e.ma.remove(t),e.fa.delete(n),Vh(e))}function Fh(e,t,n){for(const r of n)r instanceof _h?(e.ga.addReference(r.key,t),jh(e,r)):r instanceof bh?(Nr("SyncEngine","Document no longer in limbo: "+r.key),e.ga.removeReference(r.key,t),e.ga.containsKey(r.key)||Mh(e,r.key)):Fr()}function jh(e,t){const n=t.key,r=n.path.canonicalString();e.ma.get(n)||e.Va.has(r)||(Nr("SyncEngine","New document in limbo: "+n),e.Va.add(r),Vh(e))}function Vh(e){for(;e.Va.size>0&&e.ma.size<e.maxConcurrentLimboResolutions;){const t=e.Va.values().next().value;e.Va.delete(t);const n=new li(oi.fromString(t)),r=e.wa.next();e.fa.set(r,new kh(n)),e.ma=e.ma.insert(n,r),Od(e.remoteStore,new Yl(Hs(js(n.path)),r,"TargetPurposeLimboResolution",Ni.ae))}}async function Uh(e,t,n){const r=Vr(e),i=[],o=[],s=[];r.Aa.isEmpty()||(r.Aa.forEach(((e,a)=>{s.push(r.ba(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Vc.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.da.s_(i),await async function(e,t){const n=Vr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>wi.forEach(t,(t=>wi.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>wi.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ii(e))throw e;Nr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Zi.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Zi=n.Zi.insert(e,i)}}}(r.localStore,o))}async function Bh(e,t){const n=Vr(e);if(!n.currentUser.isEqual(t)){Nr("SyncEngine","User change. New user:",t.toKey());const e=await zc(n.localStore,t);n.currentUser=t,function(e,t){e.ya.forEach((e=>{e.forEach((e=>{e.reject(new Br(Ur.CANCELLED,t))}))})),e.ya.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Uh(n,e.rs)}}function qh(e,t){const n=Vr(e),r=n.fa.get(t);if(r&&r.Ea)return ha().add(r.key);{let e=ha();const r=n.Ra.get(t);if(!r)return e;for(const t of r){const r=n.Aa.get(t);e=e.unionWith(r.view.oa)}return e}}async function zh(e,t){const n=Vr(e),r=await Qc(n.localStore,t.query,!0),i=t.view.Ia(r);return n.isPrimaryClient&&Fh(n,t.targetId,i.ha),i}async function Hh(e,t){const n=Vr(e);return Xc(n.localStore,t).then((e=>Uh(n,e)))}async function Wh(e,t,n,r){const i=Vr(e),o=await function(e,t){const n=Vr(e),r=Vr(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):wi.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await zd(i.remoteStore):"acknowledged"===n||"rejected"===n?(Dh(i,t,r||null),Nh(i,t),function(e,t){Vr(Vr(e).mutationQueue).Mn(t)}(i.localStore,t)):Fr(),await Uh(i,o)):Nr("SyncEngine","Cannot apply mutation batch with id: "+t)}async function $h(e,t,n){const r=Vr(e),i=[],o=[];for(const s of t){let e;const t=r.Ra.get(s);if(t&&0!==t.length){e=await Kc(r.localStore,Hs(t[0]));for(const e of t){const t=r.Aa.get(e),n=await zh(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await Yc(r.localStore,s);e=await Kc(r.localStore,t),await Ih(r,Kh(t),s,!1,e.resumeToken)}i.push(e)}return r.da.s_(o),i}function Kh(e){return Fs(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Gh(e){return function(e){return Vr(Vr(e).persistence).Li()}(Vr(e).localStore)}async function Qh(e,t,n,r){const i=Vr(e);if(i.Sa)return void Nr("SyncEngine","Ignoring unexpected query state notification.");const o=i.Ra.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Xc(i.localStore,Js(o[0])),r=ll.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Eo.EMPTY_BYTE_STRING);await Uh(i,e,r);break}case"rejected":await Gc(i.localStore,t,!0),Lh(i,t,r);break;default:Fr()}}async function Yh(e,t,n){const r=Xh(e);if(r.Sa){for(const e of t){if(r.Ra.has(e)){Nr("SyncEngine","Adding an already active target "+e);continue}const t=await Yc(r.localStore,e),n=await Kc(r.localStore,t);await Ih(r,Kh(t),n.targetId,!1,n.resumeToken),Od(r.remoteStore,n)}for(const e of n)r.Ra.has(e)&&await Gc(r.localStore,e,!1).then((()=>{Pd(r.remoteStore,e),Lh(r,e)})).catch(bi)}}function Xh(e){const t=Vr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Oh.bind(null,t),t.da.s_=dh.bind(null,t.eventManager),t.da.Da=hh.bind(null,t.eventManager),t}function Jh(e){const t=Vr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ph.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ah.bind(null,t),t}class Zh{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=bd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return qc(this.persistence,new Uc,e.initialUser,this.serializer)}createPersistence(e){return new xc(Pc.Hr,this.serializer)}createSharedClientState(e){return new ud}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ef extends Zh{constructor(e,t,n){super(),this.Ca=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ca.initialize(this,e),await Jh(this.Ca.syncEngine),await zd(this.Ca.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return qc(this.persistence,new Uc,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new oc(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Ai(t,this.persistence);return new Pi(e.asyncQueue,n)}createPersistence(e){const t=jc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Hu.withCacheSize(this.cacheSizeBytes):Hu.DEFAULT;return new Lc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,yd(),_d(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ud}}class tf extends ef{constructor(e,t){super(e,t,!1),this.Ca=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ca.syncEngine;this.sharedClientState instanceof ld&&(this.sharedClientState.syncEngine={js:Wh.bind(null,t),Hs:Qh.bind(null,t),Js:Yh.bind(null,t),Li:Gh.bind(null,t),zs:Hh.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=Vr(e);if(Xh(n),Jh(n),!0===t&&!0!==n.Sa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await $h(n,e.toArray());n.Sa=!0,await Zd(n.remoteStore,!0);for(const r of t)Od(n.remoteStore,r)}else if(!1===t&&!1!==n.Sa){const e=[];let t=Promise.resolve();n.Ra.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Lh(n,i),Gc(n.localStore,i,!0)))),Pd(n.remoteStore,i)})),await t,await $h(n,e),function(e){const t=Vr(e);t.fa.forEach(((e,n)=>{Pd(t.remoteStore,n)})),t.ga.mr(),t.fa=new Map,t.ma=new mo(li.comparator)}(n),n.Sa=!1,await Zd(n.remoteStore,!1)}}(this.Ca.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=yd();if(!ld.v(t))throw new Br(Ur.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=jc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ld(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class nf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>xh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bh.bind(null,this.syncEngine),await Zd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new lh}createDatastore(e){const t=bd(e.databaseInfo.databaseId),n=function(e){return new vd(e)}(e.databaseInfo);return function(e,t,n,r){return new Cd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Td(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>xh(this.syncEngine,e,0)),dd.v()?new dd:new cd)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Eh(e,t,n,r,i,o);return s&&(a.Sa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Vr(e);Nr("RemoteStore","RemoteStore shutting down."),t.S_.add(5),await xd(t),t.D_.shutdown(),t.v_.set("Unknown")}(this.remoteStore)}}function rf(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class of{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Fa(this.observer.next,e)}error(e){this.observer.error?this.Fa(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString())}Ma(){this.muted=!0}Fa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class sf{constructor(e,t){this.xa=e,this.serializer=t,this.metadata=new qr,this.buffer=new Uint8Array,this.Oa=new TextDecoder("utf-8"),this.Na().then((e=>{e&&e.H_()?this.metadata.resolve(e.j_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.j_)}`))}),(e=>this.metadata.reject(e)))}close(){return this.xa.cancel()}async getMetadata(){return this.metadata.promise}async va(){return await this.getMetadata(),this.Na()}async Na(){const e=await this.Ba();if(null===e)return null;const t=this.Oa.decode(e),n=Number(t);isNaN(n)&&this.La(`length string (${t}) is not valid number`);const r=await this.ka(n);return new gh(JSON.parse(r),e.length+n)}qa(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ba(){for(;this.qa()<0&&!await this.Qa(););if(0===this.buffer.length)return null;const e=this.qa();e<0&&this.La("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ka(e){for(;this.buffer.length<e;)await this.Qa()&&this.La("Reached the end of bundle when more is expected.");const t=this.Oa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}La(e){throw this.xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async Qa(){const e=await this.xa.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class af{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Br(Ur.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Vr(e),r=Al(n.serializer)+"/documents",i={documents:t.map((e=>Rl(n.serializer,e)))},o=await n.So("BatchGetDocuments",r,i,t.length),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){jr(!!t.found),t.found.name,t.found.updateTime;const n=xl(e,t.found.name),r=Cl(t.found.updateTime),i=t.found.createTime?Cl(t.found.createTime):ri.min(),o=new ts({mapValue:{fields:t.found.fields}});return rs.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){jr(!!t.missing),jr(!!t.readTime);const n=xl(e,t.missing),r=Cl(t.readTime);return rs.newNoDocument(n,r)}(e,t):Fr()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());jr(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Wa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=li.fromPath(t);this.mutations.push(new $a(n,this.precondition(n)))})),await async function(e,t){const n=Vr(e),r=Al(n.serializer)+"/documents",i={writes:t.map((e=>Ml(n.serializer,e)))};await n.fo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fr();t=ri.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Br(Ur.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ri.min())?Aa.exists(!1):Aa.updateTime(t):Aa.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ri.min()))throw new Br(Ur.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Aa.updateTime(t)}return Aa.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class lf{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Ka=n.maxAttempts,this.Uo=new wd(this.asyncQueue,"transaction_retry")}run(){this.Ka-=1,this.$a()}$a(){this.Uo.No((async()=>{const e=new af(this.datastore),t=this.Ua(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Wa(e)}))))})).catch((e=>{this.Wa(e)}))}))}Ua(e){try{const t=this.updateFunction(e);return!Di(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Wa(e){this.Ka>0&&this.Ga(e)?(this.Ka-=1,this.asyncQueue.enqueueAndForget((()=>(this.$a(),Promise.resolve())))):this.deferred.reject(e)}Ga(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Za(t)}return!1}}class uf{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=xr.UNAUTHENTICATED,this.clientId=Jr.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Nr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Nr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Br(Ur.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=rh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function cf(e,t){e.asyncQueue.verifyOperationInProgress(),Nr("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await zc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function df(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ff(e);Nr("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Jd(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Jd(t.remoteStore,n))),e._onlineComponents=t}function hf(e){return"FirebaseError"===e.name?e.code===Ur.FAILED_PRECONDITION||e.code===Ur.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function ff(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Nr("FirestoreClient","Using user provided OfflineComponentProvider");try{await cf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!hf(n))throw n;Lr("Error using user provided cache. Falling back to memory cache: "+n),await cf(e,new Zh)}}else Nr("FirestoreClient","Using default OfflineComponentProvider"),await cf(e,new Zh);return e._offlineComponents}async function pf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Nr("FirestoreClient","Using user provided OnlineComponentProvider"),await df(e,e._uninitializedComponentsProvider._online)):(Nr("FirestoreClient","Using default OnlineComponentProvider"),await df(e,new nf))),e._onlineComponents}function gf(e){return ff(e).then((e=>e.persistence))}function mf(e){return ff(e).then((e=>e.localStore))}function vf(e){return pf(e).then((e=>e.remoteStore))}function yf(e){return pf(e).then((e=>e.syncEngine))}function _f(e){return pf(e).then((e=>e.datastore))}async function bf(e){const t=await pf(e),n=t.eventManager;return n.onListen=Ch.bind(null,t.syncEngine),n.onUnlisten=Th.bind(null,t.syncEngine),n}function wf(e,t,n={}){const r=new qr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new of({next:o=>{t.enqueueAndForget((()=>ch(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Br(Ur.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Br(Ur.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new ph(js(n.path),o,{includeMetadataChanges:!0,z_:!0});return uh(e,s)}(await bf(e),e.asyncQueue,t,n,r))),r.promise}function Sf(e,t,n={}){const r=new qr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new of({next:n=>{t.enqueueAndForget((()=>ch(e,s))),n.fromCache&&"server"===r.source?i.reject(new Br(Ur.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new ph(n,o,{includeMetadataChanges:!0,z_:!0});return uh(e,s)}(await bf(e),e.asyncQueue,t,n,r))),r.promise}function kf(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?nl().encode(e):e,function(e,t){return new sf(e,t)}(function(e,t){if(e instanceof Uint8Array)return rf(e,t);if(e instanceof ArrayBuffer)return rf(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,bd(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Vr(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Vr(e),r=Cl(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(yh(r));const i=new vh(r,e.localStore,t.serializer);let o=await t.va();for(;o;){const e=await i.Y_(o);e&&n._updateProgress(e),o=await t.va()}const s=await i.complete();return await Uh(e,s.ea,void 0),await function(e,t){const n=Vr(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.X_)}catch(e){return Lr("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await yf(e),i,r)}))}function Ef(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Cf=new Map;function If(e,t,n){if(!n)throw new Br(Ur.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Tf(e,t,n,r){if(!0===t&&!0===r)throw new Br(Ur.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Rf(e){if(!li.isDocumentKey(e))throw new Br(Ur.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function xf(e){if(li.isDocumentKey(e))throw new Br(Ur.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Of(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Fr()}function Pf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Br(Ur.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Of(e);throw new Br(Ur.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Af(e,t){if(t<=0)throw new Br(Ur.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Nf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Br(Ur.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Br(Ur.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ef(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Br(Ur.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Br(Ur.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Br(Ur.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Br(Ur.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Br(Ur.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Hr;switch(e.type){case"firstParty":return new Gr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Br(Ur.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Cf.get(e);t&&(Nr("ComponentProvider","Removing Datastore"),Cf.delete(e),t.terminate())}(this),Promise.resolve()}}function Lf(e,t,n,r={}){var i;const o=(e=Pf(e,Df))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Lr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=xr.MOCK_USER;else{t=(0,l.createMockUserToken)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Br(Ur.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new xr(o)}e._authCredentials=new Wr(new zr(t,n))}}class Mf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Mf(this.firestore,e,this._query)}}class Ff{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ff(this.firestore,e,this._key)}}class jf extends Mf{constructor(e,t,n){super(e,t,js(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ff(this.firestore,null,new li(e))}withConverter(e){return new jf(this.firestore,e,this._path)}}function Vf(e,t,...n){if(e=(0,l.getModularInstance)(e),If("collection","path",t),e instanceof Df){const r=oi.fromString(t,...n);return xf(r),new jf(e,null,r)}{if(!(e instanceof Ff||e instanceof jf))throw new Br(Ur.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(oi.fromString(t,...n));return xf(r),new jf(e.firestore,null,r)}}function Uf(e,t,...n){if(e=(0,l.getModularInstance)(e),1===arguments.length&&(t=Jr.V()),If("doc","path",t),e instanceof Df){const r=oi.fromString(t,...n);return Rf(r),new Ff(e,null,new li(r))}{if(!(e instanceof Ff||e instanceof jf))throw new Br(Ur.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(oi.fromString(t,...n));return Rf(r),new Ff(e.firestore,e instanceof jf?e.converter:null,new li(r))}}function Bf(e,t){return e=(0,l.getModularInstance)(e),t=(0,l.getModularInstance)(t),(e instanceof Ff||e instanceof jf)&&(t instanceof Ff||t instanceof jf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function qf(e,t){return e=(0,l.getModularInstance)(e),t=(0,l.getModularInstance)(t),e instanceof Mf&&t instanceof Mf&&e.firestore===t.firestore&&Gs(e._query,t._query)&&e.converter===t.converter}class zf{constructor(){this.za=Promise.resolve(),this.ja=[],this.Ha=!1,this.Ja=[],this.Ya=null,this.Za=!1,this.Xa=!1,this.eu=[],this.Uo=new wd(this,"async_queue_retry"),this.tu=()=>{const e=_d();e&&Nr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Uo.Lo()};const e=_d();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.tu)}get isShuttingDown(){return this.Ha}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nu(),this.ru(e)}enterRestrictedMode(e){if(!this.Ha){this.Ha=!0,this.Xa=e||!1;const t=_d();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.tu)}}enqueue(e){if(this.nu(),this.Ha)return new Promise((()=>{}));const t=new qr;return this.ru((()=>this.Ha&&this.Xa?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ja.push(e),this.iu())))}async iu(){if(0!==this.ja.length){try{await this.ja[0](),this.ja.shift(),this.Uo.reset()}catch(e){if(!Ii(e))throw e;Nr("AsyncQueue","Operation failed with retryable error: "+e)}this.ja.length>0&&this.Uo.No((()=>this.iu()))}}ru(e){const t=this.za.then((()=>(this.Za=!0,e().catch((e=>{this.Ya=e,this.Za=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Dr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Za=!1,e))))));return this.za=t,t}enqueueAfterDelay(e,t,n){this.nu(),this.eu.indexOf(e)>-1&&(t=0);const r=nh.createAndSchedule(this,e,t,n,(e=>this.su(e)));return this.Ja.push(r),r}nu(){this.Ya&&Fr()}verifyOperationInProgress(){}async ou(){let e;do{e=this.za,await e}while(e!==this.za)}_u(e){for(const t of this.Ja)if(t.timerId===e)return!0;return!1}au(e){return this.ou().then((()=>{this.Ja.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Ja)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ou()}))}uu(e){this.eu.push(e)}su(e){const t=this.Ja.indexOf(e);this.Ja.splice(t,1)}}function Hf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Wf{constructor(){this._progressObserver={},this._taskCompletionResolver=new qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class $f extends Df{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new zf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gf(this),this._firestoreClient.terminate()}}function Kf(e){return e._firestoreClient||Gf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Gf(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Ao(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ef(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new uf(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Qf(e,t,n){const r=new qr;return e.asyncQueue.enqueue((async()=>{try{await cf(e,n),await df(e,t),r.resolve()}catch(e){const n=e;if(!hf(n))throw n;Lr("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function Yf(e){return function(e){const t=new qr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Vr(e);Md(n.remoteStore)||Nr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Vr(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ya.get(e)||[];r.push(t),n.ya.set(e,r)}catch(e){const n=rh(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await yf(e),t))),t.promise}(Kf(e=Pf(e,$f)))}function Xf(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await gf(e),n=await vf(e);return t.setNetworkEnabled(!0),function(e){const t=Vr(e);return t.S_.delete(0),Rd(t)}(n)}))}(Kf(e=Pf(e,$f)))}function Jf(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await gf(e),n=await vf(e);return t.setNetworkEnabled(!1),async function(e){const t=Vr(e);t.S_.add(0),await xd(t),t.v_.set("Offline")}(n)}))}(Kf(e=Pf(e,$f)))}function Zf(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Vr(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await mf(e),t)))}(Kf(e=Pf(e,$f)),t).then((t=>t?new Mf(e,null,t.query):null))}function ep(e){if(e._initialized||e._terminated)throw new Br(Ur.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tp(Eo.fromBase64String(e))}catch(e){throw new Br(Ur.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new tp(Eo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class np{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Br(Ur.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rp{constructor(e){this._methodName=e}}class ip{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Br(Ur.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Br(Ur.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zr(this._lat,e._lat)||Zr(this._long,e._long)}}const op=/^__.*__$/;class sp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ua(e,this.data,t,this.fieldTransforms)}}class ap{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fr()}}class up{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.cu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get lu(){return this.settings.lu}hu(e){return new up(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.hu({path:n,Iu:!1});return r.Tu(e),r}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.hu({path:n,Iu:!1});return r.cu(),r}du(e){return this.hu({path:void 0,Iu:!0})}Au(e){return xp(e,this.settings.methodName,this.settings.Ru||!1,this.path,this.settings.Vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}cu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Tu(this.path.get(e))}Tu(e){if(0===e.length)throw this.Au("Document fields must not be empty");if(lp(this.lu)&&op.test(e))throw this.Au('Document fields cannot begin and end with "__"')}}class cp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||bd(e)}mu(e,t,n,r=!1){return new up({lu:e,methodName:t,Vu:n,path:ai.emptyPath(),Iu:!1,Ru:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dp(e){const t=e._freezeSettings(),n=bd(e._databaseId);return new cp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hp(e,t,n,r,i,o={}){const s=e.mu(o.merge||o.mergeFields?2:0,t,n,i);Cp("Data must be an object, but it was:",s,r);const a=kp(r,s);let l,u;if(o.merge)l=new So(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Ip(t,r,n);if(!s.contains(i))throw new Br(Ur.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Op(e,i)||e.push(i)}l=new So(e),u=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=s.fieldTransforms;return new sp(new ts(a),l,u)}class fp extends rp{_toFieldTransform(e){if(2!==e.lu)throw 1===e.lu?e.Au(`${this._methodName}() can only appear at the top level of your update data`):e.Au(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fp}}function pp(e,t,n){return new up({lu:3,Vu:t.settings.Vu,methodName:e._methodName,Iu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class gp extends rp{_toFieldTransform(e){return new Oa(e.path,new Sa)}isEqual(e){return e instanceof gp}}class mp extends rp{constructor(e,t){super(e),this.fu=t}_toFieldTransform(e){const t=pp(this,e,!0),n=this.fu.map((e=>Sp(e,t))),r=new ka(n);return new Oa(e.path,r)}isEqual(e){return this===e}}class vp extends rp{constructor(e,t){super(e),this.fu=t}_toFieldTransform(e){const t=pp(this,e,!0),n=this.fu.map((e=>Sp(e,t))),r=new Ca(n);return new Oa(e.path,r)}isEqual(e){return this===e}}class yp extends rp{constructor(e,t){super(e),this.gu=t}_toFieldTransform(e){const t=new Ta(e.serializer,va(e.serializer,this.gu));return new Oa(e.path,t)}isEqual(e){return this===e}}function _p(e,t,n,r){const i=e.mu(1,t,n);Cp("Data must be an object, but it was:",i,r);const o=[],s=ts.empty();po(r,((e,r)=>{const a=Rp(t,e,n);r=(0,l.getModularInstance)(r);const u=i.Eu(a);if(r instanceof fp)o.push(a);else{const e=Sp(r,u);null!=e&&(o.push(a),s.set(a,e))}}));const a=new So(o);return new ap(s,a,i.fieldTransforms)}function bp(e,t,n,r,i,o){const s=e.mu(1,t,n),a=[Ip(t,r,n)],u=[i];if(o.length%2!=0)throw new Br(Ur.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let l=0;l<o.length;l+=2)a.push(Ip(t,o[l])),u.push(o[l+1]);const c=[],d=ts.empty();for(let f=a.length-1;f>=0;--f)if(!Op(c,a[f])){const e=a[f];let t=u[f];t=(0,l.getModularInstance)(t);const n=s.Eu(e);if(t instanceof fp)c.push(e);else{const r=Sp(t,n);null!=r&&(c.push(e),d.set(e,r))}}const h=new So(c);return new ap(d,h,s.fieldTransforms)}function wp(e,t,n,r=!1){return Sp(n,e.mu(r?4:3,t))}function Sp(e,t){if(Ep(e=(0,l.getModularInstance)(e)))return Cp("Unsupported field value:",t,e),kp(e,t);if(e instanceof rp)return function(e,t){if(!lp(t.lu))throw t.Au(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Au(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Iu&&4!==t.lu)throw t.Au("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Sp(i,t.du(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return va(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ni.fromDate(e);return{timestampValue:Sl(t.serializer,n)}}if(e instanceof ni){const n=new ni(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Sl(t.serializer,n)}}if(e instanceof ip)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tp)return{bytesValue:kl(t.serializer,e._byteString)};if(e instanceof Ff){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Au(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Il(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Au(`Unsupported field value: ${Of(e)}`)}(e,t)}function kp(e,t){const n={};return go(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):po(e,((e,r)=>{const i=Sp(r,t.Pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ep(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ni||e instanceof ip||e instanceof tp||e instanceof Ff||e instanceof rp)}function Cp(e,t,n){if(!Ep(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Of(n);throw"an object"===r?t.Au(e+" a custom object"):t.Au(e+" "+r)}}function Ip(e,t,n){if((t=(0,l.getModularInstance)(t))instanceof np)return t._internalPath;if("string"==typeof t)return Rp(e,t);throw xp("Field path arguments must be of type string or ",e,!1,void 0,n)}const Tp=new RegExp("[~\\*/\\[\\]]");function Rp(e,t,n){if(t.search(Tp)>=0)throw xp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new np(...t.split("."))._internalPath}catch(w){throw xp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function xp(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Br(Ur.INVALID_ARGUMENT,a+e+l)}function Op(e,t){return e.some((e=>e.isEqual(t)))}class Pp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ff(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ap(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Np("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ap extends Pp{data(){return super.data()}}function Np(e,t){return"string"==typeof t?Rp(e,t):t instanceof np?t._internalPath:t._delegate._internalPath}function Dp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Br(Ur.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lp{}class Mp extends Lp{}function Fp(e,t,...n){let r=[];t instanceof Lp&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof Vp)).length,n=e.filter((e=>e instanceof jp)).length;if(t>1||t>0&&n>0)throw new Br(Ur.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class jp extends Mp{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new jp(e,t,n)}_apply(e){const t=this._parse(e);return Kp(e._query,t),new Mf(e.firestore,e.converter,$s(e._query,t))}_parse(e){const t=dp(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Br(Ur.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){$p(s,o);const t=[];for(const n of s)t.push(Wp(r,e,n));a={arrayValue:{values:t}}}else a=Wp(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||$p(s,o),a=wp(n,t,s,"in"===o||"not-in"===o);return cs.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Vp extends Lp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vp(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:ds.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Kp(n,i),n=$s(n,i)}(e._query,t),new Mf(e.firestore,e.converter,$s(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Up extends Mp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Up(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Br(Ur.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Br(Ur.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new as(t,n);return function(e,t){if(null===Us(e)){const n=Bs(e);null!==n&&Gp(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Mf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ms(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Bp extends Mp{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Bp(e,t,n)}_apply(e){return new Mf(e.firestore,e.converter,Ks(e._query,this._limit,this._limitType))}}class qp extends Mp{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new qp(e,t,n)}_apply(e){const t=Hp(e,this.type,this._docOrFields,this._inclusive);return new Mf(e.firestore,e.converter,function(e,t){return new Ms(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class zp extends Mp{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new zp(e,t,n)}_apply(e){const t=Hp(e,this.type,this._docOrFields,this._inclusive);return new Mf(e.firestore,e.converter,function(e,t){return new Ms(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Hp(e,t,n,r){if(n[0]=(0,l.getModularInstance)(n[0]),n[0]instanceof Pp)return function(e,t,n,r,i){if(!r)throw new Br(Ur.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const s of zs(e))if(s.field.isKeyField())o.push(zo(t,r.key));else{const e=r.data.field(s.field);if(xo(e))throw new Br(Ur.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Br(Ur.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new is(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=dp(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Br(Ur.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new Br(Ur.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof o}`);if(!qs(e)&&-1!==o.indexOf("/"))throw new Br(Ur.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${o}' contains a slash.`);const n=e.path.child(oi.fromString(o));if(!li.isDocumentKey(n))throw new Br(Ur.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new li(n);a.push(zo(t,i))}else{const e=wp(n,r,o);a.push(e)}}return new is(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Wp(e,t,n){if("string"==typeof(n=(0,l.getModularInstance)(n))){if(""===n)throw new Br(Ur.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qs(t)&&-1!==n.indexOf("/"))throw new Br(Ur.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(oi.fromString(n));if(!li.isDocumentKey(r))throw new Br(Ur.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zo(e,new li(r))}if(n instanceof Ff)return zo(e,n._key);throw new Br(Ur.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Of(n)}.`)}function $p(e,t){if(!Array.isArray(e)||0===e.length)throw new Br(Ur.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Kp(e,t){if(t.isInequality()){const n=Bs(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Br(Ur.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=Us(e);null!==i&&Gp(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Br(Ur.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Br(Ur.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Gp(e,t,n){if(!n.isEqual(t))throw new Br(Ur.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Qp{convertValue(e,t="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return To(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return po(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new ip(To(e.latitude),To(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Oo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){const t=Io(e);return new ni(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=oi.fromString(e);jr(Ql(n));const r=new No(n.get(1),n.get(3)),i=new li(n.popFirst(5));return r.isEqual(t)||Dr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Yp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Xp extends Qp{constructor(e){super(),this.firestore=e}convertBytes(e){return new tp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ff(this.firestore,null,t)}}class Jp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zp extends Pp{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new eg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Np("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class eg extends Zp{data(e={}){return super.data(e)}}class tg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Jp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new eg(this._firestore,this._userDataWriter,n.key,n,new Jp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Br(Ur.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new eg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Jp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new eg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:ng(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ng(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fr()}}function rg(e,t){return e instanceof Zp&&t instanceof Zp?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof tg&&t instanceof tg&&e._firestore===t._firestore&&qf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class ig extends Qp{constructor(e){super(),this.firestore=e}convertBytes(e){return new tp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ff(this.firestore,null,t)}}function og(e){e=Pf(e,Ff);const t=Pf(e.firestore,$f),n=Kf(t),r=new ig(t);return function(e,t){const n=new qr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Vr(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Br(Ur.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=rh(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await mf(e),t,n))),n.promise}(n,e._key).then((n=>new Zp(t,r,e._key,n,new Jp(null!==n&&n.hasLocalMutations,!0),e.converter)))}function sg(e){e=Pf(e,Mf);const t=Pf(e.firestore,$f),n=Kf(t),r=new ig(t);return function(e,t){const n=new qr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Qc(e,t,!0),i=new wh(t,r._s),o=i._a(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=rh(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await mf(e),t,n))),n.promise}(n,e._query).then((n=>new tg(t,r,e,n)))}function ag(e,t,n){e=Pf(e,Ff);const r=Pf(e.firestore,$f),i=Yp(e.converter,t,n);return dg(r,[hp(dp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Aa.none())])}function lg(e,t,n,...r){e=Pf(e,Ff);const i=Pf(e.firestore,$f),o=dp(i);let s;return s="string"==typeof(t=(0,l.getModularInstance)(t))||t instanceof np?bp(o,"updateDoc",e._key,t,n,r):_p(o,"updateDoc",e._key,t),dg(i,[s.toMutation(e._key,Aa.exists(!0))])}function ug(e,...t){var n,r,i;e=(0,l.getModularInstance)(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||Hf(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Hf(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,c,d;if(e instanceof Ff)c=Pf(e.firestore,$f),d=js(e._key.path),u={next:n=>{t[s]&&t[s](hg(c,e,n))},error:t[s+1],complete:t[s+2]};else{const n=Pf(e,Mf);c=Pf(n.firestore,$f),d=n._query;const r=new ig(c);u={next:e=>{t[s]&&t[s](new tg(c,r,n,e))},error:t[s+1],complete:t[s+2]},Dp(e._query)}return function(e,t,n,r){const i=new of(r),o=new ph(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>uh(await bf(e),o))),()=>{i.Ma(),e.asyncQueue.enqueueAndForget((async()=>ch(await bf(e),o)))}}(Kf(c),d,a,u)}function cg(e,t){return function(e,t){const n=new of(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Vr(e).B_.add(t),t.next()}(await bf(e),n))),()=>{n.Ma(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Vr(e).B_.delete(t)}(await bf(e),n)))}}(Kf(e=Pf(e,$f)),Hf(t)?t:{next:t})}function dg(e,t){return function(e,t){const n=new qr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Jh(e);try{const e=await function(e,t){const n=Vr(e),r=ni.now(),i=t.reduce(((e,t)=>e.add(t.key)),ha());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=ra(),l=ha();return n.ts.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=ja(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Ba(e.key,t,ns(t.value.mapValue),Aa.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:sa(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.pa[e.currentUser.toKey()];r||(r=new mo(Zr)),r=r.insert(t,n),e.pa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Uh(r,e.changes),await zd(r.remoteStore)}catch(e){const t=rh(e,"Failed to persist write");n.reject(t)}}(await yf(e),t,n))),n.promise}(Kf(e),t)}function hg(e,t,n){const r=n.docs.get(t._key),i=new ig(e);return new Zp(e,i,t._key,r,new Jp(n.hasPendingWrites,n.fromCache),t.converter)}const fg={maxAttempts:5};class pg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=dp(e)}set(e,t,n){this._verifyNotCommitted();const r=gg(e,this._firestore),i=Yp(r.converter,t,n),o=hp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Aa.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=gg(e,this._firestore);let o;return o="string"==typeof(t=(0,l.getModularInstance)(t))||t instanceof np?bp(this._dataReader,"WriteBatch.update",i._key,t,n,r):_p(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,Aa.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=gg(e,this._firestore);return this._mutations=this._mutations.concat(new Wa(t._key,Aa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Br(Ur.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gg(e,t){if((e=(0,l.getModularInstance)(e)).firestore!==t)throw new Br(Ur.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class mg extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=dp(e)}get(e){const t=gg(e,this._firestore),n=new Xp(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Fr();const r=e[0];if(r.isFoundDocument())return new Pp(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Pp(this._firestore,n,t._key,null,t.converter);throw Fr()}))}set(e,t,n){const r=gg(e,this._firestore),i=Yp(r.converter,t,n),o=hp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n,...r){const i=gg(e,this._firestore);let o;return o="string"==typeof(t=(0,l.getModularInstance)(t))||t instanceof np?bp(this._dataReader,"Transaction.update",i._key,t,n,r):_p(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=gg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=gg(e,this._firestore),n=new ig(this._firestore);return super.get(e).then((e=>new Zp(this._firestore,n,t._key,e._document,new Jp(!1,!1),t.converter)))}}!function(e,t=!0){!function(e){Or=e}(o.SDK_VERSION),(0,o._registerComponent)(new s.Component("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new $f(new $r(e.getProvider("auth-internal")),new Yr(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Br(Ur.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(Rr,"4.1.2",e),(0,o.registerVersion)(Rr,"4.1.2","esm2017")}();function vg(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Br("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function yg(){if("undefined"===typeof Uint8Array)throw new Br("unimplemented","Uint8Arrays are not available in this environment.")}function _g(){if("undefined"==typeof atob)throw new Br("unimplemented","Blobs are unavailable in Firestore in this environment.")}class bg{constructor(e){this._delegate=e}static fromBase64String(e){return _g(),new bg(tp.fromBase64String(e))}static fromUint8Array(e){return yg(),new bg(tp.fromUint8Array(e))}toBase64(){return _g(),this._delegate.toBase64()}toUint8Array(){return yg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function wg(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Sg{enableIndexedDbPersistence(e,t){return function(e,t){ep(e=Pf(e,$f));const n=Kf(e);if(n._uninitializedComponentsProvider)throw new Br(Ur.FAILED_PRECONDITION,"SDK cache is already specified.");Lr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new nf;return Qf(n,i,new ef(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){ep(e=Pf(e,$f));const t=Kf(e);if(t._uninitializedComponentsProvider)throw new Br(Ur.FAILED_PRECONDITION,"SDK cache is already specified.");Lr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new nf;return Qf(t,r,new tf(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Br(Ur.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new qr;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!ki.v())return Promise.resolve();const t=e+"main";await ki.delete(t)}(jc(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class kg{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof No||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Lr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){Lf(this._delegate,e,t,n)}enableNetwork(){return Xf(this._delegate)}disableNetwork(){return Jf(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Tf("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Yf(this._delegate)}onSnapshotsInSync(e){return cg(this._delegate,e)}get app(){if(!this._appCompat)throw new Br("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fg(this,Vf(this._delegate,e))}catch(t){throw xg(t,"collection()","Firestore.collection()")}}doc(e){try{return new Rg(this,Uf(this._delegate,e))}catch(t){throw xg(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Dg(this,function(e,t){if(e=Pf(e,Df),If("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Br(Ur.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Mf(e,null,function(e){return new Ms(oi.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw xg(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Pf(e,$f);const r=Object.assign(Object.assign({},fg),n);return function(e){if(e.maxAttempts<1)throw new Br(Ur.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new qr;return e.asyncQueue.enqueueAndForget((async()=>{const i=await _f(e);new lf(e.asyncQueue,i,n,t,r).run()})),r.promise}(Kf(e),(n=>t(new mg(e,n))),r)}(this._delegate,(t=>e(new Cg(this,t))))}batch(){return Kf(this._delegate),new Ig(new pg(this._delegate,(e=>dg(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Kf(e=Pf(e,$f)),r=new Wf;return kf(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return Zf(this._delegate,e).then((e=>e?new Dg(this,e):null))}}class Eg extends Qp{constructor(e){super(),this.firestore=e}convertBytes(e){return new bg(new tp(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Rg.forKey(t,this.firestore,null)}}class Cg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Eg(e)}get(e){const t=jg(e);return this._delegate.get(t).then((e=>new Ag(this._firestore,new Zp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=jg(e);return n?(vg("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=jg(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=jg(e);return this._delegate.delete(t),this}}class Ig{constructor(e){this._delegate=e}set(e,t,n){const r=jg(e);return n?(vg("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=jg(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=jg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Tg{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new eg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ng(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Tg.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Tg(e,new Eg(e),t),r.set(t,i)),i}}Tg.INSTANCES=new WeakMap;class Rg{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Eg(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Br("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Rg(t,new Ff(t._delegate,n,new li(e)))}static forKey(e,t,n){return new Rg(t,new Ff(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Fg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fg(this.firestore,Vf(this._delegate,e))}catch(t){throw xg(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,l.getModularInstance)(e))instanceof Ff&&Bf(this._delegate,e)}set(e,t){t=vg("DocumentReference.set",t);try{return t?ag(this._delegate,e,t):ag(this._delegate,e)}catch(n){throw xg(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?lg(this._delegate,e):lg(this._delegate,e,t,...n)}catch(r){throw xg(r,"updateDoc()","DocumentReference.update()")}}delete(){return dg(Pf((e=this._delegate).firestore,$f),[new Wa(e._key,Aa.none())]);var e}onSnapshot(...e){const t=Og(e),n=Pg(e,(e=>new Ag(this.firestore,new Zp(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return ug(this._delegate,t,n)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?og(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Pf(e,Ff);const t=Pf(e.firestore,$f);return wf(Kf(t),e._key,{source:"server"}).then((n=>hg(t,e,n)))}(this._delegate):function(e){e=Pf(e,Ff);const t=Pf(e.firestore,$f);return wf(Kf(t),e._key).then((n=>hg(t,e,n)))}(this._delegate),t.then((e=>new Ag(this.firestore,new Zp(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Rg(this.firestore,e?this._delegate.withConverter(Tg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function xg(e,t,n){return e.message=e.message.replace(t,n),e}function Og(e){for(const t of e)if("object"===typeof t&&!wg(t))return t;return{}}function Pg(e,t){var n,r;let i;return i=wg(e[0])?e[0]:wg(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Ag{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Rg(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return rg(this._delegate,e._delegate)}}class Ng extends Ag{data(e){const t=this._delegate.data(e);return void 0!==t||Fr(),t}}class Dg{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Eg(e)}where(e,t,n){try{return new Dg(this.firestore,Fp(this._delegate,function(e,t,n){const r=t,i=Np("where",e);return jp._create(i,r,n)}(e,t,n)))}catch(r){throw xg(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Dg(this.firestore,Fp(this._delegate,function(e,t="asc"){const n=t,r=Np("orderBy",e);return Up._create(r,n)}(e,t)))}catch(n){throw xg(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Dg(this.firestore,Fp(this._delegate,(Af("limit",t=e),Bp._create("limit",t,"F"))))}catch(t){throw xg(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new Dg(this.firestore,Fp(this._delegate,(Af("limitToLast",t=e),Bp._create("limitToLast",t,"L"))))}catch(t){throw xg(t,"limitToLast()","Query.limitToLast()")}var t}startAt(...e){try{return new Dg(this.firestore,Fp(this._delegate,function(...e){return qp._create("startAt",e,!0)}(...e)))}catch(t){throw xg(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Dg(this.firestore,Fp(this._delegate,function(...e){return qp._create("startAfter",e,!1)}(...e)))}catch(t){throw xg(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Dg(this.firestore,Fp(this._delegate,function(...e){return zp._create("endBefore",e,!1)}(...e)))}catch(t){throw xg(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Dg(this.firestore,Fp(this._delegate,function(...e){return zp._create("endAt",e,!0)}(...e)))}catch(t){throw xg(t,"endAt()","Query.endAt()")}}isEqual(e){return qf(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?sg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Pf(e,Mf);const t=Pf(e.firestore,$f),n=Kf(t),r=new ig(t);return Sf(n,e._query,{source:"server"}).then((n=>new tg(t,r,e,n)))}(this._delegate):function(e){e=Pf(e,Mf);const t=Pf(e.firestore,$f),n=Kf(t),r=new ig(t);return Dp(e._query),Sf(n,e._query).then((n=>new tg(t,r,e,n)))}(this._delegate),t.then((e=>new Mg(this.firestore,new tg(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=Og(e),n=Pg(e,(e=>new Mg(this.firestore,new tg(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return ug(this._delegate,t,n)}withConverter(e){return new Dg(this.firestore,e?this._delegate.withConverter(Tg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Lg{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ng(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Mg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Dg(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Ng(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Lg(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Ng(this._firestore,n))}))}isEqual(e){return rg(this._delegate,e._delegate)}}class Fg extends Dg{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Rg(this.firestore,e):null}doc(e){try{return new Rg(this.firestore,void 0===e?Uf(this._delegate):Uf(this._delegate,e))}catch(t){throw xg(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Pf(e.firestore,$f),r=Uf(e),i=Yp(e.converter,t);return dg(n,[hp(dp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Aa.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new Rg(this.firestore,e)))}isEqual(e){return Bf(this._delegate,e._delegate)}withConverter(e){return new Fg(this.firestore,e?this._delegate.withConverter(Tg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jg(e){return Pf(e,Ff)}class Vg{constructor(...e){this._delegate=new np(...e)}static documentId(){return new Vg(ai.keyField().canonicalString())}isEqual(e){return(e=(0,l.getModularInstance)(e))instanceof np&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ug{constructor(e){this._delegate=e}static serverTimestamp(){const e=new gp("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Ug(e)}static delete(){const e=new fp("deleteField");return e._methodName="FieldValue.delete",new Ug(e)}static arrayUnion(...e){const t=function(...e){return new mp("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new Ug(t)}static arrayRemove(...e){const t=function(...e){return new vp("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new Ug(t)}static increment(e){const t=new yp("increment",e);return t._methodName="FieldValue.increment",new Ug(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Bg={Firestore:kg,GeoPoint:ip,Timestamp:ni,Blob:bg,Transaction:Cg,WriteBatch:Ig,DocumentReference:Rg,DocumentSnapshot:Ag,Query:Dg,QueryDocumentSnapshot:Ng,QuerySnapshot:Mg,CollectionReference:Fg,FieldPath:Vg,FieldValue:Ug,setLogLevel:function(e){var t;t=e,Pr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){var t;t=(e,t)=>new kg(e,t,new Sg),e.INTERNAL.registerComponent(new s.Component("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Bg))),e.registerVersion("@firebase/firestore-compat","0.3.16")}(i.default)},9381:(e,t,n)=>{"use strict";n.r(t);var r=n(7512),i=n(6147),o=n(7496),s=n(4230);const a="firebasestorage.googleapis.com",l="storageBucket";class u extends o.FirebaseError{constructor(e,t,n=0){super(h(e),`Firebase Storage: ${t} (${h(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,u.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return h(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var c,d;function h(e){return"storage/"+e}function f(){return new u(c.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function p(){return new u(c.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function g(){return new u(c.CANCELED,"User canceled the upload/download.")}function m(){return new u(c.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function v(e){return new u(c.INVALID_ARGUMENT,e)}function y(){return new u(c.APP_DELETED,"The Firebase app was deleted.")}function _(e){return new u(c.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function b(e,t){return new u(c.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function w(e){throw new u(c.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(c||(c={}));class S{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=S.makeFromUrl(e,t)}catch(i){return new S(e,"")}if(""===n.path)return n;throw r=e,new u(c.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),l=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===a?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let a=0;a<l.length;a++){const t=l[a],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new S(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new u(c.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class k{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function E(e){return"string"===typeof e||e instanceof String}function C(e){return I()&&e instanceof Blob}function I(){return"undefined"!==typeof Blob&&!(0,o.isNode)()}function T(e,t,n,r){if(r<t)throw v(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw v(`Invalid value for '${e}'. Expected ${n} or less.`)}function R(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function x(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function O(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(d||(d={}));class P{constructor(e,t,n,r,i,o,s,a,l,u,c,d=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new A(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===d.NO_ERROR,i=n.getStatus();if(!t||O(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===d.ABORT;return void e(!1,new A(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new A(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(o){r(o)}else if(null!==i){const e=f();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?y():g())}else{r(p())}};this.canceled_?t(0,new A(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let u=!1;function c(...e){u||(u=!0,t.apply(null,e))}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e,...t){if(u)return void h();if(e)return h(),void c.call(null,e,...t);if(l()||s)return h(),void c.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),d(n)}let p=!1;function g(e){p||(p=!0,h(),u||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class A{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function N(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function D(...e){const t=N();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(I())return new Blob(e);throw new u(c.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function L(e){if("undefined"===typeof atob)throw t="base-64",new u(c.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const M={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class F{constructor(e,t){this.data=e,this.contentType=t||null}}function j(e,t){switch(e){case M.RAW:return new F(V(t));case M.BASE64:case M.BASE64URL:return new F(U(e,t));case M.DATA_URL:return new F(function(e){const t=new B(e);return t.base64?U(M.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw b(M.DATA_URL,"Malformed data URL.")}return V(t)}(t.rest)}(t),new B(t).contentType)}throw f()}function V(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function U(e,t){switch(e){case M.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw b(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case M.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw b(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=L(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw b(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class B{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw b(M.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class q{constructor(e,t){let n=0,r="";C(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(C(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new q(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new q(n,!0)}}static getBlob(...e){if(I()){const t=e.map((e=>e instanceof q?e.data_:e));return new q(D.apply(null,t))}{const t=e.map((e=>E(e)?j(M.RAW,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new q(r,!0)}}uploadData(){return this.data_}}function z(e){let t;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function H(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function W(e,t){return t}class ${constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||W}}let K=null;function G(){if(K)return K;const e=[];e.push(new $("bucket")),e.push(new $("generation")),e.push(new $("metageneration")),e.push(new $("name","fullPath",!0));const t=new $("name");t.xform=function(e,t){return function(e){return!E(e)||e.length<2?e:H(e)}(t)},e.push(t);const n=new $("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new $("timeCreated")),e.push(new $("updated")),e.push(new $("md5Hash",null,!0)),e.push(new $("cacheControl",null,!0)),e.push(new $("contentDisposition",null,!0)),e.push(new $("contentEncoding",null,!0)),e.push(new $("contentLanguage",null,!0)),e.push(new $("contentType",null,!0)),e.push(new $("metadata","customMetadata",!0)),K=e,K}function Q(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new S(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Y(e,t,n){const r=z(t);if(null===r)return null;return Q(e,r,n)}function X(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const J="prefixes",Z="items";function ee(e,t,n){const r=z(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[J])for(const i of n[J]){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new S(t,n));r.prefixes.push(o)}if(n[Z])for(const i of n[Z]){const n=e._makeStorageReference(new S(t,i.name));r.items.push(n)}return r}(e,t,r)}class te{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ne(e){if(!e)throw f()}function re(e,t){return function(n,r){const i=Y(e,r,t);return ne(null!==i),i}}function ie(e,t){return function(n,r){const i=Y(e,r,t);return ne(null!==i),function(e,t,n,r){const i=z(t);if(null===i)return null;if(!E(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return R("/b/"+s(i)+"/o/"+s(o),n,r)+x({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function oe(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new u(c.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new u(c.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new u(c.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new u(c.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function se(e){const t=oe(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new u(c.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function ae(e,t,n){const r=R(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new te(r,"GET",re(e,n),i);return o.errorHandler=se(t),o}function le(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=R(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new te(s,"GET",function(e,t){return function(n,r){const i=ee(e,t,r);return ne(null!==i),i}}(e,t.bucket),a);return l.urlParams=o,l.errorHandler=oe(t),l}function ue(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ce(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=ue(t,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+X(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+a+"--",d=q.getBlob(u,r,c);if(null===d)throw m();const h={name:l.fullPath},f=R(o,e.host,e._protocol),p=e.maxUploadRetryTime,g=new te(f,"POST",re(e,n),p);return g.urlParams=h,g.headers=s,g.body=d.uploadData(),g.errorHandler=oe(t),g}class de{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function he(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){ne(!1)}return ne(!!n&&-1!==(t||["active"]).indexOf(n)),n}const fe=262144;function pe(e,t,n,r,i,o,s,a){const l=new de(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new u(c.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const d=l.total-l.current;let h=d;i>0&&(h=Math.min(h,i));const f=l.current,p=f+h;let g="";g=0===h?"finalize":d===h?"upload, finalize":"upload";const v={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(f,p);if(null===y)throw m();const _=t.maxUploadRetryTime,b=new te(n,"POST",(function(e,n){const i=he(e,["active","final"]),s=l.current+h,a=r.size();let u;return u="final"===i?re(t,o)(e,n):null,new de(s,a,"final"===i,u)}),_);return b.headers=v,b.body=y.uploadData(),b.progressCallback=a||null,b.errorHandler=oe(e),b}const ge={STATE_CHANGED:"state_changed"},me={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ve(e){switch(e){case"running":case"pausing":case"canceling":return me.RUNNING;case"paused":return me.PAUSED;case"success":return me.SUCCESS;case"canceled":return me.CANCELED;default:return me.ERROR}}class ye{constructor(e,t,n){if("function"===typeof e||null!=t||null!=n)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function _e(e){return(...t)=>{Promise.resolve().then((()=>e(...t)))}}let be=null;class we{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=d.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=d.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=d.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw w("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw w("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw w("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Se extends we{initXhr(){this.xhr_.responseType="text"}}function ke(){return be?be():new Se}class Ee{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=G(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(c.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(O(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=p()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(c.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=ue(t,r,i),a={name:s.fullPath},l=R(o,e.host,e._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},c=X(s,n),d=e.maxUploadRetryTime,h=new te(l,"POST",(function(e){let t;he(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){ne(!1)}return ne(E(t)),t}),d);return h.urlParams=a,h.headers=u,h.body=c,h.errorHandler=oe(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,ke,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new te(n,"POST",(function(e){const t=he(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){ne(!1)}n||ne(!1);const i=Number(n);return ne(!isNaN(i)),new de(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=oe(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,ke,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=fe*this._chunkMultiplier,t=new de(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=pe(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const s=this._ref.storage._makeRequest(o,ke,r,i,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(fe*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=ae(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,ke,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=ce(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,ke,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=g(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ve(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new ye(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ve(this._state)){case me.SUCCESS:_e(this._resolve.bind(null,this.snapshot))();break;case me.CANCELED:case me.ERROR:_e(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ve(this._state)){case me.RUNNING:case me.PAUSED:e.next&&_e(e.next.bind(e,this.snapshot))();break;case me.SUCCESS:e.complete&&_e(e.complete.bind(e))();break;default:e.error&&_e(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ce{constructor(e,t){this._service=e,this._location=t instanceof S?t:S.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ce(e,t)}get root(){const e=new S(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new S(this._location.bucket,e);return new Ce(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw _(e)}}function Ie(e){const t={prefixes:[],items:[]};return Te(e,t).then((()=>t))}async function Te(e,t,n){const r={pageToken:n},i=await Re(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await Te(e,t,i.nextPageToken)}function Re(e,t){null!=t&&"number"===typeof t.maxResults&&T("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=le(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,ke)}function xe(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=R(t.fullServerUrl(),e.host,e._protocol),o=X(n,r),s=e.maxOperationRetryTime,a=new te(i,"PATCH",re(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=se(t),a}(e.storage,e._location,t,G());return e.storage.makeRequestWithTokens(n,ke)}function Oe(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=R(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new te(r,"GET",ie(e,n),i);return o.errorHandler=se(t),o}(e.storage,e._location,G());return e.storage.makeRequestWithTokens(t,ke).then((e=>{if(null===e)throw new u(c.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Pe(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=R(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new te(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=se(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ke)}function Ae(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new S(e._location.bucket,n);return new Ce(e.storage,r)}function Ne(e,t){if(e instanceof Me){const n=e;if(null==n._bucket)throw new u(c.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+l+"' property when initializing the app?");const r=new Ce(n,n._bucket);return null!=t?Ne(r,t):r}return void 0!==t?Ae(e,t):e}function De(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Me)return new Ce(e,t);throw v("To use ref(service, url), the first argument must be a Storage instance.")}return Ne(e,t)}function Le(e,t){const n=null===t||void 0===t?void 0:t[l];return null==n?null:S.makeFromBucketSpec(n,e)}class Me{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=a,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?S.makeFromBucketSpec(r,this._host):Le(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=S.makeFromBucketSpec(this._url,e):this._bucket=Le(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ce(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new k(y());{const o=function(e,t,n,r,i,o,s=!0){const a=x(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new P(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Fe="@firebase/storage",je="0.11.2",Ve="storage";function Ue(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ee(e,new q(t),n)}(e=(0,o.getModularInstance)(e),t,n)}function Be(e){return function(e){e._throwIfRoot("getMetadata");const t=ae(e.storage,e._location,G());return e.storage.makeRequestWithTokens(t,ke)}(e=(0,o.getModularInstance)(e))}function qe(e,t){return De(e=(0,o.getModularInstance)(e),t)}function ze(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:(0,o.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}function He(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Me(n,r,o,t,i.SDK_VERSION)}(0,i._registerComponent)(new s.Component(Ve,He,"PUBLIC").setMultipleInstances(!0)),(0,i.registerVersion)(Fe,je,""),(0,i.registerVersion)(Fe,je,"esm2017");class We{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class $e{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new We(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new We(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new We(e,this,this._ref)):{next:t.next?e=>t.next(new We(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class Ke{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new Ge(e,this._service)))}get items(){return this._delegate.items.map((e=>new Ge(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ge{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return Ae(e,t)}(this._delegate,e);return new Ge(t,this.storage)}get root(){return new Ge(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ge(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new $e(Ue(this._delegate,e,t),this)}putString(e,t=M.RAW,n){this._throwIfRoot("putString");const r=j(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new $e(new Ee(this._delegate,new q(r.data,!0),i),this)}listAll(){return function(e){return Ie(e=(0,o.getModularInstance)(e))}(this._delegate).then((e=>new Ke(e,this.storage)))}list(e){return function(e,t){return Re(e=(0,o.getModularInstance)(e),t)}(this._delegate,e||void 0).then((e=>new Ke(e,this.storage)))}getMetadata(){return Be(this._delegate)}updateMetadata(e){return function(e,t){return xe(e=(0,o.getModularInstance)(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return Oe(e=(0,o.getModularInstance)(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return Pe(e=(0,o.getModularInstance)(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw _(e)}}class Qe{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Ye(e))throw v("ref() expected a child path but got a URL, use refFromURL instead.");return new Ge(qe(this._delegate,e),this)}refFromURL(e){if(!Ye(e))throw v("refFromURL() expected a full URL but got a child path, use ref() instead.");try{S.makeFromUrl(e,this._delegate.host)}catch(t){throw v("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ge(qe(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,n={}){ze(this._delegate,e,t,n)}}function Ye(e){return/^[A-Za-z]+:\/\//.test(e)}function Xe(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("storage").getImmediate({identifier:t});return new Qe(n,r)}!function(e){const t={TaskState:me,TaskEvent:ge,StringFormat:M,Storage:Qe,Reference:Ge};e.INTERNAL.registerComponent(new s.Component("storage-compat",Xe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(r.default)},7012:(e,t,n)=>{"use strict";n.r(t),n.d(t,{customAlphabet:()=>r,nanoid:()=>i});let r=(e,t=21)=>(n=t)=>{let r="",i=n;for(;i--;)r+=e[Math.random()*e.length|0];return r},i=(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t}},907:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t),n.d(t,{default:()=>r})},7326:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.r(t),n.d(t,{default:()=>r})},5861:(e,t,n)=>{"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,l,"next",e)}function l(e){r(s,i,o,a,l,"throw",e)}a(void 0)}))}}n.r(t),n.d(t,{default:()=>i})},5671:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.r(t),n.d(t,{default:()=>r})},3144:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.default)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},8906:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=(0,r.default)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},4942:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(9142);function i(e,t,n){return(t=(0,r.default)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.r(t),n.d(t,{default:()=>r})},1752:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(1120);function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.default)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(this,arguments)}},1120:(e,t,n)=>{"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.r(t),n.d(t,{default:()=>r})},136:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.default)(e,t)}},1413:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5987:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,o=(0,r.default)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},3366:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.r(t),n.d(t,{default:()=>r})},2963:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(1002),i=n(7326);function o(e,t){if(t&&("object"===(0,r.default)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.default)(e)}},9611:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.r(t),n.d(t,{default:()=>r})},885:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(e,t)||(0,r.default)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(907);var i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.default)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.default)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.default)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.default)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.default)(t)?t:String(t)}},1002:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.r(t),n.d(t,{default:()=>r})},181:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.default)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.default)(e,t):void 0}}}}]);
//# sourceMappingURL=173.50050941.js.map